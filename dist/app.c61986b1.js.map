{"version":3,"sources":["../node_modules/animejs/lib/anime.es.js","../node_modules/xstate/es/_virtual/_tslib.js","../node_modules/xstate/es/types.js","../node_modules/xstate/es/actionTypes.js","../node_modules/xstate/es/constants.js","../node_modules/xstate/es/environment.js","../node_modules/xstate/es/utils.js","../node_modules/xstate/es/actions.js","../node_modules/xstate/es/serviceScope.js","../node_modules/xstate/es/Actor.js","../node_modules/xstate/es/stateUtils.js","../node_modules/xstate/es/State.js","../node_modules/xstate/es/scheduler.js","../node_modules/xstate/es/registry.js","../node_modules/xstate/es/devTools.js","../node_modules/xstate/es/behaviors.js","../node_modules/xstate/es/interpreter.js","../node_modules/xstate/es/invokeUtils.js","../node_modules/xstate/es/StateNode.js","../node_modules/xstate/es/Machine.js","../node_modules/xstate/es/mapState.js","../node_modules/xstate/es/match.js","../node_modules/xstate/es/schema.js","../node_modules/xstate/es/index.js","scripts/state.ts","scripts/constants.ts","scripts/menu.ts","scripts/card.ts","app.ts","../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["defaultInstanceSettings","update","begin","loopBegin","changeBegin","change","changeComplete","loopComplete","complete","loop","direction","autoplay","timelineOffset","defaultTweenSettings","duration","delay","endDelay","easing","round","validTransforms","cache","CSS","springs","minMax","val","min","max","Math","stringContains","str","text","indexOf","applyArguments","func","args","apply","is","arr","a","Array","isArray","obj","Object","prototype","toString","call","pth","hasOwnProperty","svg","SVGElement","inp","HTMLInputElement","dom","nodeType","fnc","und","nil","hex","test","rgb","hsl","col","key","parseEasingParameters","string","match","exec","split","map","p","parseFloat","spring","params","mass","stiffness","damping","velocity","w0","sqrt","zeta","wd","b","solver","t","progress","exp","cos","sin","getDuration","cached","frame","elapsed","rest","steps","ceil","bezier","kSplineTableSize","kSampleStepSize","A","aA1","aA2","B","C","calcBezier","aT","getSlope","binarySubdivide","aX","aA","aB","mX1","mX2","currentX","currentT","i","abs","newtonRaphsonIterate","aGuessT","currentSlope","mY1","mY2","sampleValues","Float32Array","getTForX","intervalStart","currentSample","lastSample","dist","guessForT","initialSlope","x","penner","eases","linear","functionEasings","Sine","PI","Circ","Back","Bounce","pow2","pow","Elastic","amplitude","period","asin","baseEasings","forEach","name","keys","easeIn","parseEasings","ease","selectString","nodes","document","querySelectorAll","e","filterArray","callback","len","length","thisArg","arguments","result","push","flattenArray","reduce","concat","toArray","o","NodeList","HTMLCollection","slice","arrayContains","some","cloneObject","clone","replaceObjectProps","o1","o2","mergeObjects","rgbToRgba","rgbValue","hexToRgba","hexValue","rgx","replace","m","r","g","parseInt","hslToRgba","hslValue","h","s","l","hue2rgb","q","colorToRgb","getUnit","getTransformUnit","propName","getFunctionValue","animatable","target","id","total","getAttribute","el","prop","convertPxToUnit","value","unit","valueUnit","baseline","tempEl","createElement","tagName","parentEl","parentNode","body","appendChild","style","position","width","factor","offsetWidth","removeChild","convertedUnit","getCSSValue","uppercasePropName","toLowerCase","getComputedStyle","getPropertyValue","getAnimationType","getElementTransforms","transform","reg","transforms","Map","set","getTransformValue","defaultVal","get","list","getOriginalTargetValue","getRelativeValue","to","from","operator","u","y","validateValue","originalUnit","unitLess","substr","getDistance","p1","p2","getCircleLength","getRectLength","getLineLength","getPolylineLength","points","totalLength","previousPos","numberOfItems","currentPos","getItem","getPolygonLength","getTotalLength","setDashoffset","pathLength","setAttribute","getParentSvgEl","getParentSvg","pathEl","svgData","parentSvgEl","rect","getBoundingClientRect","viewBoxAttr","height","viewBox","w","vW","vH","getPath","path","percent","property","getPathProgress","isPathTargetInsideSVG","point","offset","getPointAtLength","p0","scaleX","scaleY","atan2","decomposeValue","original","numbers","Number","strings","parseTargets","targets","targetsArray","item","pos","self","getAnimatables","parsed","normalizePropertyTweens","tweenSettings","settings","isFromTo","propArray","v","k","flattenKeyframes","keyframes","propertyNames","properties","newKey","getProperties","tweens","normalizeTweenValues","tween","normalizeTweens","previousTween","tweenValue","toUnit","originalValue","previousValue","fromUnit","start","end","isPath","isColor","setProgressValue","css","attribute","object","manual","last","setTargetsValue","animatables","animType","createAnimation","lastTween","type","getAnimations","getInstanceTimings","animations","animLength","getTlOffset","anim","timings","instanceID","createNewInstance","instanceSettings","children","activeInstances","engine","raf","play","isDocumentHidden","anime","suspendWhenDocumentHidden","requestAnimationFrame","step","activeInstancesLength","activeInstance","paused","tick","splice","undefined","handleVisibilityChange","cancelAnimationFrame","instance","_onDocumentVisibility","addEventListener","hidden","startTime","lastTime","now","childrenLength","resolve","makePromise","promise","window","Promise","_resolve","finished","toggleInstanceDirection","reversed","child","adjustTime","time","resetTime","currentTime","speed","seekChild","seek","syncInstanceChildren","reversePlayback","i$1","setAnimationsProgress","insTime","animationsLength","tweenLength","eased","isNaN","toNumbersLength","n","toNumber","fromNumber","stringsLength","n$1","currentValue","setCallback","cb","passThrough","countIteration","remaining","setInstanceProgress","engineTime","insDuration","insDelay","insEndDelay","began","loopBegan","changeBegan","changeCompleted","completed","reset","pause","reverse","restart","remove","removeTargetsFromInstance","removeTargetsFromAnimations","c","childAnimations","removeTargetsFromActiveInstances","stagger","grid","axis","fromIndex","fromFirst","fromCenter","fromLast","isRange","val1","val2","values","maxValue","index","fromX","fromY","floor","toX","toY","distanceX","distanceY","spacing","timeline","tl","add","instanceParams","tlIndex","ins","insParams","tlDuration","version","running","convertPx","random","__assign","assign","__rest","getOwnPropertySymbols","propertyIsEnumerable","__values","Symbol","iterator","next","done","TypeError","__read","ar","error","__spreadArray","pack","ActionTypes","SpecialTargets","Start","stop","Stop","raise","Raise","send","Send","cancel","Cancel","nullEvent","NullEvent","Assign","after","After","doneState","DoneState","log","Log","init","Init","invoke","Invoke","errorExecution","ErrorExecution","errorPlatform","ErrorPlatform","ErrorCustom","Update","choose","Choose","pure","Pure","STATE_DELIMITER","EMPTY_ACTIVITY_MAP","DEFAULT_GUARD_TYPE","TARGETLESS_KEY","IS_PRODUCTION","_a","matchesState","parentStateId","childStateId","delimiter","parentStateValue","toStateValue","childStateValue","isString","every","getEventType","event","Error","getActionType","action","isFunction","toStatePath","stateId","isStateLike","state","stateValue","pathToStateValue","statePath","marker","mapValues","collection","iteratee","collectionKeys","mapFilterValues","predicate","e_1","_b","_c","e_1_1","return","props","e_2","props_1","props_1_1","e_2_1","nestedPath","accessorProp","e_3","props_2","props_2_1","e_3_1","toStatePaths","flatten","subStateValue","subPath","pathsToStateValue","paths","e_4","paths_1","paths_1_1","currentPath","e_4_1","array","toArrayStrict","mapContext","mapper","context","_event","e_5","data","subMapper","e_5_1","isBuiltInEvent","eventType","isPromiseLike","then","isBehavior","transition","partition","items","e_6","truthy","falsy","items_1","items_1_1","e_6_1","updateHistoryStates","hist","states","subHist","current","updateHistoryValue","updateContext","assignActions","warn","updatedContext","acc","assignAction","e_7","assignment","meta","partialUpdate","propAssignment","e_7_1","condition","message","console","toGuard","guardMap","isObservable","subscribe","symbolObservable","observable","interopSymbols","isMachine","isActor","uniqueId","currentId","toEventObject","payload","toSCXMLEvent","scxmlEvent","$$type","eventObject","toTransitionConfigArray","configLike","transitions","transitionLike","normalizeTarget","reportUnhandledExceptionOnInvocation","originalError","currentError","originalStackTrace","stack","stackTrace","evaluateGuard","machine","guard","guards","options","guardMeta","cond","condFn","toInvokeSource","src","toObserver","nextHandler","errorHandler","completionHandler","noop","isObserver","bind","createInvokeId","stateNodeId","initEvent","getActionFunction","actionType","actionFunctionMap","toActionObject","actionObject","toActionObjects","actions","subAction","toActivityDefinition","Internal","raise$1","resolveRaise","send$1","resolveSend","ctx","delaysMap","resolvedEvent","resolvedDelay","configDelay","resolvedTarget","sendParent","Parent","sendTo","actor","sendUpdate","respond","_","__","origin","defaultLogExpr","expr","label","log$1","resolveLog","sendId","cancel$1","activity","activityDef","actorRef","resolveStop","actorRefOrString","resolvedActorRef","assign$1","isActionObject","delayRef","idSuffix","doneInvoke","DoneInvoke","getActions","forwardTo","originalTarget_1","_i","escalate","errorData","error$1","conds","pluckAssigns","actionBlocks","actionBlocks_1","actionBlocks_1_1","block","resolveActions","currentState","currentContext","predictableExec","preserveActionOrder","preservedContexts","deferredToBlockEnd","handleAction","sendAction","delays","resolved","choose$1","chooseAction","matchedActions","find","resolvedActionsFromChoose","resolvedContextFromChoose","pure$1","resolvedActionsFromPure","resolvedContext","stop$1","resolvedActionObject","exec_1","contextIndex_1","_ctx","processBlock","resolvedActions","block_1","block_1_1","serviceStack","provide","service","fn","pop","consume","createNullActor","unsubscribe","getSnapshot","toJSON","createInvocableActor","invokeDefinition","invokeSrc","serviceCreator","services","resolvedData","tempActor","createDeferredActor","entity","deferred","initialState_1","withContext","initialState","isSpawnedActor","toActorRef","actorRefLike","isLeafNode","stateNode","getAllChildren","getChildren","filter","sn","getAllStateNodes","stateNodes","getConfiguration","prevStateNodes","_d","prevConfiguration","Set","prevAdjList","getAdjList","configuration","configuration_1","configuration_1_1","parent","has","adjList","configuration_2","configuration_2_1","initialStateNodes","_e","_f","configuration_3","configuration_3_1","getValueFromAdj","baseNode","childStateNodes","childStateNode","csn","configuration_4","configuration_4_1","getValue","rootNode","config","iterable","member","nextEvents","ownEvents","isInFinalState","getMeta","getTagsFromConfiguration","tags","stateValuesEqual","aKeys","bKeys","isStateConfig","isState","bindActionToState","boundAction","State","_this","activities","events","_sessionid","historyValue","history","matches","toStrings","defineProperty","create","inert","valueKeys","jsonValues","hasTag","tag","can","transitionData","getTransitionData","defaultOptions","deferEvents","Scheduler","processingEvent","queue","initialized","initialize","schedule","process","flushEvents","task","clear","nextCallback","shift","sessionIdIndex","registry","bookId","register","free","delete","getGlobal","globalThis","global","getDevTools","__xstate__","registerService","devTools","fromReducer","fromPromise","promiseFn","status","observers","observer","reason","spawnBehavior","behavior","mailbox","flushing","flush","event_1","actorCtx","handleError","DEFAULT_SPAWN_OPTIONS","sync","autoForward","InterpreterStatus","Interpreter","delayedEventsMap","listeners","contextListeners","stopListeners","doneListeners","eventListeners","sendListeners","NotStarted","_outgoingQueue","batch","Stopped","JSON","stringify","Running","scheduler","forward","nextState","_nextState","_state","immediate","isParent","sessionId","predictableActionArguments","_exec","actionOrExec","err","defer","invokeSource","source","spawn","spawnActivity","stopChild","logger","resolvedOptions","clock","resolvedId","_initialState","enumerable","configurable","execute","actionsConfig","listener","_g","_h","_j","_k","contextListener","finalChildStateNode","doneData","_l","_m","_stop","_stopChildren","onTransition","nextListenerOrObserver","completeListener","completeOnce","onDone","onStop","onEvent","onSend","onChange","off","_init","resolvedState","resolveState","attachDev","e_8","e_9","e_10","e_8_1","_o","e_9_1","_p","_q","clearTimeout","e_10_1","exitActions","sort","order","onExit","newState","changed","e_11","batchChanged","batchedActions","_loop_1","events_1","events_1_1","e_11_1","sender","nextEvent","e_12","e_12_1","setTimeout","childId","spawnPromise","spawnCallback","spawnActor","spawnObservable","spawnMachine","childService","doneEvent","canceled","response","errorEvent","strict","unsubscribed","receivers","emitted","receive","callbackStop","newListener","receiver","subscription","implementation","dispose","spawnEffect","__REDUX_DEVTOOLS_EXTENSION__","devToolsOptions","connect","autoPause","stateSanitizer","features","jump","skip","ms","interpret","resolveSpawnOptions","nameOrOptions","isLazyEntity","interpreter","simpleSrc","toInvokeDefinition","invokeConfig","onError","invokeDef","NULL_EVENT","STATE_IDENTIFIER","WILDCARD","EMPTY_OBJECT","isStateId","createDefaultOptions","validateArrayifiedTransitions","hasNonLastUnguardedTarget","eventText","StateNode","_context","_stateInfo","__xstatenode","__cache","relativeValue","initialStateValue","on","candidates","delayedTransitions","idMap","join","parallel","schema","description","initial","stateConfig","dfs","_transient","always","onEntry","entry","exit","invokeId","withConfig","definition","getDelayedTransitions","formatTransitions","getCandidates","eventName","transient","sameEventType","afterConfig","mutateEntryExit","configTransition","resolvedTransition","delayedTransition","formatTransition","getStateNodes","getStateNode","subStateKeys","subStateNodes","subStateKey","handles","includes","stateFromConfig","transitionLeafNode","transitionCompoundNode","_transition","transitionParallelNode","transitionMap","subStateNode","stateTransitions","enabledTransitions","st","willTransition","entryNodes","entrySet","exitSet","nextStateNodes","selectedTransition","candidate","stateIn","in","isInState","getStateNodeById","guardPassed","allNextStateNodes","getRelativeStateNodes","isInternal","internal","reentryNodes","targetNode","getExternalReentryNodes","possibleAncestor","resolvedConfig","isDone","prevState","prevConfig","resolvedConfig_1","resolvedConfig_1_1","prevConfig_1","prevConfig_1_1","doneEvents","grandparent","entryStates","exitStates","entryActions","invokeActions","stopActions","resolvedStateValue","getResolvedPath","stateTransition","resolveTransition","resolveRaisedTransition","originalEvent","currentActions","unshift","resolvedConfiguration","start$1","raisedEvents","nonRaisedActions","didUpdateContext","hasAlwaysTransitions","maybeNextState","raisedEvent","stateKey","resolvedStateId","getStateNodeByPath","arrayStatePath","currentStateNode","stateIdentifier","getInitialState","historyConfig","relativeStateId","resolveHistory","initialStateNodePaths","initialPath","getFromRelativePath","relativePath","childStatePath","relativeStateValue","historyTarget","relativeChildPath","subHistoryValue","subStatePath","childStateIds","stateIds","resolveTarget","_target","isInternalTarget","targetStateNode","transitionConfig","normalizedTarget","onConfig","wildcardConfigs","strictTransitionConfigs_1","transitionConfigArray","eventlessConfig","doneConfig","String","settleTransitions","formattedTransitions","delayedTransitions_1","delayedTransitions_1_1","warned","Machine","initialContext","createMachine","mapState","stateMap","foundStateId","mappedStateId","matchState","patterns","defaultValue","patterns_1","patterns_1_1","createSchema","sendParent$1","sendUpdate$1","forwardTo$1","doneInvoke$1","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","parse","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","parcelRequire","generated","js","hmrApply","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","overlay","createErrorOverlay","getElementById","innerText","innerHTML","getParents","modules","parents","d","dep","Function","deps"],"mappings":"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","file":"app.c61986b1.js","sourceRoot":"..\\src","sourcesContent":["/*\n * anime.js v3.2.1\n * (c) 2020 Julian Garnier\n * Released under the MIT license\n * animejs.com\n */\n\n// Defaults\n\nvar defaultInstanceSettings = {\n  update: null,\n  begin: null,\n  loopBegin: null,\n  changeBegin: null,\n  change: null,\n  changeComplete: null,\n  loopComplete: null,\n  complete: null,\n  loop: 1,\n  direction: 'normal',\n  autoplay: true,\n  timelineOffset: 0\n};\n\nvar defaultTweenSettings = {\n  duration: 1000,\n  delay: 0,\n  endDelay: 0,\n  easing: 'easeOutElastic(1, .5)',\n  round: 0\n};\n\nvar validTransforms = ['translateX', 'translateY', 'translateZ', 'rotate', 'rotateX', 'rotateY', 'rotateZ', 'scale', 'scaleX', 'scaleY', 'scaleZ', 'skew', 'skewX', 'skewY', 'perspective', 'matrix', 'matrix3d'];\n\n// Caching\n\nvar cache = {\n  CSS: {},\n  springs: {}\n};\n\n// Utils\n\nfunction minMax(val, min, max) {\n  return Math.min(Math.max(val, min), max);\n}\n\nfunction stringContains(str, text) {\n  return str.indexOf(text) > -1;\n}\n\nfunction applyArguments(func, args) {\n  return func.apply(null, args);\n}\n\nvar is = {\n  arr: function (a) { return Array.isArray(a); },\n  obj: function (a) { return stringContains(Object.prototype.toString.call(a), 'Object'); },\n  pth: function (a) { return is.obj(a) && a.hasOwnProperty('totalLength'); },\n  svg: function (a) { return a instanceof SVGElement; },\n  inp: function (a) { return a instanceof HTMLInputElement; },\n  dom: function (a) { return a.nodeType || is.svg(a); },\n  str: function (a) { return typeof a === 'string'; },\n  fnc: function (a) { return typeof a === 'function'; },\n  und: function (a) { return typeof a === 'undefined'; },\n  nil: function (a) { return is.und(a) || a === null; },\n  hex: function (a) { return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a); },\n  rgb: function (a) { return /^rgb/.test(a); },\n  hsl: function (a) { return /^hsl/.test(a); },\n  col: function (a) { return (is.hex(a) || is.rgb(a) || is.hsl(a)); },\n  key: function (a) { return !defaultInstanceSettings.hasOwnProperty(a) && !defaultTweenSettings.hasOwnProperty(a) && a !== 'targets' && a !== 'keyframes'; },\n};\n\n// Easings\n\nfunction parseEasingParameters(string) {\n  var match = /\\(([^)]+)\\)/.exec(string);\n  return match ? match[1].split(',').map(function (p) { return parseFloat(p); }) : [];\n}\n\n// Spring solver inspired by Webkit Copyright © 2016 Apple Inc. All rights reserved. https://webkit.org/demos/spring/spring.js\n\nfunction spring(string, duration) {\n\n  var params = parseEasingParameters(string);\n  var mass = minMax(is.und(params[0]) ? 1 : params[0], .1, 100);\n  var stiffness = minMax(is.und(params[1]) ? 100 : params[1], .1, 100);\n  var damping = minMax(is.und(params[2]) ? 10 : params[2], .1, 100);\n  var velocity =  minMax(is.und(params[3]) ? 0 : params[3], .1, 100);\n  var w0 = Math.sqrt(stiffness / mass);\n  var zeta = damping / (2 * Math.sqrt(stiffness * mass));\n  var wd = zeta < 1 ? w0 * Math.sqrt(1 - zeta * zeta) : 0;\n  var a = 1;\n  var b = zeta < 1 ? (zeta * w0 + -velocity) / wd : -velocity + w0;\n\n  function solver(t) {\n    var progress = duration ? (duration * t) / 1000 : t;\n    if (zeta < 1) {\n      progress = Math.exp(-progress * zeta * w0) * (a * Math.cos(wd * progress) + b * Math.sin(wd * progress));\n    } else {\n      progress = (a + b * progress) * Math.exp(-progress * w0);\n    }\n    if (t === 0 || t === 1) { return t; }\n    return 1 - progress;\n  }\n\n  function getDuration() {\n    var cached = cache.springs[string];\n    if (cached) { return cached; }\n    var frame = 1/6;\n    var elapsed = 0;\n    var rest = 0;\n    while(true) {\n      elapsed += frame;\n      if (solver(elapsed) === 1) {\n        rest++;\n        if (rest >= 16) { break; }\n      } else {\n        rest = 0;\n      }\n    }\n    var duration = elapsed * frame * 1000;\n    cache.springs[string] = duration;\n    return duration;\n  }\n\n  return duration ? solver : getDuration;\n\n}\n\n// Basic steps easing implementation https://developer.mozilla.org/fr/docs/Web/CSS/transition-timing-function\n\nfunction steps(steps) {\n  if ( steps === void 0 ) steps = 10;\n\n  return function (t) { return Math.ceil((minMax(t, 0.000001, 1)) * steps) * (1 / steps); };\n}\n\n// BezierEasing https://github.com/gre/bezier-easing\n\nvar bezier = (function () {\n\n  var kSplineTableSize = 11;\n  var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\n  function A(aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1 }\n  function B(aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1 }\n  function C(aA1)      { return 3.0 * aA1 }\n\n  function calcBezier(aT, aA1, aA2) { return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT }\n  function getSlope(aT, aA1, aA2) { return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1) }\n\n  function binarySubdivide(aX, aA, aB, mX1, mX2) {\n    var currentX, currentT, i = 0;\n    do {\n      currentT = aA + (aB - aA) / 2.0;\n      currentX = calcBezier(currentT, mX1, mX2) - aX;\n      if (currentX > 0.0) { aB = currentT; } else { aA = currentT; }\n    } while (Math.abs(currentX) > 0.0000001 && ++i < 10);\n    return currentT;\n  }\n\n  function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n    for (var i = 0; i < 4; ++i) {\n      var currentSlope = getSlope(aGuessT, mX1, mX2);\n      if (currentSlope === 0.0) { return aGuessT; }\n      var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n      aGuessT -= currentX / currentSlope;\n    }\n    return aGuessT;\n  }\n\n  function bezier(mX1, mY1, mX2, mY2) {\n\n    if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) { return; }\n    var sampleValues = new Float32Array(kSplineTableSize);\n\n    if (mX1 !== mY1 || mX2 !== mY2) {\n      for (var i = 0; i < kSplineTableSize; ++i) {\n        sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n      }\n    }\n\n    function getTForX(aX) {\n\n      var intervalStart = 0;\n      var currentSample = 1;\n      var lastSample = kSplineTableSize - 1;\n\n      for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n        intervalStart += kSampleStepSize;\n      }\n\n      --currentSample;\n\n      var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n      var guessForT = intervalStart + dist * kSampleStepSize;\n      var initialSlope = getSlope(guessForT, mX1, mX2);\n\n      if (initialSlope >= 0.001) {\n        return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n      } else if (initialSlope === 0.0) {\n        return guessForT;\n      } else {\n        return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n      }\n\n    }\n\n    return function (x) {\n      if (mX1 === mY1 && mX2 === mY2) { return x; }\n      if (x === 0 || x === 1) { return x; }\n      return calcBezier(getTForX(x), mY1, mY2);\n    }\n\n  }\n\n  return bezier;\n\n})();\n\nvar penner = (function () {\n\n  // Based on jQuery UI's implemenation of easing equations from Robert Penner (http://www.robertpenner.com/easing)\n\n  var eases = { linear: function () { return function (t) { return t; }; } };\n\n  var functionEasings = {\n    Sine: function () { return function (t) { return 1 - Math.cos(t * Math.PI / 2); }; },\n    Circ: function () { return function (t) { return 1 - Math.sqrt(1 - t * t); }; },\n    Back: function () { return function (t) { return t * t * (3 * t - 2); }; },\n    Bounce: function () { return function (t) {\n      var pow2, b = 4;\n      while (t < (( pow2 = Math.pow(2, --b)) - 1) / 11) {}\n      return 1 / Math.pow(4, 3 - b) - 7.5625 * Math.pow(( pow2 * 3 - 2 ) / 22 - t, 2)\n    }; },\n    Elastic: function (amplitude, period) {\n      if ( amplitude === void 0 ) amplitude = 1;\n      if ( period === void 0 ) period = .5;\n\n      var a = minMax(amplitude, 1, 10);\n      var p = minMax(period, .1, 2);\n      return function (t) {\n        return (t === 0 || t === 1) ? t : \n          -a * Math.pow(2, 10 * (t - 1)) * Math.sin((((t - 1) - (p / (Math.PI * 2) * Math.asin(1 / a))) * (Math.PI * 2)) / p);\n      }\n    }\n  };\n\n  var baseEasings = ['Quad', 'Cubic', 'Quart', 'Quint', 'Expo'];\n\n  baseEasings.forEach(function (name, i) {\n    functionEasings[name] = function () { return function (t) { return Math.pow(t, i + 2); }; };\n  });\n\n  Object.keys(functionEasings).forEach(function (name) {\n    var easeIn = functionEasings[name];\n    eases['easeIn' + name] = easeIn;\n    eases['easeOut' + name] = function (a, b) { return function (t) { return 1 - easeIn(a, b)(1 - t); }; };\n    eases['easeInOut' + name] = function (a, b) { return function (t) { return t < 0.5 ? easeIn(a, b)(t * 2) / 2 : \n      1 - easeIn(a, b)(t * -2 + 2) / 2; }; };\n    eases['easeOutIn' + name] = function (a, b) { return function (t) { return t < 0.5 ? (1 - easeIn(a, b)(1 - t * 2)) / 2 : \n      (easeIn(a, b)(t * 2 - 1) + 1) / 2; }; };\n  });\n\n  return eases;\n\n})();\n\nfunction parseEasings(easing, duration) {\n  if (is.fnc(easing)) { return easing; }\n  var name = easing.split('(')[0];\n  var ease = penner[name];\n  var args = parseEasingParameters(easing);\n  switch (name) {\n    case 'spring' : return spring(easing, duration);\n    case 'cubicBezier' : return applyArguments(bezier, args);\n    case 'steps' : return applyArguments(steps, args);\n    default : return applyArguments(ease, args);\n  }\n}\n\n// Strings\n\nfunction selectString(str) {\n  try {\n    var nodes = document.querySelectorAll(str);\n    return nodes;\n  } catch(e) {\n    return;\n  }\n}\n\n// Arrays\n\nfunction filterArray(arr, callback) {\n  var len = arr.length;\n  var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\n  var result = [];\n  for (var i = 0; i < len; i++) {\n    if (i in arr) {\n      var val = arr[i];\n      if (callback.call(thisArg, val, i, arr)) {\n        result.push(val);\n      }\n    }\n  }\n  return result;\n}\n\nfunction flattenArray(arr) {\n  return arr.reduce(function (a, b) { return a.concat(is.arr(b) ? flattenArray(b) : b); }, []);\n}\n\nfunction toArray(o) {\n  if (is.arr(o)) { return o; }\n  if (is.str(o)) { o = selectString(o) || o; }\n  if (o instanceof NodeList || o instanceof HTMLCollection) { return [].slice.call(o); }\n  return [o];\n}\n\nfunction arrayContains(arr, val) {\n  return arr.some(function (a) { return a === val; });\n}\n\n// Objects\n\nfunction cloneObject(o) {\n  var clone = {};\n  for (var p in o) { clone[p] = o[p]; }\n  return clone;\n}\n\nfunction replaceObjectProps(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o1) { o[p] = o2.hasOwnProperty(p) ? o2[p] : o1[p]; }\n  return o;\n}\n\nfunction mergeObjects(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o2) { o[p] = is.und(o1[p]) ? o2[p] : o1[p]; }\n  return o;\n}\n\n// Colors\n\nfunction rgbToRgba(rgbValue) {\n  var rgb = /rgb\\((\\d+,\\s*[\\d]+,\\s*[\\d]+)\\)/g.exec(rgbValue);\n  return rgb ? (\"rgba(\" + (rgb[1]) + \",1)\") : rgbValue;\n}\n\nfunction hexToRgba(hexValue) {\n  var rgx = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n  var hex = hexValue.replace(rgx, function (m, r, g, b) { return r + r + g + g + b + b; } );\n  var rgb = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  var r = parseInt(rgb[1], 16);\n  var g = parseInt(rgb[2], 16);\n  var b = parseInt(rgb[3], 16);\n  return (\"rgba(\" + r + \",\" + g + \",\" + b + \",1)\");\n}\n\nfunction hslToRgba(hslValue) {\n  var hsl = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(hslValue) || /hsla\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%,\\s*([\\d.]+)\\)/g.exec(hslValue);\n  var h = parseInt(hsl[1], 10) / 360;\n  var s = parseInt(hsl[2], 10) / 100;\n  var l = parseInt(hsl[3], 10) / 100;\n  var a = hsl[4] || 1;\n  function hue2rgb(p, q, t) {\n    if (t < 0) { t += 1; }\n    if (t > 1) { t -= 1; }\n    if (t < 1/6) { return p + (q - p) * 6 * t; }\n    if (t < 1/2) { return q; }\n    if (t < 2/3) { return p + (q - p) * (2/3 - t) * 6; }\n    return p;\n  }\n  var r, g, b;\n  if (s == 0) {\n    r = g = b = l;\n  } else {\n    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    var p = 2 * l - q;\n    r = hue2rgb(p, q, h + 1/3);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1/3);\n  }\n  return (\"rgba(\" + (r * 255) + \",\" + (g * 255) + \",\" + (b * 255) + \",\" + a + \")\");\n}\n\nfunction colorToRgb(val) {\n  if (is.rgb(val)) { return rgbToRgba(val); }\n  if (is.hex(val)) { return hexToRgba(val); }\n  if (is.hsl(val)) { return hslToRgba(val); }\n}\n\n// Units\n\nfunction getUnit(val) {\n  var split = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(val);\n  if (split) { return split[1]; }\n}\n\nfunction getTransformUnit(propName) {\n  if (stringContains(propName, 'translate') || propName === 'perspective') { return 'px'; }\n  if (stringContains(propName, 'rotate') || stringContains(propName, 'skew')) { return 'deg'; }\n}\n\n// Values\n\nfunction getFunctionValue(val, animatable) {\n  if (!is.fnc(val)) { return val; }\n  return val(animatable.target, animatable.id, animatable.total);\n}\n\nfunction getAttribute(el, prop) {\n  return el.getAttribute(prop);\n}\n\nfunction convertPxToUnit(el, value, unit) {\n  var valueUnit = getUnit(value);\n  if (arrayContains([unit, 'deg', 'rad', 'turn'], valueUnit)) { return value; }\n  var cached = cache.CSS[value + unit];\n  if (!is.und(cached)) { return cached; }\n  var baseline = 100;\n  var tempEl = document.createElement(el.tagName);\n  var parentEl = (el.parentNode && (el.parentNode !== document)) ? el.parentNode : document.body;\n  parentEl.appendChild(tempEl);\n  tempEl.style.position = 'absolute';\n  tempEl.style.width = baseline + unit;\n  var factor = baseline / tempEl.offsetWidth;\n  parentEl.removeChild(tempEl);\n  var convertedUnit = factor * parseFloat(value);\n  cache.CSS[value + unit] = convertedUnit;\n  return convertedUnit;\n}\n\nfunction getCSSValue(el, prop, unit) {\n  if (prop in el.style) {\n    var uppercasePropName = prop.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n    var value = el.style[prop] || getComputedStyle(el).getPropertyValue(uppercasePropName) || '0';\n    return unit ? convertPxToUnit(el, value, unit) : value;\n  }\n}\n\nfunction getAnimationType(el, prop) {\n  if (is.dom(el) && !is.inp(el) && (!is.nil(getAttribute(el, prop)) || (is.svg(el) && el[prop]))) { return 'attribute'; }\n  if (is.dom(el) && arrayContains(validTransforms, prop)) { return 'transform'; }\n  if (is.dom(el) && (prop !== 'transform' && getCSSValue(el, prop))) { return 'css'; }\n  if (el[prop] != null) { return 'object'; }\n}\n\nfunction getElementTransforms(el) {\n  if (!is.dom(el)) { return; }\n  var str = el.style.transform || '';\n  var reg  = /(\\w+)\\(([^)]*)\\)/g;\n  var transforms = new Map();\n  var m; while (m = reg.exec(str)) { transforms.set(m[1], m[2]); }\n  return transforms;\n}\n\nfunction getTransformValue(el, propName, animatable, unit) {\n  var defaultVal = stringContains(propName, 'scale') ? 1 : 0 + getTransformUnit(propName);\n  var value = getElementTransforms(el).get(propName) || defaultVal;\n  if (animatable) {\n    animatable.transforms.list.set(propName, value);\n    animatable.transforms['last'] = propName;\n  }\n  return unit ? convertPxToUnit(el, value, unit) : value;\n}\n\nfunction getOriginalTargetValue(target, propName, unit, animatable) {\n  switch (getAnimationType(target, propName)) {\n    case 'transform': return getTransformValue(target, propName, animatable, unit);\n    case 'css': return getCSSValue(target, propName, unit);\n    case 'attribute': return getAttribute(target, propName);\n    default: return target[propName] || 0;\n  }\n}\n\nfunction getRelativeValue(to, from) {\n  var operator = /^(\\*=|\\+=|-=)/.exec(to);\n  if (!operator) { return to; }\n  var u = getUnit(to) || 0;\n  var x = parseFloat(from);\n  var y = parseFloat(to.replace(operator[0], ''));\n  switch (operator[0][0]) {\n    case '+': return x + y + u;\n    case '-': return x - y + u;\n    case '*': return x * y + u;\n  }\n}\n\nfunction validateValue(val, unit) {\n  if (is.col(val)) { return colorToRgb(val); }\n  if (/\\s/g.test(val)) { return val; }\n  var originalUnit = getUnit(val);\n  var unitLess = originalUnit ? val.substr(0, val.length - originalUnit.length) : val;\n  if (unit) { return unitLess + unit; }\n  return unitLess;\n}\n\n// getTotalLength() equivalent for circle, rect, polyline, polygon and line shapes\n// adapted from https://gist.github.com/SebLambla/3e0550c496c236709744\n\nfunction getDistance(p1, p2) {\n  return Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));\n}\n\nfunction getCircleLength(el) {\n  return Math.PI * 2 * getAttribute(el, 'r');\n}\n\nfunction getRectLength(el) {\n  return (getAttribute(el, 'width') * 2) + (getAttribute(el, 'height') * 2);\n}\n\nfunction getLineLength(el) {\n  return getDistance(\n    {x: getAttribute(el, 'x1'), y: getAttribute(el, 'y1')}, \n    {x: getAttribute(el, 'x2'), y: getAttribute(el, 'y2')}\n  );\n}\n\nfunction getPolylineLength(el) {\n  var points = el.points;\n  var totalLength = 0;\n  var previousPos;\n  for (var i = 0 ; i < points.numberOfItems; i++) {\n    var currentPos = points.getItem(i);\n    if (i > 0) { totalLength += getDistance(previousPos, currentPos); }\n    previousPos = currentPos;\n  }\n  return totalLength;\n}\n\nfunction getPolygonLength(el) {\n  var points = el.points;\n  return getPolylineLength(el) + getDistance(points.getItem(points.numberOfItems - 1), points.getItem(0));\n}\n\n// Path animation\n\nfunction getTotalLength(el) {\n  if (el.getTotalLength) { return el.getTotalLength(); }\n  switch(el.tagName.toLowerCase()) {\n    case 'circle': return getCircleLength(el);\n    case 'rect': return getRectLength(el);\n    case 'line': return getLineLength(el);\n    case 'polyline': return getPolylineLength(el);\n    case 'polygon': return getPolygonLength(el);\n  }\n}\n\nfunction setDashoffset(el) {\n  var pathLength = getTotalLength(el);\n  el.setAttribute('stroke-dasharray', pathLength);\n  return pathLength;\n}\n\n// Motion path\n\nfunction getParentSvgEl(el) {\n  var parentEl = el.parentNode;\n  while (is.svg(parentEl)) {\n    if (!is.svg(parentEl.parentNode)) { break; }\n    parentEl = parentEl.parentNode;\n  }\n  return parentEl;\n}\n\nfunction getParentSvg(pathEl, svgData) {\n  var svg = svgData || {};\n  var parentSvgEl = svg.el || getParentSvgEl(pathEl);\n  var rect = parentSvgEl.getBoundingClientRect();\n  var viewBoxAttr = getAttribute(parentSvgEl, 'viewBox');\n  var width = rect.width;\n  var height = rect.height;\n  var viewBox = svg.viewBox || (viewBoxAttr ? viewBoxAttr.split(' ') : [0, 0, width, height]);\n  return {\n    el: parentSvgEl,\n    viewBox: viewBox,\n    x: viewBox[0] / 1,\n    y: viewBox[1] / 1,\n    w: width,\n    h: height,\n    vW: viewBox[2],\n    vH: viewBox[3]\n  }\n}\n\nfunction getPath(path, percent) {\n  var pathEl = is.str(path) ? selectString(path)[0] : path;\n  var p = percent || 100;\n  return function(property) {\n    return {\n      property: property,\n      el: pathEl,\n      svg: getParentSvg(pathEl),\n      totalLength: getTotalLength(pathEl) * (p / 100)\n    }\n  }\n}\n\nfunction getPathProgress(path, progress, isPathTargetInsideSVG) {\n  function point(offset) {\n    if ( offset === void 0 ) offset = 0;\n\n    var l = progress + offset >= 1 ? progress + offset : 0;\n    return path.el.getPointAtLength(l);\n  }\n  var svg = getParentSvg(path.el, path.svg);\n  var p = point();\n  var p0 = point(-1);\n  var p1 = point(+1);\n  var scaleX = isPathTargetInsideSVG ? 1 : svg.w / svg.vW;\n  var scaleY = isPathTargetInsideSVG ? 1 : svg.h / svg.vH;\n  switch (path.property) {\n    case 'x': return (p.x - svg.x) * scaleX;\n    case 'y': return (p.y - svg.y) * scaleY;\n    case 'angle': return Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI;\n  }\n}\n\n// Decompose value\n\nfunction decomposeValue(val, unit) {\n  // const rgx = /-?\\d*\\.?\\d+/g; // handles basic numbers\n  // const rgx = /[+-]?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n  var rgx = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n  var value = validateValue((is.pth(val) ? val.totalLength : val), unit) + '';\n  return {\n    original: value,\n    numbers: value.match(rgx) ? value.match(rgx).map(Number) : [0],\n    strings: (is.str(val) || unit) ? value.split(rgx) : []\n  }\n}\n\n// Animatables\n\nfunction parseTargets(targets) {\n  var targetsArray = targets ? (flattenArray(is.arr(targets) ? targets.map(toArray) : toArray(targets))) : [];\n  return filterArray(targetsArray, function (item, pos, self) { return self.indexOf(item) === pos; });\n}\n\nfunction getAnimatables(targets) {\n  var parsed = parseTargets(targets);\n  return parsed.map(function (t, i) {\n    return {target: t, id: i, total: parsed.length, transforms: { list: getElementTransforms(t) } };\n  });\n}\n\n// Properties\n\nfunction normalizePropertyTweens(prop, tweenSettings) {\n  var settings = cloneObject(tweenSettings);\n  // Override duration if easing is a spring\n  if (/^spring/.test(settings.easing)) { settings.duration = spring(settings.easing); }\n  if (is.arr(prop)) {\n    var l = prop.length;\n    var isFromTo = (l === 2 && !is.obj(prop[0]));\n    if (!isFromTo) {\n      // Duration divided by the number of tweens\n      if (!is.fnc(tweenSettings.duration)) { settings.duration = tweenSettings.duration / l; }\n    } else {\n      // Transform [from, to] values shorthand to a valid tween value\n      prop = {value: prop};\n    }\n  }\n  var propArray = is.arr(prop) ? prop : [prop];\n  return propArray.map(function (v, i) {\n    var obj = (is.obj(v) && !is.pth(v)) ? v : {value: v};\n    // Default delay value should only be applied to the first tween\n    if (is.und(obj.delay)) { obj.delay = !i ? tweenSettings.delay : 0; }\n    // Default endDelay value should only be applied to the last tween\n    if (is.und(obj.endDelay)) { obj.endDelay = i === propArray.length - 1 ? tweenSettings.endDelay : 0; }\n    return obj;\n  }).map(function (k) { return mergeObjects(k, settings); });\n}\n\n\nfunction flattenKeyframes(keyframes) {\n  var propertyNames = filterArray(flattenArray(keyframes.map(function (key) { return Object.keys(key); })), function (p) { return is.key(p); })\n  .reduce(function (a,b) { if (a.indexOf(b) < 0) { a.push(b); } return a; }, []);\n  var properties = {};\n  var loop = function ( i ) {\n    var propName = propertyNames[i];\n    properties[propName] = keyframes.map(function (key) {\n      var newKey = {};\n      for (var p in key) {\n        if (is.key(p)) {\n          if (p == propName) { newKey.value = key[p]; }\n        } else {\n          newKey[p] = key[p];\n        }\n      }\n      return newKey;\n    });\n  };\n\n  for (var i = 0; i < propertyNames.length; i++) loop( i );\n  return properties;\n}\n\nfunction getProperties(tweenSettings, params) {\n  var properties = [];\n  var keyframes = params.keyframes;\n  if (keyframes) { params = mergeObjects(flattenKeyframes(keyframes), params); }\n  for (var p in params) {\n    if (is.key(p)) {\n      properties.push({\n        name: p,\n        tweens: normalizePropertyTweens(params[p], tweenSettings)\n      });\n    }\n  }\n  return properties;\n}\n\n// Tweens\n\nfunction normalizeTweenValues(tween, animatable) {\n  var t = {};\n  for (var p in tween) {\n    var value = getFunctionValue(tween[p], animatable);\n    if (is.arr(value)) {\n      value = value.map(function (v) { return getFunctionValue(v, animatable); });\n      if (value.length === 1) { value = value[0]; }\n    }\n    t[p] = value;\n  }\n  t.duration = parseFloat(t.duration);\n  t.delay = parseFloat(t.delay);\n  return t;\n}\n\nfunction normalizeTweens(prop, animatable) {\n  var previousTween;\n  return prop.tweens.map(function (t) {\n    var tween = normalizeTweenValues(t, animatable);\n    var tweenValue = tween.value;\n    var to = is.arr(tweenValue) ? tweenValue[1] : tweenValue;\n    var toUnit = getUnit(to);\n    var originalValue = getOriginalTargetValue(animatable.target, prop.name, toUnit, animatable);\n    var previousValue = previousTween ? previousTween.to.original : originalValue;\n    var from = is.arr(tweenValue) ? tweenValue[0] : previousValue;\n    var fromUnit = getUnit(from) || getUnit(originalValue);\n    var unit = toUnit || fromUnit;\n    if (is.und(to)) { to = previousValue; }\n    tween.from = decomposeValue(from, unit);\n    tween.to = decomposeValue(getRelativeValue(to, from), unit);\n    tween.start = previousTween ? previousTween.end : 0;\n    tween.end = tween.start + tween.delay + tween.duration + tween.endDelay;\n    tween.easing = parseEasings(tween.easing, tween.duration);\n    tween.isPath = is.pth(tweenValue);\n    tween.isPathTargetInsideSVG = tween.isPath && is.svg(animatable.target);\n    tween.isColor = is.col(tween.from.original);\n    if (tween.isColor) { tween.round = 1; }\n    previousTween = tween;\n    return tween;\n  });\n}\n\n// Tween progress\n\nvar setProgressValue = {\n  css: function (t, p, v) { return t.style[p] = v; },\n  attribute: function (t, p, v) { return t.setAttribute(p, v); },\n  object: function (t, p, v) { return t[p] = v; },\n  transform: function (t, p, v, transforms, manual) {\n    transforms.list.set(p, v);\n    if (p === transforms.last || manual) {\n      var str = '';\n      transforms.list.forEach(function (value, prop) { str += prop + \"(\" + value + \") \"; });\n      t.style.transform = str;\n    }\n  }\n};\n\n// Set Value helper\n\nfunction setTargetsValue(targets, properties) {\n  var animatables = getAnimatables(targets);\n  animatables.forEach(function (animatable) {\n    for (var property in properties) {\n      var value = getFunctionValue(properties[property], animatable);\n      var target = animatable.target;\n      var valueUnit = getUnit(value);\n      var originalValue = getOriginalTargetValue(target, property, valueUnit, animatable);\n      var unit = valueUnit || getUnit(originalValue);\n      var to = getRelativeValue(validateValue(value, unit), originalValue);\n      var animType = getAnimationType(target, property);\n      setProgressValue[animType](target, property, to, animatable.transforms, true);\n    }\n  });\n}\n\n// Animations\n\nfunction createAnimation(animatable, prop) {\n  var animType = getAnimationType(animatable.target, prop.name);\n  if (animType) {\n    var tweens = normalizeTweens(prop, animatable);\n    var lastTween = tweens[tweens.length - 1];\n    return {\n      type: animType,\n      property: prop.name,\n      animatable: animatable,\n      tweens: tweens,\n      duration: lastTween.end,\n      delay: tweens[0].delay,\n      endDelay: lastTween.endDelay\n    }\n  }\n}\n\nfunction getAnimations(animatables, properties) {\n  return filterArray(flattenArray(animatables.map(function (animatable) {\n    return properties.map(function (prop) {\n      return createAnimation(animatable, prop);\n    });\n  })), function (a) { return !is.und(a); });\n}\n\n// Create Instance\n\nfunction getInstanceTimings(animations, tweenSettings) {\n  var animLength = animations.length;\n  var getTlOffset = function (anim) { return anim.timelineOffset ? anim.timelineOffset : 0; };\n  var timings = {};\n  timings.duration = animLength ? Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration; })) : tweenSettings.duration;\n  timings.delay = animLength ? Math.min.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.delay; })) : tweenSettings.delay;\n  timings.endDelay = animLength ? timings.duration - Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration - anim.endDelay; })) : tweenSettings.endDelay;\n  return timings;\n}\n\nvar instanceID = 0;\n\nfunction createNewInstance(params) {\n  var instanceSettings = replaceObjectProps(defaultInstanceSettings, params);\n  var tweenSettings = replaceObjectProps(defaultTweenSettings, params);\n  var properties = getProperties(tweenSettings, params);\n  var animatables = getAnimatables(params.targets);\n  var animations = getAnimations(animatables, properties);\n  var timings = getInstanceTimings(animations, tweenSettings);\n  var id = instanceID;\n  instanceID++;\n  return mergeObjects(instanceSettings, {\n    id: id,\n    children: [],\n    animatables: animatables,\n    animations: animations,\n    duration: timings.duration,\n    delay: timings.delay,\n    endDelay: timings.endDelay\n  });\n}\n\n// Core\n\nvar activeInstances = [];\n\nvar engine = (function () {\n  var raf;\n\n  function play() {\n    if (!raf && (!isDocumentHidden() || !anime.suspendWhenDocumentHidden) && activeInstances.length > 0) {\n      raf = requestAnimationFrame(step);\n    }\n  }\n  function step(t) {\n    // memo on algorithm issue:\n    // dangerous iteration over mutable `activeInstances`\n    // (that collection may be updated from within callbacks of `tick`-ed animation instances)\n    var activeInstancesLength = activeInstances.length;\n    var i = 0;\n    while (i < activeInstancesLength) {\n      var activeInstance = activeInstances[i];\n      if (!activeInstance.paused) {\n        activeInstance.tick(t);\n        i++;\n      } else {\n        activeInstances.splice(i, 1);\n        activeInstancesLength--;\n      }\n    }\n    raf = i > 0 ? requestAnimationFrame(step) : undefined;\n  }\n\n  function handleVisibilityChange() {\n    if (!anime.suspendWhenDocumentHidden) { return; }\n\n    if (isDocumentHidden()) {\n      // suspend ticks\n      raf = cancelAnimationFrame(raf);\n    } else { // is back to active tab\n      // first adjust animations to consider the time that ticks were suspended\n      activeInstances.forEach(\n        function (instance) { return instance ._onDocumentVisibility(); }\n      );\n      engine();\n    }\n  }\n  if (typeof document !== 'undefined') {\n    document.addEventListener('visibilitychange', handleVisibilityChange);\n  }\n\n  return play;\n})();\n\nfunction isDocumentHidden() {\n  return !!document && document.hidden;\n}\n\n// Public Instance\n\nfunction anime(params) {\n  if ( params === void 0 ) params = {};\n\n\n  var startTime = 0, lastTime = 0, now = 0;\n  var children, childrenLength = 0;\n  var resolve = null;\n\n  function makePromise(instance) {\n    var promise = window.Promise && new Promise(function (_resolve) { return resolve = _resolve; });\n    instance.finished = promise;\n    return promise;\n  }\n\n  var instance = createNewInstance(params);\n  var promise = makePromise(instance);\n\n  function toggleInstanceDirection() {\n    var direction = instance.direction;\n    if (direction !== 'alternate') {\n      instance.direction = direction !== 'normal' ? 'normal' : 'reverse';\n    }\n    instance.reversed = !instance.reversed;\n    children.forEach(function (child) { return child.reversed = instance.reversed; });\n  }\n\n  function adjustTime(time) {\n    return instance.reversed ? instance.duration - time : time;\n  }\n\n  function resetTime() {\n    startTime = 0;\n    lastTime = adjustTime(instance.currentTime) * (1 / anime.speed);\n  }\n\n  function seekChild(time, child) {\n    if (child) { child.seek(time - child.timelineOffset); }\n  }\n\n  function syncInstanceChildren(time) {\n    if (!instance.reversePlayback) {\n      for (var i = 0; i < childrenLength; i++) { seekChild(time, children[i]); }\n    } else {\n      for (var i$1 = childrenLength; i$1--;) { seekChild(time, children[i$1]); }\n    }\n  }\n\n  function setAnimationsProgress(insTime) {\n    var i = 0;\n    var animations = instance.animations;\n    var animationsLength = animations.length;\n    while (i < animationsLength) {\n      var anim = animations[i];\n      var animatable = anim.animatable;\n      var tweens = anim.tweens;\n      var tweenLength = tweens.length - 1;\n      var tween = tweens[tweenLength];\n      // Only check for keyframes if there is more than one tween\n      if (tweenLength) { tween = filterArray(tweens, function (t) { return (insTime < t.end); })[0] || tween; }\n      var elapsed = minMax(insTime - tween.start - tween.delay, 0, tween.duration) / tween.duration;\n      var eased = isNaN(elapsed) ? 1 : tween.easing(elapsed);\n      var strings = tween.to.strings;\n      var round = tween.round;\n      var numbers = [];\n      var toNumbersLength = tween.to.numbers.length;\n      var progress = (void 0);\n      for (var n = 0; n < toNumbersLength; n++) {\n        var value = (void 0);\n        var toNumber = tween.to.numbers[n];\n        var fromNumber = tween.from.numbers[n] || 0;\n        if (!tween.isPath) {\n          value = fromNumber + (eased * (toNumber - fromNumber));\n        } else {\n          value = getPathProgress(tween.value, eased * toNumber, tween.isPathTargetInsideSVG);\n        }\n        if (round) {\n          if (!(tween.isColor && n > 2)) {\n            value = Math.round(value * round) / round;\n          }\n        }\n        numbers.push(value);\n      }\n      // Manual Array.reduce for better performances\n      var stringsLength = strings.length;\n      if (!stringsLength) {\n        progress = numbers[0];\n      } else {\n        progress = strings[0];\n        for (var s = 0; s < stringsLength; s++) {\n          var a = strings[s];\n          var b = strings[s + 1];\n          var n$1 = numbers[s];\n          if (!isNaN(n$1)) {\n            if (!b) {\n              progress += n$1 + ' ';\n            } else {\n              progress += n$1 + b;\n            }\n          }\n        }\n      }\n      setProgressValue[anim.type](animatable.target, anim.property, progress, animatable.transforms);\n      anim.currentValue = progress;\n      i++;\n    }\n  }\n\n  function setCallback(cb) {\n    if (instance[cb] && !instance.passThrough) { instance[cb](instance); }\n  }\n\n  function countIteration() {\n    if (instance.remaining && instance.remaining !== true) {\n      instance.remaining--;\n    }\n  }\n\n  function setInstanceProgress(engineTime) {\n    var insDuration = instance.duration;\n    var insDelay = instance.delay;\n    var insEndDelay = insDuration - instance.endDelay;\n    var insTime = adjustTime(engineTime);\n    instance.progress = minMax((insTime / insDuration) * 100, 0, 100);\n    instance.reversePlayback = insTime < instance.currentTime;\n    if (children) { syncInstanceChildren(insTime); }\n    if (!instance.began && instance.currentTime > 0) {\n      instance.began = true;\n      setCallback('begin');\n    }\n    if (!instance.loopBegan && instance.currentTime > 0) {\n      instance.loopBegan = true;\n      setCallback('loopBegin');\n    }\n    if (insTime <= insDelay && instance.currentTime !== 0) {\n      setAnimationsProgress(0);\n    }\n    if ((insTime >= insEndDelay && instance.currentTime !== insDuration) || !insDuration) {\n      setAnimationsProgress(insDuration);\n    }\n    if (insTime > insDelay && insTime < insEndDelay) {\n      if (!instance.changeBegan) {\n        instance.changeBegan = true;\n        instance.changeCompleted = false;\n        setCallback('changeBegin');\n      }\n      setCallback('change');\n      setAnimationsProgress(insTime);\n    } else {\n      if (instance.changeBegan) {\n        instance.changeCompleted = true;\n        instance.changeBegan = false;\n        setCallback('changeComplete');\n      }\n    }\n    instance.currentTime = minMax(insTime, 0, insDuration);\n    if (instance.began) { setCallback('update'); }\n    if (engineTime >= insDuration) {\n      lastTime = 0;\n      countIteration();\n      if (!instance.remaining) {\n        instance.paused = true;\n        if (!instance.completed) {\n          instance.completed = true;\n          setCallback('loopComplete');\n          setCallback('complete');\n          if (!instance.passThrough && 'Promise' in window) {\n            resolve();\n            promise = makePromise(instance);\n          }\n        }\n      } else {\n        startTime = now;\n        setCallback('loopComplete');\n        instance.loopBegan = false;\n        if (instance.direction === 'alternate') {\n          toggleInstanceDirection();\n        }\n      }\n    }\n  }\n\n  instance.reset = function() {\n    var direction = instance.direction;\n    instance.passThrough = false;\n    instance.currentTime = 0;\n    instance.progress = 0;\n    instance.paused = true;\n    instance.began = false;\n    instance.loopBegan = false;\n    instance.changeBegan = false;\n    instance.completed = false;\n    instance.changeCompleted = false;\n    instance.reversePlayback = false;\n    instance.reversed = direction === 'reverse';\n    instance.remaining = instance.loop;\n    children = instance.children;\n    childrenLength = children.length;\n    for (var i = childrenLength; i--;) { instance.children[i].reset(); }\n    if (instance.reversed && instance.loop !== true || (direction === 'alternate' && instance.loop === 1)) { instance.remaining++; }\n    setAnimationsProgress(instance.reversed ? instance.duration : 0);\n  };\n\n  // internal method (for engine) to adjust animation timings before restoring engine ticks (rAF)\n  instance._onDocumentVisibility = resetTime;\n\n  // Set Value helper\n\n  instance.set = function(targets, properties) {\n    setTargetsValue(targets, properties);\n    return instance;\n  };\n\n  instance.tick = function(t) {\n    now = t;\n    if (!startTime) { startTime = now; }\n    setInstanceProgress((now + (lastTime - startTime)) * anime.speed);\n  };\n\n  instance.seek = function(time) {\n    setInstanceProgress(adjustTime(time));\n  };\n\n  instance.pause = function() {\n    instance.paused = true;\n    resetTime();\n  };\n\n  instance.play = function() {\n    if (!instance.paused) { return; }\n    if (instance.completed) { instance.reset(); }\n    instance.paused = false;\n    activeInstances.push(instance);\n    resetTime();\n    engine();\n  };\n\n  instance.reverse = function() {\n    toggleInstanceDirection();\n    instance.completed = instance.reversed ? false : true;\n    resetTime();\n  };\n\n  instance.restart = function() {\n    instance.reset();\n    instance.play();\n  };\n\n  instance.remove = function(targets) {\n    var targetsArray = parseTargets(targets);\n    removeTargetsFromInstance(targetsArray, instance);\n  };\n\n  instance.reset();\n\n  if (instance.autoplay) { instance.play(); }\n\n  return instance;\n\n}\n\n// Remove targets from animation\n\nfunction removeTargetsFromAnimations(targetsArray, animations) {\n  for (var a = animations.length; a--;) {\n    if (arrayContains(targetsArray, animations[a].animatable.target)) {\n      animations.splice(a, 1);\n    }\n  }\n}\n\nfunction removeTargetsFromInstance(targetsArray, instance) {\n  var animations = instance.animations;\n  var children = instance.children;\n  removeTargetsFromAnimations(targetsArray, animations);\n  for (var c = children.length; c--;) {\n    var child = children[c];\n    var childAnimations = child.animations;\n    removeTargetsFromAnimations(targetsArray, childAnimations);\n    if (!childAnimations.length && !child.children.length) { children.splice(c, 1); }\n  }\n  if (!animations.length && !children.length) { instance.pause(); }\n}\n\nfunction removeTargetsFromActiveInstances(targets) {\n  var targetsArray = parseTargets(targets);\n  for (var i = activeInstances.length; i--;) {\n    var instance = activeInstances[i];\n    removeTargetsFromInstance(targetsArray, instance);\n  }\n}\n\n// Stagger helpers\n\nfunction stagger(val, params) {\n  if ( params === void 0 ) params = {};\n\n  var direction = params.direction || 'normal';\n  var easing = params.easing ? parseEasings(params.easing) : null;\n  var grid = params.grid;\n  var axis = params.axis;\n  var fromIndex = params.from || 0;\n  var fromFirst = fromIndex === 'first';\n  var fromCenter = fromIndex === 'center';\n  var fromLast = fromIndex === 'last';\n  var isRange = is.arr(val);\n  var val1 = isRange ? parseFloat(val[0]) : parseFloat(val);\n  var val2 = isRange ? parseFloat(val[1]) : 0;\n  var unit = getUnit(isRange ? val[1] : val) || 0;\n  var start = params.start || 0 + (isRange ? val1 : 0);\n  var values = [];\n  var maxValue = 0;\n  return function (el, i, t) {\n    if (fromFirst) { fromIndex = 0; }\n    if (fromCenter) { fromIndex = (t - 1) / 2; }\n    if (fromLast) { fromIndex = t - 1; }\n    if (!values.length) {\n      for (var index = 0; index < t; index++) {\n        if (!grid) {\n          values.push(Math.abs(fromIndex - index));\n        } else {\n          var fromX = !fromCenter ? fromIndex%grid[0] : (grid[0]-1)/2;\n          var fromY = !fromCenter ? Math.floor(fromIndex/grid[0]) : (grid[1]-1)/2;\n          var toX = index%grid[0];\n          var toY = Math.floor(index/grid[0]);\n          var distanceX = fromX - toX;\n          var distanceY = fromY - toY;\n          var value = Math.sqrt(distanceX * distanceX + distanceY * distanceY);\n          if (axis === 'x') { value = -distanceX; }\n          if (axis === 'y') { value = -distanceY; }\n          values.push(value);\n        }\n        maxValue = Math.max.apply(Math, values);\n      }\n      if (easing) { values = values.map(function (val) { return easing(val / maxValue) * maxValue; }); }\n      if (direction === 'reverse') { values = values.map(function (val) { return axis ? (val < 0) ? val * -1 : -val : Math.abs(maxValue - val); }); }\n    }\n    var spacing = isRange ? (val2 - val1) / maxValue : val1;\n    return start + (spacing * (Math.round(values[i] * 100) / 100)) + unit;\n  }\n}\n\n// Timeline\n\nfunction timeline(params) {\n  if ( params === void 0 ) params = {};\n\n  var tl = anime(params);\n  tl.duration = 0;\n  tl.add = function(instanceParams, timelineOffset) {\n    var tlIndex = activeInstances.indexOf(tl);\n    var children = tl.children;\n    if (tlIndex > -1) { activeInstances.splice(tlIndex, 1); }\n    function passThrough(ins) { ins.passThrough = true; }\n    for (var i = 0; i < children.length; i++) { passThrough(children[i]); }\n    var insParams = mergeObjects(instanceParams, replaceObjectProps(defaultTweenSettings, params));\n    insParams.targets = insParams.targets || params.targets;\n    var tlDuration = tl.duration;\n    insParams.autoplay = false;\n    insParams.direction = tl.direction;\n    insParams.timelineOffset = is.und(timelineOffset) ? tlDuration : getRelativeValue(timelineOffset, tlDuration);\n    passThrough(tl);\n    tl.seek(insParams.timelineOffset);\n    var ins = anime(insParams);\n    passThrough(ins);\n    children.push(ins);\n    var timings = getInstanceTimings(children, params);\n    tl.delay = timings.delay;\n    tl.endDelay = timings.endDelay;\n    tl.duration = timings.duration;\n    tl.seek(0);\n    tl.reset();\n    if (tl.autoplay) { tl.play(); }\n    return tl;\n  };\n  return tl;\n}\n\nanime.version = '3.2.1';\nanime.speed = 1;\n// TODO:#review: naming, documentation\nanime.suspendWhenDocumentHidden = true;\nanime.running = activeInstances;\nanime.remove = removeTargetsFromActiveInstances;\nanime.get = getOriginalTargetValue;\nanime.set = setTargetsValue;\nanime.convertPx = convertPxToUnit;\nanime.path = getPath;\nanime.setDashoffset = setDashoffset;\nanime.stagger = stagger;\nanime.timeline = timeline;\nanime.easing = parseEasings;\nanime.penner = penner;\nanime.random = function (min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; };\n\nexport default anime;\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nfunction __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nfunction __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\n\nexport { __assign, __read, __rest, __spreadArray, __values };\n","var ActionTypes;\n\n(function (ActionTypes) {\n  ActionTypes[\"Start\"] = \"xstate.start\";\n  ActionTypes[\"Stop\"] = \"xstate.stop\";\n  ActionTypes[\"Raise\"] = \"xstate.raise\";\n  ActionTypes[\"Send\"] = \"xstate.send\";\n  ActionTypes[\"Cancel\"] = \"xstate.cancel\";\n  ActionTypes[\"NullEvent\"] = \"\";\n  ActionTypes[\"Assign\"] = \"xstate.assign\";\n  ActionTypes[\"After\"] = \"xstate.after\";\n  ActionTypes[\"DoneState\"] = \"done.state\";\n  ActionTypes[\"DoneInvoke\"] = \"done.invoke\";\n  ActionTypes[\"Log\"] = \"xstate.log\";\n  ActionTypes[\"Init\"] = \"xstate.init\";\n  ActionTypes[\"Invoke\"] = \"xstate.invoke\";\n  ActionTypes[\"ErrorExecution\"] = \"error.execution\";\n  ActionTypes[\"ErrorCommunication\"] = \"error.communication\";\n  ActionTypes[\"ErrorPlatform\"] = \"error.platform\";\n  ActionTypes[\"ErrorCustom\"] = \"xstate.error\";\n  ActionTypes[\"Update\"] = \"xstate.update\";\n  ActionTypes[\"Pure\"] = \"xstate.pure\";\n  ActionTypes[\"Choose\"] = \"xstate.choose\";\n})(ActionTypes || (ActionTypes = {}));\n\nvar SpecialTargets;\n\n(function (SpecialTargets) {\n  SpecialTargets[\"Parent\"] = \"#_parent\";\n  SpecialTargets[\"Internal\"] = \"#_internal\";\n})(SpecialTargets || (SpecialTargets = {}));\n\nexport { ActionTypes, SpecialTargets };\n","import { ActionTypes } from './types.js';\n\nvar start = ActionTypes.Start;\nvar stop = ActionTypes.Stop;\nvar raise = ActionTypes.Raise;\nvar send = ActionTypes.Send;\nvar cancel = ActionTypes.Cancel;\nvar nullEvent = ActionTypes.NullEvent;\nvar assign = ActionTypes.Assign;\nvar after = ActionTypes.After;\nvar doneState = ActionTypes.DoneState;\nvar log = ActionTypes.Log;\nvar init = ActionTypes.Init;\nvar invoke = ActionTypes.Invoke;\nvar errorExecution = ActionTypes.ErrorExecution;\nvar errorPlatform = ActionTypes.ErrorPlatform;\nvar error = ActionTypes.ErrorCustom;\nvar update = ActionTypes.Update;\nvar choose = ActionTypes.Choose;\nvar pure = ActionTypes.Pure;\n\nexport { after, assign, cancel, choose, doneState, error, errorExecution, errorPlatform, init, invoke, log, nullEvent, pure, raise, send, start, stop, update };\n","var STATE_DELIMITER = '.';\nvar EMPTY_ACTIVITY_MAP = {};\nvar DEFAULT_GUARD_TYPE = 'xstate.guard';\nvar TARGETLESS_KEY = '';\n\nexport { DEFAULT_GUARD_TYPE, EMPTY_ACTIVITY_MAP, STATE_DELIMITER, TARGETLESS_KEY };\n","var IS_PRODUCTION = process.env.NODE_ENV === 'production';\n\nexport { IS_PRODUCTION };\n","import { __values, __spreadArray, __read, __assign } from './_virtual/_tslib.js';\nimport { DEFAULT_GUARD_TYPE, TARGETLESS_KEY, STATE_DELIMITER } from './constants.js';\nimport { IS_PRODUCTION } from './environment.js';\n\nvar _a;\nfunction keys(value) {\n  return Object.keys(value);\n}\nfunction matchesState(parentStateId, childStateId, delimiter) {\n  if (delimiter === void 0) {\n    delimiter = STATE_DELIMITER;\n  }\n\n  var parentStateValue = toStateValue(parentStateId, delimiter);\n  var childStateValue = toStateValue(childStateId, delimiter);\n\n  if (isString(childStateValue)) {\n    if (isString(parentStateValue)) {\n      return childStateValue === parentStateValue;\n    } // Parent more specific than child\n\n\n    return false;\n  }\n\n  if (isString(parentStateValue)) {\n    return parentStateValue in childStateValue;\n  }\n\n  return Object.keys(parentStateValue).every(function (key) {\n    if (!(key in childStateValue)) {\n      return false;\n    }\n\n    return matchesState(parentStateValue[key], childStateValue[key]);\n  });\n}\nfunction getEventType(event) {\n  try {\n    return isString(event) || typeof event === 'number' ? \"\".concat(event) : event.type;\n  } catch (e) {\n    throw new Error('Events must be strings or objects with a string event.type property.');\n  }\n}\nfunction getActionType(action) {\n  try {\n    return isString(action) || typeof action === 'number' ? \"\".concat(action) : isFunction(action) ? action.name : action.type;\n  } catch (e) {\n    throw new Error('Actions must be strings or objects with a string action.type property.');\n  }\n}\nfunction toStatePath(stateId, delimiter) {\n  try {\n    if (isArray(stateId)) {\n      return stateId;\n    }\n\n    return stateId.toString().split(delimiter);\n  } catch (e) {\n    throw new Error(\"'\".concat(stateId, \"' is not a valid state path.\"));\n  }\n}\nfunction isStateLike(state) {\n  return typeof state === 'object' && 'value' in state && 'context' in state && 'event' in state && '_event' in state;\n}\nfunction toStateValue(stateValue, delimiter) {\n  if (isStateLike(stateValue)) {\n    return stateValue.value;\n  }\n\n  if (isArray(stateValue)) {\n    return pathToStateValue(stateValue);\n  }\n\n  if (typeof stateValue !== 'string') {\n    return stateValue;\n  }\n\n  var statePath = toStatePath(stateValue, delimiter);\n  return pathToStateValue(statePath);\n}\nfunction pathToStateValue(statePath) {\n  if (statePath.length === 1) {\n    return statePath[0];\n  }\n\n  var value = {};\n  var marker = value;\n\n  for (var i = 0; i < statePath.length - 1; i++) {\n    if (i === statePath.length - 2) {\n      marker[statePath[i]] = statePath[i + 1];\n    } else {\n      marker[statePath[i]] = {};\n      marker = marker[statePath[i]];\n    }\n  }\n\n  return value;\n}\nfunction mapValues(collection, iteratee) {\n  var result = {};\n  var collectionKeys = Object.keys(collection);\n\n  for (var i = 0; i < collectionKeys.length; i++) {\n    var key = collectionKeys[i];\n    result[key] = iteratee(collection[key], key, collection, i);\n  }\n\n  return result;\n}\nfunction mapFilterValues(collection, iteratee, predicate) {\n  var e_1, _a;\n\n  var result = {};\n\n  try {\n    for (var _b = __values(Object.keys(collection)), _c = _b.next(); !_c.done; _c = _b.next()) {\n      var key = _c.value;\n      var item = collection[key];\n\n      if (!predicate(item)) {\n        continue;\n      }\n\n      result[key] = iteratee(item, key, collection);\n    }\n  } catch (e_1_1) {\n    e_1 = {\n      error: e_1_1\n    };\n  } finally {\n    try {\n      if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n    } finally {\n      if (e_1) throw e_1.error;\n    }\n  }\n\n  return result;\n}\n/**\r\n * Retrieves a value at the given path.\r\n * @param props The deep path to the prop of the desired value\r\n */\n\nvar path = function (props) {\n  return function (object) {\n    var e_2, _a;\n\n    var result = object;\n\n    try {\n      for (var props_1 = __values(props), props_1_1 = props_1.next(); !props_1_1.done; props_1_1 = props_1.next()) {\n        var prop = props_1_1.value;\n        result = result[prop];\n      }\n    } catch (e_2_1) {\n      e_2 = {\n        error: e_2_1\n      };\n    } finally {\n      try {\n        if (props_1_1 && !props_1_1.done && (_a = props_1.return)) _a.call(props_1);\n      } finally {\n        if (e_2) throw e_2.error;\n      }\n    }\n\n    return result;\n  };\n};\n/**\r\n * Retrieves a value at the given path via the nested accessor prop.\r\n * @param props The deep path to the prop of the desired value\r\n */\n\nfunction nestedPath(props, accessorProp) {\n  return function (object) {\n    var e_3, _a;\n\n    var result = object;\n\n    try {\n      for (var props_2 = __values(props), props_2_1 = props_2.next(); !props_2_1.done; props_2_1 = props_2.next()) {\n        var prop = props_2_1.value;\n        result = result[accessorProp][prop];\n      }\n    } catch (e_3_1) {\n      e_3 = {\n        error: e_3_1\n      };\n    } finally {\n      try {\n        if (props_2_1 && !props_2_1.done && (_a = props_2.return)) _a.call(props_2);\n      } finally {\n        if (e_3) throw e_3.error;\n      }\n    }\n\n    return result;\n  };\n}\nfunction toStatePaths(stateValue) {\n  if (!stateValue) {\n    return [[]];\n  }\n\n  if (isString(stateValue)) {\n    return [[stateValue]];\n  }\n\n  var result = flatten(Object.keys(stateValue).map(function (key) {\n    var subStateValue = stateValue[key];\n\n    if (typeof subStateValue !== 'string' && (!subStateValue || !Object.keys(subStateValue).length)) {\n      return [[key]];\n    }\n\n    return toStatePaths(stateValue[key]).map(function (subPath) {\n      return [key].concat(subPath);\n    });\n  }));\n  return result;\n}\nfunction pathsToStateValue(paths) {\n  var e_4, _a;\n\n  var result = {};\n\n  if (paths && paths.length === 1 && paths[0].length === 1) {\n    return paths[0][0];\n  }\n\n  try {\n    for (var paths_1 = __values(paths), paths_1_1 = paths_1.next(); !paths_1_1.done; paths_1_1 = paths_1.next()) {\n      var currentPath = paths_1_1.value;\n      var marker = result; // tslint:disable-next-line:prefer-for-of\n\n      for (var i = 0; i < currentPath.length; i++) {\n        var subPath = currentPath[i];\n\n        if (i === currentPath.length - 2) {\n          marker[subPath] = currentPath[i + 1];\n          break;\n        }\n\n        marker[subPath] = marker[subPath] || {};\n        marker = marker[subPath];\n      }\n    }\n  } catch (e_4_1) {\n    e_4 = {\n      error: e_4_1\n    };\n  } finally {\n    try {\n      if (paths_1_1 && !paths_1_1.done && (_a = paths_1.return)) _a.call(paths_1);\n    } finally {\n      if (e_4) throw e_4.error;\n    }\n  }\n\n  return result;\n}\nfunction flatten(array) {\n  var _a;\n\n  return (_a = []).concat.apply(_a, __spreadArray([], __read(array), false));\n}\nfunction toArrayStrict(value) {\n  if (isArray(value)) {\n    return value;\n  }\n\n  return [value];\n}\nfunction toArray(value) {\n  if (value === undefined) {\n    return [];\n  }\n\n  return toArrayStrict(value);\n}\nfunction mapContext(mapper, context, _event) {\n  var e_5, _a;\n\n  if (isFunction(mapper)) {\n    return mapper(context, _event.data);\n  }\n\n  var result = {};\n\n  try {\n    for (var _b = __values(Object.keys(mapper)), _c = _b.next(); !_c.done; _c = _b.next()) {\n      var key = _c.value;\n      var subMapper = mapper[key];\n\n      if (isFunction(subMapper)) {\n        result[key] = subMapper(context, _event.data);\n      } else {\n        result[key] = subMapper;\n      }\n    }\n  } catch (e_5_1) {\n    e_5 = {\n      error: e_5_1\n    };\n  } finally {\n    try {\n      if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n    } finally {\n      if (e_5) throw e_5.error;\n    }\n  }\n\n  return result;\n}\nfunction isBuiltInEvent(eventType) {\n  return /^(done|error)\\./.test(eventType);\n}\nfunction isPromiseLike(value) {\n  if (value instanceof Promise) {\n    return true;\n  } // Check if shape matches the Promise/A+ specification for a \"thenable\".\n\n\n  if (value !== null && (isFunction(value) || typeof value === 'object') && isFunction(value.then)) {\n    return true;\n  }\n\n  return false;\n}\nfunction isBehavior(value) {\n  return value !== null && typeof value === 'object' && 'transition' in value && typeof value.transition === 'function';\n}\nfunction partition(items, predicate) {\n  var e_6, _a;\n\n  var _b = __read([[], []], 2),\n      truthy = _b[0],\n      falsy = _b[1];\n\n  try {\n    for (var items_1 = __values(items), items_1_1 = items_1.next(); !items_1_1.done; items_1_1 = items_1.next()) {\n      var item = items_1_1.value;\n\n      if (predicate(item)) {\n        truthy.push(item);\n      } else {\n        falsy.push(item);\n      }\n    }\n  } catch (e_6_1) {\n    e_6 = {\n      error: e_6_1\n    };\n  } finally {\n    try {\n      if (items_1_1 && !items_1_1.done && (_a = items_1.return)) _a.call(items_1);\n    } finally {\n      if (e_6) throw e_6.error;\n    }\n  }\n\n  return [truthy, falsy];\n}\nfunction updateHistoryStates(hist, stateValue) {\n  return mapValues(hist.states, function (subHist, key) {\n    if (!subHist) {\n      return undefined;\n    }\n\n    var subStateValue = (isString(stateValue) ? undefined : stateValue[key]) || (subHist ? subHist.current : undefined);\n\n    if (!subStateValue) {\n      return undefined;\n    }\n\n    return {\n      current: subStateValue,\n      states: updateHistoryStates(subHist, subStateValue)\n    };\n  });\n}\nfunction updateHistoryValue(hist, stateValue) {\n  return {\n    current: stateValue,\n    states: updateHistoryStates(hist, stateValue)\n  };\n}\nfunction updateContext(context, _event, assignActions, state) {\n  if (!IS_PRODUCTION) {\n    warn(!!context, 'Attempting to update undefined context');\n  }\n\n  var updatedContext = context ? assignActions.reduce(function (acc, assignAction) {\n    var e_7, _a;\n\n    var assignment = assignAction.assignment;\n    var meta = {\n      state: state,\n      action: assignAction,\n      _event: _event\n    };\n    var partialUpdate = {};\n\n    if (isFunction(assignment)) {\n      partialUpdate = assignment(acc, _event.data, meta);\n    } else {\n      try {\n        for (var _b = __values(Object.keys(assignment)), _c = _b.next(); !_c.done; _c = _b.next()) {\n          var key = _c.value;\n          var propAssignment = assignment[key];\n          partialUpdate[key] = isFunction(propAssignment) ? propAssignment(acc, _event.data, meta) : propAssignment;\n        }\n      } catch (e_7_1) {\n        e_7 = {\n          error: e_7_1\n        };\n      } finally {\n        try {\n          if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        } finally {\n          if (e_7) throw e_7.error;\n        }\n      }\n    }\n\n    return Object.assign({}, acc, partialUpdate);\n  }, context) : context;\n  return updatedContext;\n} // tslint:disable-next-line:no-empty\n\nvar warn = function () {};\n\nif (!IS_PRODUCTION) {\n  warn = function (condition, message) {\n    var error = condition instanceof Error ? condition : undefined;\n\n    if (!error && condition) {\n      return;\n    }\n\n    if (console !== undefined) {\n      var args = [\"Warning: \".concat(message)];\n\n      if (error) {\n        args.push(error);\n      } // tslint:disable-next-line:no-console\n\n\n      console.warn.apply(console, args);\n    }\n  };\n}\nfunction isArray(value) {\n  return Array.isArray(value);\n} // tslint:disable-next-line:ban-types\n\nfunction isFunction(value) {\n  return typeof value === 'function';\n}\nfunction isString(value) {\n  return typeof value === 'string';\n}\nfunction toGuard(condition, guardMap) {\n  if (!condition) {\n    return undefined;\n  }\n\n  if (isString(condition)) {\n    return {\n      type: DEFAULT_GUARD_TYPE,\n      name: condition,\n      predicate: guardMap ? guardMap[condition] : undefined\n    };\n  }\n\n  if (isFunction(condition)) {\n    return {\n      type: DEFAULT_GUARD_TYPE,\n      name: condition.name,\n      predicate: condition\n    };\n  }\n\n  return condition;\n}\nfunction isObservable(value) {\n  try {\n    return 'subscribe' in value && isFunction(value.subscribe);\n  } catch (e) {\n    return false;\n  }\n}\nvar symbolObservable = /*#__PURE__*/function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n}(); // TODO: to be removed in v5, left it out just to minimize the scope of the change and maintain compatibility with older versions of integration paackages\n\nvar interopSymbols = (_a = {}, _a[symbolObservable] = function () {\n  return this;\n}, _a[Symbol.observable] = function () {\n  return this;\n}, _a);\nfunction isMachine(value) {\n  return !!value && '__xstatenode' in value;\n}\nfunction isActor(value) {\n  return !!value && typeof value.send === 'function';\n}\nvar uniqueId = /*#__PURE__*/function () {\n  var currentId = 0;\n  return function () {\n    currentId++;\n    return currentId.toString(16);\n  };\n}();\nfunction toEventObject(event, payload // id?: TEvent['type']\n) {\n  if (isString(event) || typeof event === 'number') {\n    return __assign({\n      type: event\n    }, payload);\n  }\n\n  return event;\n}\nfunction toSCXMLEvent(event, scxmlEvent) {\n  if (!isString(event) && '$$type' in event && event.$$type === 'scxml') {\n    return event;\n  }\n\n  var eventObject = toEventObject(event);\n  return __assign({\n    name: eventObject.type,\n    data: eventObject,\n    $$type: 'scxml',\n    type: 'external'\n  }, scxmlEvent);\n}\nfunction toTransitionConfigArray(event, configLike) {\n  var transitions = toArrayStrict(configLike).map(function (transitionLike) {\n    if (typeof transitionLike === 'undefined' || typeof transitionLike === 'string' || isMachine(transitionLike)) {\n      return {\n        target: transitionLike,\n        event: event\n      };\n    }\n\n    return __assign(__assign({}, transitionLike), {\n      event: event\n    });\n  });\n  return transitions;\n}\nfunction normalizeTarget(target) {\n  if (target === undefined || target === TARGETLESS_KEY) {\n    return undefined;\n  }\n\n  return toArray(target);\n}\nfunction reportUnhandledExceptionOnInvocation(originalError, currentError, id) {\n  if (!IS_PRODUCTION) {\n    var originalStackTrace = originalError.stack ? \" Stacktrace was '\".concat(originalError.stack, \"'\") : '';\n\n    if (originalError === currentError) {\n      // tslint:disable-next-line:no-console\n      console.error(\"Missing onError handler for invocation '\".concat(id, \"', error was '\").concat(originalError, \"'.\").concat(originalStackTrace));\n    } else {\n      var stackTrace = currentError.stack ? \" Stacktrace was '\".concat(currentError.stack, \"'\") : ''; // tslint:disable-next-line:no-console\n\n      console.error(\"Missing onError handler and/or unhandled exception/promise rejection for invocation '\".concat(id, \"'. \") + \"Original error: '\".concat(originalError, \"'. \").concat(originalStackTrace, \" Current error is '\").concat(currentError, \"'.\").concat(stackTrace));\n    }\n  }\n}\nfunction evaluateGuard(machine, guard, context, _event, state) {\n  var guards = machine.options.guards;\n  var guardMeta = {\n    state: state,\n    cond: guard,\n    _event: _event\n  }; // TODO: do not hardcode!\n\n  if (guard.type === DEFAULT_GUARD_TYPE) {\n    return ((guards === null || guards === void 0 ? void 0 : guards[guard.name]) || guard.predicate)(context, _event.data, guardMeta);\n  }\n\n  var condFn = guards === null || guards === void 0 ? void 0 : guards[guard.type];\n\n  if (!condFn) {\n    throw new Error(\"Guard '\".concat(guard.type, \"' is not implemented on machine '\").concat(machine.id, \"'.\"));\n  }\n\n  return condFn(context, _event.data, guardMeta);\n}\nfunction toInvokeSource(src) {\n  if (typeof src === 'string') {\n    return {\n      type: src\n    };\n  }\n\n  return src;\n}\nfunction toObserver(nextHandler, errorHandler, completionHandler) {\n  var noop = function () {};\n\n  var isObserver = typeof nextHandler === 'object';\n  var self = isObserver ? nextHandler : null;\n  return {\n    next: ((isObserver ? nextHandler.next : nextHandler) || noop).bind(self),\n    error: ((isObserver ? nextHandler.error : errorHandler) || noop).bind(self),\n    complete: ((isObserver ? nextHandler.complete : completionHandler) || noop).bind(self)\n  };\n}\nfunction createInvokeId(stateNodeId, index) {\n  return \"\".concat(stateNodeId, \":invocation[\").concat(index, \"]\");\n}\n\nexport { createInvokeId, evaluateGuard, flatten, getActionType, getEventType, interopSymbols, isActor, isArray, isBehavior, isBuiltInEvent, isFunction, isMachine, isObservable, isPromiseLike, isStateLike, isString, keys, mapContext, mapFilterValues, mapValues, matchesState, nestedPath, normalizeTarget, partition, path, pathToStateValue, pathsToStateValue, reportUnhandledExceptionOnInvocation, symbolObservable, toArray, toArrayStrict, toEventObject, toGuard, toInvokeSource, toObserver, toSCXMLEvent, toStatePath, toStatePaths, toStateValue, toTransitionConfigArray, uniqueId, updateContext, updateHistoryStates, updateHistoryValue, warn };\n","import { __assign, __spreadArray, __read, __values } from './_virtual/_tslib.js';\nimport { SpecialTargets, ActionTypes } from './types.js';\nimport { init, send as send$1, raise as raise$1, update, log as log$1, cancel as cancel$1, assign as assign$1, error as error$1, stop as stop$1, pure as pure$1, choose as choose$1 } from './actionTypes.js';\nimport * as actionTypes from './actionTypes.js';\nexport { actionTypes };\nimport { toSCXMLEvent, isString, isFunction, toEventObject, getEventType, updateContext, flatten, isArray, toArray, toGuard, evaluateGuard, warn } from './utils.js';\nimport { IS_PRODUCTION } from './environment.js';\n\nvar initEvent = /*#__PURE__*/toSCXMLEvent({\n  type: init\n});\nfunction getActionFunction(actionType, actionFunctionMap) {\n  return actionFunctionMap ? actionFunctionMap[actionType] || undefined : undefined;\n}\nfunction toActionObject(action, actionFunctionMap) {\n  var actionObject;\n\n  if (isString(action) || typeof action === 'number') {\n    var exec = getActionFunction(action, actionFunctionMap);\n\n    if (isFunction(exec)) {\n      actionObject = {\n        type: action,\n        exec: exec\n      };\n    } else if (exec) {\n      actionObject = exec;\n    } else {\n      actionObject = {\n        type: action,\n        exec: undefined\n      };\n    }\n  } else if (isFunction(action)) {\n    actionObject = {\n      // Convert action to string if unnamed\n      type: action.name || action.toString(),\n      exec: action\n    };\n  } else {\n    var exec = getActionFunction(action.type, actionFunctionMap);\n\n    if (isFunction(exec)) {\n      actionObject = __assign(__assign({}, action), {\n        exec: exec\n      });\n    } else if (exec) {\n      var actionType = exec.type || action.type;\n      actionObject = __assign(__assign(__assign({}, exec), action), {\n        type: actionType\n      });\n    } else {\n      actionObject = action;\n    }\n  }\n\n  return actionObject;\n}\nvar toActionObjects = function (action, actionFunctionMap) {\n  if (!action) {\n    return [];\n  }\n\n  var actions = isArray(action) ? action : [action];\n  return actions.map(function (subAction) {\n    return toActionObject(subAction, actionFunctionMap);\n  });\n};\nfunction toActivityDefinition(action) {\n  var actionObject = toActionObject(action);\n  return __assign(__assign({\n    id: isString(action) ? action : actionObject.id\n  }, actionObject), {\n    type: actionObject.type\n  });\n}\n/**\r\n * Raises an event. This places the event in the internal event queue, so that\r\n * the event is immediately consumed by the machine in the current step.\r\n *\r\n * @param eventType The event to raise.\r\n */\n\nfunction raise(event) {\n  if (!isString(event)) {\n    return send(event, {\n      to: SpecialTargets.Internal\n    });\n  }\n\n  return {\n    type: raise$1,\n    event: event\n  };\n}\nfunction resolveRaise(action) {\n  return {\n    type: raise$1,\n    _event: toSCXMLEvent(action.event)\n  };\n}\n/**\r\n * Sends an event. This returns an action that will be read by an interpreter to\r\n * send the event in the next step, after the current step is finished executing.\r\n *\r\n * @param event The event to send.\r\n * @param options Options to pass into the send event:\r\n *  - `id` - The unique send event identifier (used with `cancel()`).\r\n *  - `delay` - The number of milliseconds to delay the sending of the event.\r\n *  - `to` - The target of this event (by default, the machine the event was sent from).\r\n */\n\nfunction send(event, options) {\n  return {\n    to: options ? options.to : undefined,\n    type: send$1,\n    event: isFunction(event) ? event : toEventObject(event),\n    delay: options ? options.delay : undefined,\n    id: options && options.id !== undefined ? options.id : isFunction(event) ? event.name : getEventType(event)\n  };\n}\nfunction resolveSend(action, ctx, _event, delaysMap) {\n  var meta = {\n    _event: _event\n  }; // TODO: helper function for resolving Expr\n\n  var resolvedEvent = toSCXMLEvent(isFunction(action.event) ? action.event(ctx, _event.data, meta) : action.event);\n  var resolvedDelay;\n\n  if (isString(action.delay)) {\n    var configDelay = delaysMap && delaysMap[action.delay];\n    resolvedDelay = isFunction(configDelay) ? configDelay(ctx, _event.data, meta) : configDelay;\n  } else {\n    resolvedDelay = isFunction(action.delay) ? action.delay(ctx, _event.data, meta) : action.delay;\n  }\n\n  var resolvedTarget = isFunction(action.to) ? action.to(ctx, _event.data, meta) : action.to;\n  return __assign(__assign({}, action), {\n    to: resolvedTarget,\n    _event: resolvedEvent,\n    event: resolvedEvent.data,\n    delay: resolvedDelay\n  });\n}\n/**\r\n * Sends an event to this machine's parent.\r\n *\r\n * @param event The event to send to the parent machine.\r\n * @param options Options to pass into the send event.\r\n */\n\nfunction sendParent(event, options) {\n  return send(event, __assign(__assign({}, options), {\n    to: SpecialTargets.Parent\n  }));\n}\n/**\r\n * Sends an event to an actor.\r\n *\r\n * @param actor The `ActorRef` to send the event to.\r\n * @param event The event to send, or an expression that evaluates to the event to send\r\n * @param options Send action options\r\n * @returns An XState send action object\r\n */\n\nfunction sendTo(actor, event, options) {\n  return send(event, __assign(__assign({}, options), {\n    to: actor\n  }));\n}\n/**\r\n * Sends an update event to this machine's parent.\r\n */\n\nfunction sendUpdate() {\n  return sendParent(update);\n}\n/**\r\n * Sends an event back to the sender of the original event.\r\n *\r\n * @param event The event to send back to the sender\r\n * @param options Options to pass into the send event\r\n */\n\nfunction respond(event, options) {\n  return send(event, __assign(__assign({}, options), {\n    to: function (_, __, _a) {\n      var _event = _a._event;\n      return _event.origin; // TODO: handle when _event.origin is undefined\n    }\n  }));\n}\n\nvar defaultLogExpr = function (context, event) {\n  return {\n    context: context,\n    event: event\n  };\n};\n/**\r\n *\r\n * @param expr The expression function to evaluate which will be logged.\r\n *  Takes in 2 arguments:\r\n *  - `ctx` - the current state context\r\n *  - `event` - the event that caused this action to be executed.\r\n * @param label The label to give to the logged expression.\r\n */\n\n\nfunction log(expr, label) {\n  if (expr === void 0) {\n    expr = defaultLogExpr;\n  }\n\n  return {\n    type: log$1,\n    label: label,\n    expr: expr\n  };\n}\nvar resolveLog = function (action, ctx, _event) {\n  return __assign(__assign({}, action), {\n    value: isString(action.expr) ? action.expr : action.expr(ctx, _event.data, {\n      _event: _event\n    })\n  });\n};\n/**\r\n * Cancels an in-flight `send(...)` action. A canceled sent action will not\r\n * be executed, nor will its event be sent, unless it has already been sent\r\n * (e.g., if `cancel(...)` is called after the `send(...)` action's `delay`).\r\n *\r\n * @param sendId The `id` of the `send(...)` action to cancel.\r\n */\n\nvar cancel = function (sendId) {\n  return {\n    type: cancel$1,\n    sendId: sendId\n  };\n};\n/**\r\n * Starts an activity.\r\n *\r\n * @param activity The activity to start.\r\n */\n\nfunction start(activity) {\n  var activityDef = toActivityDefinition(activity);\n  return {\n    type: ActionTypes.Start,\n    activity: activityDef,\n    exec: undefined\n  };\n}\n/**\r\n * Stops an activity.\r\n *\r\n * @param actorRef The activity to stop.\r\n */\n\nfunction stop(actorRef) {\n  var activity = isFunction(actorRef) ? actorRef : toActivityDefinition(actorRef);\n  return {\n    type: ActionTypes.Stop,\n    activity: activity,\n    exec: undefined\n  };\n}\nfunction resolveStop(action, context, _event) {\n  var actorRefOrString = isFunction(action.activity) ? action.activity(context, _event.data) : action.activity;\n  var resolvedActorRef = typeof actorRefOrString === 'string' ? {\n    id: actorRefOrString\n  } : actorRefOrString;\n  var actionObject = {\n    type: ActionTypes.Stop,\n    activity: resolvedActorRef\n  };\n  return actionObject;\n}\n/**\r\n * Updates the current context of the machine.\r\n *\r\n * @param assignment An object that represents the partial context to update.\r\n */\n\nvar assign = function (assignment) {\n  return {\n    type: assign$1,\n    assignment: assignment\n  };\n};\nfunction isActionObject(action) {\n  return typeof action === 'object' && 'type' in action;\n}\n/**\r\n * Returns an event type that represents an implicit event that\r\n * is sent after the specified `delay`.\r\n *\r\n * @param delayRef The delay in milliseconds\r\n * @param id The state node ID where this event is handled\r\n */\n\nfunction after(delayRef, id) {\n  var idSuffix = id ? \"#\".concat(id) : '';\n  return \"\".concat(ActionTypes.After, \"(\").concat(delayRef, \")\").concat(idSuffix);\n}\n/**\r\n * Returns an event that represents that a final state node\r\n * has been reached in the parent state node.\r\n *\r\n * @param id The final state node's parent state node `id`\r\n * @param data The data to pass into the event\r\n */\n\nfunction done(id, data) {\n  var type = \"\".concat(ActionTypes.DoneState, \".\").concat(id);\n  var eventObject = {\n    type: type,\n    data: data\n  };\n\n  eventObject.toString = function () {\n    return type;\n  };\n\n  return eventObject;\n}\n/**\r\n * Returns an event that represents that an invoked service has terminated.\r\n *\r\n * An invoked service is terminated when it has reached a top-level final state node,\r\n * but not when it is canceled.\r\n *\r\n * @param id The final state node ID\r\n * @param data The data to pass into the event\r\n */\n\nfunction doneInvoke(id, data) {\n  var type = \"\".concat(ActionTypes.DoneInvoke, \".\").concat(id);\n  var eventObject = {\n    type: type,\n    data: data\n  };\n\n  eventObject.toString = function () {\n    return type;\n  };\n\n  return eventObject;\n}\nfunction error(id, data) {\n  var type = \"\".concat(ActionTypes.ErrorPlatform, \".\").concat(id);\n  var eventObject = {\n    type: type,\n    data: data\n  };\n\n  eventObject.toString = function () {\n    return type;\n  };\n\n  return eventObject;\n}\nfunction pure(getActions) {\n  return {\n    type: ActionTypes.Pure,\n    get: getActions\n  };\n}\n/**\r\n * Forwards (sends) an event to a specified service.\r\n *\r\n * @param target The target service to forward the event to.\r\n * @param options Options to pass into the send action creator.\r\n */\n\nfunction forwardTo(target, options) {\n  if (!IS_PRODUCTION && (!target || typeof target === 'function')) {\n    var originalTarget_1 = target;\n\n    target = function () {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      var resolvedTarget = typeof originalTarget_1 === 'function' ? originalTarget_1.apply(void 0, __spreadArray([], __read(args), false)) : originalTarget_1;\n\n      if (!resolvedTarget) {\n        throw new Error(\"Attempted to forward event to undefined actor. This risks an infinite loop in the sender.\");\n      }\n\n      return resolvedTarget;\n    };\n  }\n\n  return send(function (_, event) {\n    return event;\n  }, __assign(__assign({}, options), {\n    to: target\n  }));\n}\n/**\r\n * Escalates an error by sending it as an event to this machine's parent.\r\n *\r\n * @param errorData The error data to send, or the expression function that\r\n * takes in the `context`, `event`, and `meta`, and returns the error data to send.\r\n * @param options Options to pass into the send action creator.\r\n */\n\nfunction escalate(errorData, options) {\n  return sendParent(function (context, event, meta) {\n    return {\n      type: error$1,\n      data: isFunction(errorData) ? errorData(context, event, meta) : errorData\n    };\n  }, __assign(__assign({}, options), {\n    to: SpecialTargets.Parent\n  }));\n}\nfunction choose(conds) {\n  return {\n    type: ActionTypes.Choose,\n    conds: conds\n  };\n}\n\nvar pluckAssigns = function (actionBlocks) {\n  var e_1, _a;\n\n  var assignActions = [];\n\n  try {\n    for (var actionBlocks_1 = __values(actionBlocks), actionBlocks_1_1 = actionBlocks_1.next(); !actionBlocks_1_1.done; actionBlocks_1_1 = actionBlocks_1.next()) {\n      var block = actionBlocks_1_1.value;\n      var i = 0;\n\n      while (i < block.length) {\n        if (block[i].type === assign$1) {\n          assignActions.push(block[i]);\n          block.splice(i, 1);\n          continue;\n        }\n\n        i++;\n      }\n    }\n  } catch (e_1_1) {\n    e_1 = {\n      error: e_1_1\n    };\n  } finally {\n    try {\n      if (actionBlocks_1_1 && !actionBlocks_1_1.done && (_a = actionBlocks_1.return)) _a.call(actionBlocks_1);\n    } finally {\n      if (e_1) throw e_1.error;\n    }\n  }\n\n  return assignActions;\n};\n\nfunction resolveActions(machine, currentState, currentContext, _event, actionBlocks, predictableExec, preserveActionOrder) {\n  if (preserveActionOrder === void 0) {\n    preserveActionOrder = false;\n  }\n\n  var assignActions = preserveActionOrder ? [] : pluckAssigns(actionBlocks);\n  var updatedContext = assignActions.length ? updateContext(currentContext, _event, assignActions, currentState) : currentContext;\n  var preservedContexts = preserveActionOrder ? [currentContext] : undefined;\n  var deferredToBlockEnd = [];\n\n  function handleAction(actionObject) {\n    var _a;\n\n    switch (actionObject.type) {\n      case raise$1:\n        {\n          return resolveRaise(actionObject);\n        }\n\n      case send$1:\n        var sendAction = resolveSend(actionObject, updatedContext, _event, machine.options.delays); // TODO: fix ActionTypes.Init\n\n        if (!IS_PRODUCTION) {\n          // warn after resolving as we can create better contextual message here\n          warn(!isString(actionObject.delay) || typeof sendAction.delay === 'number', // tslint:disable-next-line:max-line-length\n          \"No delay reference for delay expression '\".concat(actionObject.delay, \"' was found on machine '\").concat(machine.id, \"'\"));\n        }\n\n        if (predictableExec && sendAction.to !== SpecialTargets.Internal) {\n          deferredToBlockEnd.push(sendAction);\n        }\n\n        return sendAction;\n\n      case log$1:\n        {\n          var resolved = resolveLog(actionObject, updatedContext, _event);\n          predictableExec === null || predictableExec === void 0 ? void 0 : predictableExec(resolved, updatedContext, _event);\n          return resolved;\n        }\n\n      case choose$1:\n        {\n          var chooseAction = actionObject;\n          var matchedActions = (_a = chooseAction.conds.find(function (condition) {\n            var guard = toGuard(condition.cond, machine.options.guards);\n            return !guard || evaluateGuard(machine, guard, updatedContext, _event, !predictableExec ? currentState : undefined);\n          })) === null || _a === void 0 ? void 0 : _a.actions;\n\n          if (!matchedActions) {\n            return [];\n          }\n\n          var _b = __read(resolveActions(machine, currentState, updatedContext, _event, [toActionObjects(toArray(matchedActions), machine.options.actions)], predictableExec, preserveActionOrder), 2),\n              resolvedActionsFromChoose = _b[0],\n              resolvedContextFromChoose = _b[1];\n\n          updatedContext = resolvedContextFromChoose;\n          preservedContexts === null || preservedContexts === void 0 ? void 0 : preservedContexts.push(updatedContext);\n          return resolvedActionsFromChoose;\n        }\n\n      case pure$1:\n        {\n          var matchedActions = actionObject.get(updatedContext, _event.data);\n\n          if (!matchedActions) {\n            return [];\n          }\n\n          var _c = __read(resolveActions(machine, currentState, updatedContext, _event, [toActionObjects(toArray(matchedActions), machine.options.actions)], predictableExec, preserveActionOrder), 2),\n              resolvedActionsFromPure = _c[0],\n              resolvedContext = _c[1];\n\n          updatedContext = resolvedContext;\n          preservedContexts === null || preservedContexts === void 0 ? void 0 : preservedContexts.push(updatedContext);\n          return resolvedActionsFromPure;\n        }\n\n      case stop$1:\n        {\n          var resolved = resolveStop(actionObject, updatedContext, _event);\n          predictableExec === null || predictableExec === void 0 ? void 0 : predictableExec(resolved, currentContext, _event);\n          return resolved;\n        }\n\n      case assign$1:\n        {\n          updatedContext = updateContext(updatedContext, _event, [actionObject], !predictableExec ? currentState : undefined);\n          preservedContexts === null || preservedContexts === void 0 ? void 0 : preservedContexts.push(updatedContext);\n          break;\n        }\n\n      default:\n        var resolvedActionObject = toActionObject(actionObject, machine.options.actions);\n        var exec_1 = resolvedActionObject.exec;\n\n        if (predictableExec) {\n          predictableExec(resolvedActionObject, updatedContext, _event);\n        } else if (exec_1 && preservedContexts) {\n          var contextIndex_1 = preservedContexts.length - 1;\n          resolvedActionObject = __assign(__assign({}, resolvedActionObject), {\n            exec: function (_ctx) {\n              var args = [];\n\n              for (var _i = 1; _i < arguments.length; _i++) {\n                args[_i - 1] = arguments[_i];\n              }\n\n              exec_1.apply(void 0, __spreadArray([preservedContexts[contextIndex_1]], __read(args), false));\n            }\n          });\n        }\n\n        return resolvedActionObject;\n    }\n  }\n\n  function processBlock(block) {\n    var e_2, _a;\n\n    var resolvedActions = [];\n\n    try {\n      for (var block_1 = __values(block), block_1_1 = block_1.next(); !block_1_1.done; block_1_1 = block_1.next()) {\n        var action = block_1_1.value;\n        var resolved = handleAction(action);\n\n        if (resolved) {\n          resolvedActions = resolvedActions.concat(resolved);\n        }\n      }\n    } catch (e_2_1) {\n      e_2 = {\n        error: e_2_1\n      };\n    } finally {\n      try {\n        if (block_1_1 && !block_1_1.done && (_a = block_1.return)) _a.call(block_1);\n      } finally {\n        if (e_2) throw e_2.error;\n      }\n    }\n\n    deferredToBlockEnd.forEach(function (action) {\n      predictableExec(action, updatedContext, _event);\n    });\n    deferredToBlockEnd.length = 0;\n    return resolvedActions;\n  }\n\n  var resolvedActions = flatten(actionBlocks.map(processBlock));\n  return [resolvedActions, updatedContext];\n}\n\nexport { after, assign, cancel, choose, done, doneInvoke, error, escalate, forwardTo, getActionFunction, initEvent, isActionObject, log, pure, raise, resolveActions, resolveLog, resolveRaise, resolveSend, resolveStop, respond, send, sendParent, sendTo, sendUpdate, start, stop, toActionObject, toActionObjects, toActivityDefinition };\n","/**\r\n * Maintains a stack of the current service in scope.\r\n * This is used to provide the correct service to spawn().\r\n */\nvar serviceStack = [];\nvar provide = function (service, fn) {\n  serviceStack.push(service);\n  var result = fn(service);\n  serviceStack.pop();\n  return result;\n};\nvar consume = function (fn) {\n  return fn(serviceStack[serviceStack.length - 1]);\n};\n\nexport { consume, provide };\n","import { __assign } from './_virtual/_tslib.js';\nimport { symbolObservable, toInvokeSource, mapContext, isMachine } from './utils.js';\nimport { provide } from './serviceScope.js';\n\nfunction createNullActor(id) {\n  var _a;\n\n  return _a = {\n    id: id,\n    send: function () {\n      return void 0;\n    },\n    subscribe: function () {\n      return {\n        unsubscribe: function () {\n          return void 0;\n        }\n      };\n    },\n    getSnapshot: function () {\n      return undefined;\n    },\n    toJSON: function () {\n      return {\n        id: id\n      };\n    }\n  }, _a[symbolObservable] = function () {\n    return this;\n  }, _a;\n}\n/**\r\n * Creates a deferred actor that is able to be invoked given the provided\r\n * invocation information in its `.meta` value.\r\n *\r\n * @param invokeDefinition The meta information needed to invoke the actor.\r\n */\n\nfunction createInvocableActor(invokeDefinition, machine, context, _event) {\n  var _a;\n\n  var invokeSrc = toInvokeSource(invokeDefinition.src);\n  var serviceCreator = (_a = machine === null || machine === void 0 ? void 0 : machine.options.services) === null || _a === void 0 ? void 0 : _a[invokeSrc.type];\n  var resolvedData = invokeDefinition.data ? mapContext(invokeDefinition.data, context, _event) : undefined;\n  var tempActor = serviceCreator ? createDeferredActor(serviceCreator, invokeDefinition.id, resolvedData) : createNullActor(invokeDefinition.id); // @ts-ignore\n\n  tempActor.meta = invokeDefinition;\n  return tempActor;\n}\nfunction createDeferredActor(entity, id, data) {\n  var tempActor = createNullActor(id); // @ts-ignore\n\n  tempActor.deferred = true;\n\n  if (isMachine(entity)) {\n    // \"mute\" the existing service scope so potential spawned actors within the `.initialState` stay deferred here\n    var initialState_1 = tempActor.state = provide(undefined, function () {\n      return (data ? entity.withContext(data) : entity).initialState;\n    });\n\n    tempActor.getSnapshot = function () {\n      return initialState_1;\n    };\n  }\n\n  return tempActor;\n}\nfunction isActor(item) {\n  try {\n    return typeof item.send === 'function';\n  } catch (e) {\n    return false;\n  }\n}\nfunction isSpawnedActor(item) {\n  return isActor(item) && 'id' in item;\n} // TODO: refactor the return type, this could be written in a better way but it's best to avoid unneccessary breaking changes now\n\nfunction toActorRef(actorRefLike) {\n  var _a;\n\n  return __assign((_a = {\n    subscribe: function () {\n      return {\n        unsubscribe: function () {\n          return void 0;\n        }\n      };\n    },\n    id: 'anonymous',\n    getSnapshot: function () {\n      return undefined;\n    }\n  }, _a[symbolObservable] = function () {\n    return this;\n  }, _a), actorRefLike);\n}\n\nexport { createDeferredActor, createInvocableActor, createNullActor, isActor, isSpawnedActor, toActorRef };\n","import { __values, __spreadArray, __read } from './_virtual/_tslib.js';\nimport { flatten } from './utils.js';\n\nvar isLeafNode = function (stateNode) {\n  return stateNode.type === 'atomic' || stateNode.type === 'final';\n};\nfunction getAllChildren(stateNode) {\n  return Object.keys(stateNode.states).map(function (key) {\n    return stateNode.states[key];\n  });\n}\nfunction getChildren(stateNode) {\n  return getAllChildren(stateNode).filter(function (sn) {\n    return sn.type !== 'history';\n  });\n}\nfunction getAllStateNodes(stateNode) {\n  var stateNodes = [stateNode];\n\n  if (isLeafNode(stateNode)) {\n    return stateNodes;\n  }\n\n  return stateNodes.concat(flatten(getChildren(stateNode).map(getAllStateNodes)));\n}\nfunction getConfiguration(prevStateNodes, stateNodes) {\n  var e_1, _a, e_2, _b, e_3, _c, e_4, _d;\n\n  var prevConfiguration = new Set(prevStateNodes);\n  var prevAdjList = getAdjList(prevConfiguration);\n  var configuration = new Set(stateNodes);\n\n  try {\n    // add all ancestors\n    for (var configuration_1 = __values(configuration), configuration_1_1 = configuration_1.next(); !configuration_1_1.done; configuration_1_1 = configuration_1.next()) {\n      var s = configuration_1_1.value;\n      var m = s.parent;\n\n      while (m && !configuration.has(m)) {\n        configuration.add(m);\n        m = m.parent;\n      }\n    }\n  } catch (e_1_1) {\n    e_1 = {\n      error: e_1_1\n    };\n  } finally {\n    try {\n      if (configuration_1_1 && !configuration_1_1.done && (_a = configuration_1.return)) _a.call(configuration_1);\n    } finally {\n      if (e_1) throw e_1.error;\n    }\n  }\n\n  var adjList = getAdjList(configuration);\n\n  try {\n    // add descendants\n    for (var configuration_2 = __values(configuration), configuration_2_1 = configuration_2.next(); !configuration_2_1.done; configuration_2_1 = configuration_2.next()) {\n      var s = configuration_2_1.value; // if previously active, add existing child nodes\n\n      if (s.type === 'compound' && (!adjList.get(s) || !adjList.get(s).length)) {\n        if (prevAdjList.get(s)) {\n          prevAdjList.get(s).forEach(function (sn) {\n            return configuration.add(sn);\n          });\n        } else {\n          s.initialStateNodes.forEach(function (sn) {\n            return configuration.add(sn);\n          });\n        }\n      } else {\n        if (s.type === 'parallel') {\n          try {\n            for (var _e = (e_3 = void 0, __values(getChildren(s))), _f = _e.next(); !_f.done; _f = _e.next()) {\n              var child = _f.value;\n\n              if (!configuration.has(child)) {\n                configuration.add(child);\n\n                if (prevAdjList.get(child)) {\n                  prevAdjList.get(child).forEach(function (sn) {\n                    return configuration.add(sn);\n                  });\n                } else {\n                  child.initialStateNodes.forEach(function (sn) {\n                    return configuration.add(sn);\n                  });\n                }\n              }\n            }\n          } catch (e_3_1) {\n            e_3 = {\n              error: e_3_1\n            };\n          } finally {\n            try {\n              if (_f && !_f.done && (_c = _e.return)) _c.call(_e);\n            } finally {\n              if (e_3) throw e_3.error;\n            }\n          }\n        }\n      }\n    }\n  } catch (e_2_1) {\n    e_2 = {\n      error: e_2_1\n    };\n  } finally {\n    try {\n      if (configuration_2_1 && !configuration_2_1.done && (_b = configuration_2.return)) _b.call(configuration_2);\n    } finally {\n      if (e_2) throw e_2.error;\n    }\n  }\n\n  try {\n    // add all ancestors\n    for (var configuration_3 = __values(configuration), configuration_3_1 = configuration_3.next(); !configuration_3_1.done; configuration_3_1 = configuration_3.next()) {\n      var s = configuration_3_1.value;\n      var m = s.parent;\n\n      while (m && !configuration.has(m)) {\n        configuration.add(m);\n        m = m.parent;\n      }\n    }\n  } catch (e_4_1) {\n    e_4 = {\n      error: e_4_1\n    };\n  } finally {\n    try {\n      if (configuration_3_1 && !configuration_3_1.done && (_d = configuration_3.return)) _d.call(configuration_3);\n    } finally {\n      if (e_4) throw e_4.error;\n    }\n  }\n\n  return configuration;\n}\n\nfunction getValueFromAdj(baseNode, adjList) {\n  var childStateNodes = adjList.get(baseNode);\n\n  if (!childStateNodes) {\n    return {}; // todo: fix?\n  }\n\n  if (baseNode.type === 'compound') {\n    var childStateNode = childStateNodes[0];\n\n    if (childStateNode) {\n      if (isLeafNode(childStateNode)) {\n        return childStateNode.key;\n      }\n    } else {\n      return {};\n    }\n  }\n\n  var stateValue = {};\n  childStateNodes.forEach(function (csn) {\n    stateValue[csn.key] = getValueFromAdj(csn, adjList);\n  });\n  return stateValue;\n}\n\nfunction getAdjList(configuration) {\n  var e_5, _a;\n\n  var adjList = new Map();\n\n  try {\n    for (var configuration_4 = __values(configuration), configuration_4_1 = configuration_4.next(); !configuration_4_1.done; configuration_4_1 = configuration_4.next()) {\n      var s = configuration_4_1.value;\n\n      if (!adjList.has(s)) {\n        adjList.set(s, []);\n      }\n\n      if (s.parent) {\n        if (!adjList.has(s.parent)) {\n          adjList.set(s.parent, []);\n        }\n\n        adjList.get(s.parent).push(s);\n      }\n    }\n  } catch (e_5_1) {\n    e_5 = {\n      error: e_5_1\n    };\n  } finally {\n    try {\n      if (configuration_4_1 && !configuration_4_1.done && (_a = configuration_4.return)) _a.call(configuration_4);\n    } finally {\n      if (e_5) throw e_5.error;\n    }\n  }\n\n  return adjList;\n}\nfunction getValue(rootNode, configuration) {\n  var config = getConfiguration([rootNode], configuration);\n  return getValueFromAdj(rootNode, getAdjList(config));\n}\nfunction has(iterable, item) {\n  if (Array.isArray(iterable)) {\n    return iterable.some(function (member) {\n      return member === item;\n    });\n  }\n\n  if (iterable instanceof Set) {\n    return iterable.has(item);\n  }\n\n  return false; // TODO: fix\n}\nfunction nextEvents(configuration) {\n  return __spreadArray([], __read(new Set(flatten(__spreadArray([], __read(configuration.map(function (sn) {\n    return sn.ownEvents;\n  })), false)))), false);\n}\nfunction isInFinalState(configuration, stateNode) {\n  if (stateNode.type === 'compound') {\n    return getChildren(stateNode).some(function (s) {\n      return s.type === 'final' && has(configuration, s);\n    });\n  }\n\n  if (stateNode.type === 'parallel') {\n    return getChildren(stateNode).every(function (sn) {\n      return isInFinalState(configuration, sn);\n    });\n  }\n\n  return false;\n}\nfunction getMeta(configuration) {\n  if (configuration === void 0) {\n    configuration = [];\n  }\n\n  return configuration.reduce(function (acc, stateNode) {\n    if (stateNode.meta !== undefined) {\n      acc[stateNode.id] = stateNode.meta;\n    }\n\n    return acc;\n  }, {});\n}\nfunction getTagsFromConfiguration(configuration) {\n  return new Set(flatten(configuration.map(function (sn) {\n    return sn.tags;\n  })));\n}\n\nexport { getAdjList, getAllChildren, getAllStateNodes, getChildren, getConfiguration, getMeta, getTagsFromConfiguration, getValue, has, isInFinalState, isLeafNode, nextEvents };\n","import { __assign, __spreadArray, __read, __rest } from './_virtual/_tslib.js';\nimport { EMPTY_ACTIVITY_MAP } from './constants.js';\nimport { isString, matchesState, warn } from './utils.js';\nimport { getMeta, nextEvents } from './stateUtils.js';\nimport { initEvent } from './actions.js';\nimport { IS_PRODUCTION } from './environment.js';\n\nfunction stateValuesEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (a === undefined || b === undefined) {\n    return false;\n  }\n\n  if (isString(a) || isString(b)) {\n    return a === b;\n  }\n\n  var aKeys = Object.keys(a);\n  var bKeys = Object.keys(b);\n  return aKeys.length === bKeys.length && aKeys.every(function (key) {\n    return stateValuesEqual(a[key], b[key]);\n  });\n}\nfunction isStateConfig(state) {\n  if (typeof state !== 'object' || state === null) {\n    return false;\n  }\n\n  return 'value' in state && '_event' in state;\n}\n/**\r\n * @deprecated Use `isStateConfig(object)` or `state instanceof State` instead.\r\n */\n\nvar isState = isStateConfig;\nfunction bindActionToState(action, state) {\n  var exec = action.exec;\n\n  var boundAction = __assign(__assign({}, action), {\n    exec: exec !== undefined ? function () {\n      return exec(state.context, state.event, {\n        action: action,\n        state: state,\n        _event: state._event\n      });\n    } : undefined\n  });\n\n  return boundAction;\n}\n\nvar State =\n/*#__PURE__*/\n\n/** @class */\nfunction () {\n  /**\r\n   * Creates a new State instance.\r\n   * @param value The state value\r\n   * @param context The extended state\r\n   * @param historyValue The tree representing historical values of the state nodes\r\n   * @param history The previous state\r\n   * @param actions An array of action objects to execute as side-effects\r\n   * @param activities A mapping of activities and whether they are started (`true`) or stopped (`false`).\r\n   * @param meta\r\n   * @param events Internal event queue. Should be empty with run-to-completion semantics.\r\n   * @param configuration\r\n   */\n  function State(config) {\n    var _this = this;\n\n    var _a;\n\n    this.actions = [];\n    this.activities = EMPTY_ACTIVITY_MAP;\n    this.meta = {};\n    this.events = [];\n    this.value = config.value;\n    this.context = config.context;\n    this._event = config._event;\n    this._sessionid = config._sessionid;\n    this.event = this._event.data;\n    this.historyValue = config.historyValue;\n    this.history = config.history;\n    this.actions = config.actions || [];\n    this.activities = config.activities || EMPTY_ACTIVITY_MAP;\n    this.meta = getMeta(config.configuration);\n    this.events = config.events || [];\n    this.matches = this.matches.bind(this);\n    this.toStrings = this.toStrings.bind(this);\n    this.configuration = config.configuration;\n    this.transitions = config.transitions;\n    this.children = config.children;\n    this.done = !!config.done;\n    this.tags = (_a = Array.isArray(config.tags) ? new Set(config.tags) : config.tags) !== null && _a !== void 0 ? _a : new Set();\n    this.machine = config.machine;\n    Object.defineProperty(this, 'nextEvents', {\n      get: function () {\n        return nextEvents(_this.configuration);\n      }\n    });\n  }\n  /**\r\n   * Creates a new State instance for the given `stateValue` and `context`.\r\n   * @param stateValue\r\n   * @param context\r\n   */\n\n\n  State.from = function (stateValue, context) {\n    if (stateValue instanceof State) {\n      if (stateValue.context !== context) {\n        return new State({\n          value: stateValue.value,\n          context: context,\n          _event: stateValue._event,\n          _sessionid: null,\n          historyValue: stateValue.historyValue,\n          history: stateValue.history,\n          actions: [],\n          activities: stateValue.activities,\n          meta: {},\n          events: [],\n          configuration: [],\n          transitions: [],\n          children: {}\n        });\n      }\n\n      return stateValue;\n    }\n\n    var _event = initEvent;\n    return new State({\n      value: stateValue,\n      context: context,\n      _event: _event,\n      _sessionid: null,\n      historyValue: undefined,\n      history: undefined,\n      actions: [],\n      activities: undefined,\n      meta: undefined,\n      events: [],\n      configuration: [],\n      transitions: [],\n      children: {}\n    });\n  };\n  /**\r\n   * Creates a new State instance for the given `config`.\r\n   * @param config The state config\r\n   */\n\n\n  State.create = function (config) {\n    return new State(config);\n  };\n  /**\r\n   * Creates a new `State` instance for the given `stateValue` and `context` with no actions (side-effects).\r\n   * @param stateValue\r\n   * @param context\r\n   */\n\n\n  State.inert = function (stateValue, context) {\n    if (stateValue instanceof State) {\n      if (!stateValue.actions.length) {\n        return stateValue;\n      }\n\n      var _event = initEvent;\n      return new State({\n        value: stateValue.value,\n        context: context,\n        _event: _event,\n        _sessionid: null,\n        historyValue: stateValue.historyValue,\n        history: stateValue.history,\n        activities: stateValue.activities,\n        configuration: stateValue.configuration,\n        transitions: [],\n        children: {}\n      });\n    }\n\n    return State.from(stateValue, context);\n  };\n  /**\r\n   * Returns an array of all the string leaf state node paths.\r\n   * @param stateValue\r\n   * @param delimiter The character(s) that separate each subpath in the string state node path.\r\n   */\n\n\n  State.prototype.toStrings = function (stateValue, delimiter) {\n    var _this = this;\n\n    if (stateValue === void 0) {\n      stateValue = this.value;\n    }\n\n    if (delimiter === void 0) {\n      delimiter = '.';\n    }\n\n    if (isString(stateValue)) {\n      return [stateValue];\n    }\n\n    var valueKeys = Object.keys(stateValue);\n    return valueKeys.concat.apply(valueKeys, __spreadArray([], __read(valueKeys.map(function (key) {\n      return _this.toStrings(stateValue[key], delimiter).map(function (s) {\n        return key + delimiter + s;\n      });\n    })), false));\n  };\n\n  State.prototype.toJSON = function () {\n    var _a = this;\n        _a.configuration;\n        _a.transitions;\n        var tags = _a.tags;\n        _a.machine;\n        var jsonValues = __rest(_a, [\"configuration\", \"transitions\", \"tags\", \"machine\"]);\n\n    return __assign(__assign({}, jsonValues), {\n      tags: Array.from(tags)\n    });\n  };\n\n  State.prototype.matches = function (parentStateValue) {\n    return matchesState(parentStateValue, this.value);\n  };\n  /**\r\n   * Whether the current state configuration has a state node with the specified `tag`.\r\n   * @param tag\r\n   */\n\n\n  State.prototype.hasTag = function (tag) {\n    return this.tags.has(tag);\n  };\n  /**\r\n   * Determines whether sending the `event` will cause a non-forbidden transition\r\n   * to be selected, even if the transitions have no actions nor\r\n   * change the state value.\r\n   *\r\n   * @param event The event to test\r\n   * @returns Whether the event will cause a transition\r\n   */\n\n\n  State.prototype.can = function (event) {\n    var _a;\n\n    if (IS_PRODUCTION) {\n      warn(!!this.machine, \"state.can(...) used outside of a machine-created State object; this will always return false.\");\n    }\n\n    var transitionData = (_a = this.machine) === null || _a === void 0 ? void 0 : _a.getTransitionData(this, event);\n    return !!(transitionData === null || transitionData === void 0 ? void 0 : transitionData.transitions.length) && // Check that at least one transition is not forbidden\n    transitionData.transitions.some(function (t) {\n      return t.target !== undefined || t.actions.length;\n    });\n  };\n\n  return State;\n}();\n\nexport { State, bindActionToState, isState, isStateConfig, stateValuesEqual };\n","import { __assign } from './_virtual/_tslib.js';\n\nvar defaultOptions = {\n  deferEvents: false\n};\n\nvar Scheduler =\n/*#__PURE__*/\n\n/** @class */\nfunction () {\n  function Scheduler(options) {\n    this.processingEvent = false;\n    this.queue = [];\n    this.initialized = false;\n    this.options = __assign(__assign({}, defaultOptions), options);\n  }\n\n  Scheduler.prototype.initialize = function (callback) {\n    this.initialized = true;\n\n    if (callback) {\n      if (!this.options.deferEvents) {\n        this.schedule(callback);\n        return;\n      }\n\n      this.process(callback);\n    }\n\n    this.flushEvents();\n  };\n\n  Scheduler.prototype.schedule = function (task) {\n    if (!this.initialized || this.processingEvent) {\n      this.queue.push(task);\n      return;\n    }\n\n    if (this.queue.length !== 0) {\n      throw new Error('Event queue should be empty when it is not processing events');\n    }\n\n    this.process(task);\n    this.flushEvents();\n  };\n\n  Scheduler.prototype.clear = function () {\n    this.queue = [];\n  };\n\n  Scheduler.prototype.flushEvents = function () {\n    var nextCallback = this.queue.shift();\n\n    while (nextCallback) {\n      this.process(nextCallback);\n      nextCallback = this.queue.shift();\n    }\n  };\n\n  Scheduler.prototype.process = function (callback) {\n    this.processingEvent = true;\n\n    try {\n      callback();\n    } catch (e) {\n      // there is no use to keep the future events\n      // as the situation is not anymore the same\n      this.clear();\n      throw e;\n    } finally {\n      this.processingEvent = false;\n    }\n  };\n\n  return Scheduler;\n}();\n\nexport { Scheduler };\n","var children = /*#__PURE__*/new Map();\nvar sessionIdIndex = 0;\nvar registry = {\n  bookId: function () {\n    return \"x:\".concat(sessionIdIndex++);\n  },\n  register: function (id, actor) {\n    children.set(id, actor);\n    return id;\n  },\n  get: function (id) {\n    return children.get(id);\n  },\n  free: function (id) {\n    children.delete(id);\n  }\n};\n\nexport { registry };\n","import { IS_PRODUCTION } from './environment.js';\n\nfunction getGlobal() {\n  if (typeof globalThis !== 'undefined') {\n    return globalThis;\n  }\n\n  if (typeof self !== 'undefined') {\n    return self;\n  }\n\n  if (typeof window !== 'undefined') {\n    return window;\n  }\n\n  if (typeof global !== 'undefined') {\n    return global;\n  }\n\n  if (!IS_PRODUCTION) {\n    console.warn('XState could not find a global object in this environment. Please let the maintainers know and raise an issue here: https://github.com/statelyai/xstate/issues');\n  }\n}\n\nfunction getDevTools() {\n  var global = getGlobal();\n\n  if (global && '__xstate__' in global) {\n    return global.__xstate__;\n  }\n\n  return undefined;\n}\n\nfunction registerService(service) {\n  if (!getGlobal()) {\n    return;\n  }\n\n  var devTools = getDevTools();\n\n  if (devTools) {\n    devTools.register(service);\n  }\n}\n\nexport { getGlobal, registerService };\n","import { error, doneInvoke } from './actions.js';\nimport { toActorRef } from './Actor.js';\nimport { toObserver } from './utils.js';\n\n/**\r\n * Returns an actor behavior from a reducer and its initial state.\r\n *\r\n * @param transition The pure reducer that returns the next state given the current state and event.\r\n * @param initialState The initial state of the reducer.\r\n * @returns An actor behavior\r\n */\n\nfunction fromReducer(transition, initialState) {\n  return {\n    transition: transition,\n    initialState: initialState\n  };\n}\nfunction fromPromise(promiseFn) {\n  var initialState = {\n    error: undefined,\n    data: undefined,\n    status: 'pending'\n  };\n  return {\n    transition: function (state, event, _a) {\n      var parent = _a.parent,\n          id = _a.id,\n          observers = _a.observers;\n\n      switch (event.type) {\n        case 'fulfill':\n          parent === null || parent === void 0 ? void 0 : parent.send(doneInvoke(id, event.data));\n          return {\n            error: undefined,\n            data: event.data,\n            status: 'fulfilled'\n          };\n\n        case 'reject':\n          parent === null || parent === void 0 ? void 0 : parent.send(error(id, event.error));\n          observers.forEach(function (observer) {\n            observer.error(event.error);\n          });\n          return {\n            error: event.error,\n            data: undefined,\n            status: 'rejected'\n          };\n\n        default:\n          return state;\n      }\n    },\n    initialState: initialState,\n    start: function (_a) {\n      var self = _a.self;\n      promiseFn().then(function (data) {\n        self.send({\n          type: 'fulfill',\n          data: data\n        });\n      }, function (reason) {\n        self.send({\n          type: 'reject',\n          error: reason\n        });\n      });\n      return initialState;\n    }\n  };\n}\nfunction spawnBehavior(behavior, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var state = behavior.initialState;\n  var observers = new Set();\n  var mailbox = [];\n  var flushing = false;\n\n  var flush = function () {\n    if (flushing) {\n      return;\n    }\n\n    flushing = true;\n\n    while (mailbox.length > 0) {\n      var event_1 = mailbox.shift();\n      state = behavior.transition(state, event_1, actorCtx);\n      observers.forEach(function (observer) {\n        return observer.next(state);\n      });\n    }\n\n    flushing = false;\n  };\n\n  var actor = toActorRef({\n    id: options.id,\n    send: function (event) {\n      mailbox.push(event);\n      flush();\n    },\n    getSnapshot: function () {\n      return state;\n    },\n    subscribe: function (next, handleError, complete) {\n      var observer = toObserver(next, handleError, complete);\n      observers.add(observer);\n      observer.next(state);\n      return {\n        unsubscribe: function () {\n          observers.delete(observer);\n        }\n      };\n    }\n  });\n  var actorCtx = {\n    parent: options.parent,\n    self: actor,\n    id: options.id || 'anonymous',\n    observers: observers\n  };\n  state = behavior.start ? behavior.start(actorCtx) : state;\n  return actor;\n}\n\nexport { fromPromise, fromReducer, spawnBehavior };\n","import { __values, __spreadArray, __read, __assign } from './_virtual/_tslib.js';\nimport { SpecialTargets, ActionTypes } from './types.js';\nimport { isStateConfig, State, bindActionToState } from './State.js';\nimport { raise, send, errorPlatform, update, error as error$1, log, stop, start, cancel } from './actionTypes.js';\nimport { initEvent, doneInvoke, toActionObjects, resolveActions, error, getActionFunction } from './actions.js';\nimport { IS_PRODUCTION } from './environment.js';\nimport { warn, mapContext, toObserver, isFunction, toSCXMLEvent, flatten, isPromiseLike, isObservable, isMachine, isBehavior, reportUnhandledExceptionOnInvocation, symbolObservable, isArray, toEventObject, isString, isActor, toInvokeSource, uniqueId } from './utils.js';\nimport { Scheduler } from './scheduler.js';\nimport { createDeferredActor, isSpawnedActor } from './Actor.js';\nimport { registry } from './registry.js';\nimport { getGlobal, registerService } from './devTools.js';\nimport { provide, consume } from './serviceScope.js';\nimport { spawnBehavior } from './behaviors.js';\n\nvar DEFAULT_SPAWN_OPTIONS = {\n  sync: false,\n  autoForward: false\n};\nvar InterpreterStatus;\n\n(function (InterpreterStatus) {\n  InterpreterStatus[InterpreterStatus[\"NotStarted\"] = 0] = \"NotStarted\";\n  InterpreterStatus[InterpreterStatus[\"Running\"] = 1] = \"Running\";\n  InterpreterStatus[InterpreterStatus[\"Stopped\"] = 2] = \"Stopped\";\n})(InterpreterStatus || (InterpreterStatus = {}));\n\nvar Interpreter =\n/*#__PURE__*/\n\n/** @class */\nfunction () {\n  /**\r\n   * Creates a new Interpreter instance (i.e., service) for the given machine with the provided options, if any.\r\n   *\r\n   * @param machine The machine to be interpreted\r\n   * @param options Interpreter options\r\n   */\n  function Interpreter(machine, options) {\n    if (options === void 0) {\n      options = Interpreter.defaultOptions;\n    }\n\n    var _this = this;\n\n    this.machine = machine;\n    this.delayedEventsMap = {};\n    this.listeners = new Set();\n    this.contextListeners = new Set();\n    this.stopListeners = new Set();\n    this.doneListeners = new Set();\n    this.eventListeners = new Set();\n    this.sendListeners = new Set();\n    /**\r\n     * Whether the service is started.\r\n     */\n\n    this.initialized = false;\n    this.status = InterpreterStatus.NotStarted;\n    this.children = new Map();\n    this.forwardTo = new Set();\n    this._outgoingQueue = [];\n    /**\r\n     * Alias for Interpreter.prototype.start\r\n     */\n\n    this.init = this.start;\n    /**\r\n     * Sends an event to the running interpreter to trigger a transition.\r\n     *\r\n     * An array of events (batched) can be sent as well, which will send all\r\n     * batched events to the running interpreter. The listeners will be\r\n     * notified only **once** when all events are processed.\r\n     *\r\n     * @param event The event(s) to send\r\n     */\n\n    this.send = function (event, payload) {\n      if (isArray(event)) {\n        _this.batch(event);\n\n        return _this.state;\n      }\n\n      var _event = toSCXMLEvent(toEventObject(event, payload));\n\n      if (_this.status === InterpreterStatus.Stopped) {\n        // do nothing\n        if (!IS_PRODUCTION) {\n          warn(false, \"Event \\\"\".concat(_event.name, \"\\\" was sent to stopped service \\\"\").concat(_this.machine.id, \"\\\". This service has already reached its final state, and will not transition.\\nEvent: \").concat(JSON.stringify(_event.data)));\n        }\n\n        return _this.state;\n      }\n\n      if (_this.status !== InterpreterStatus.Running && !_this.options.deferEvents) {\n        throw new Error(\"Event \\\"\".concat(_event.name, \"\\\" was sent to uninitialized service \\\"\").concat(_this.machine.id // tslint:disable-next-line:max-line-length\n        , \"\\\". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.\\nEvent: \").concat(JSON.stringify(_event.data)));\n      }\n\n      _this.scheduler.schedule(function () {\n        // Forward copy of event to child actors\n        _this.forward(_event);\n\n        var nextState = _this._nextState(_event);\n\n        _this.update(nextState, _event);\n      });\n\n      return _this._state; // TODO: deprecate (should return void)\n      // tslint:disable-next-line:semicolon\n    };\n\n    this.sendTo = function (event, to, immediate) {\n      var isParent = _this.parent && (to === SpecialTargets.Parent || _this.parent.id === to);\n      var target = isParent ? _this.parent : isString(to) ? _this.children.get(to) || registry.get(to) : isActor(to) ? to : undefined;\n\n      if (!target) {\n        if (!isParent) {\n          throw new Error(\"Unable to send event to child '\".concat(to, \"' from service '\").concat(_this.id, \"'.\"));\n        } // tslint:disable-next-line:no-console\n\n\n        if (!IS_PRODUCTION) {\n          warn(false, \"Service '\".concat(_this.id, \"' has no parent: unable to send event \").concat(event.type));\n        }\n\n        return;\n      }\n\n      if ('machine' in target) {\n        // perhaps those events should be rejected in the parent\n        // but atm it doesn't have easy access to all of the information that is required to do it reliably\n        if (_this.status !== InterpreterStatus.Stopped || _this.parent !== target || // we need to send events to the parent from exit handlers of a machine that reached its final state\n        _this.state.done) {\n          // Send SCXML events to machines\n          var scxmlEvent = __assign(__assign({}, event), {\n            name: event.name === error$1 ? \"\".concat(error(_this.id)) : event.name,\n            origin: _this.sessionId\n          });\n\n          if (!immediate && _this.machine.config.predictableActionArguments) {\n            _this._outgoingQueue.push([target, scxmlEvent]);\n          } else {\n            target.send(scxmlEvent);\n          }\n        }\n      } else {\n        // Send normal events to other targets\n        if (!immediate && _this.machine.config.predictableActionArguments) {\n          _this._outgoingQueue.push([target, event.data]);\n        } else {\n          target.send(event.data);\n        }\n      }\n    };\n\n    this._exec = function (action, context, _event, actionFunctionMap) {\n      if (actionFunctionMap === void 0) {\n        actionFunctionMap = _this.machine.options.actions;\n      }\n\n      var actionOrExec = action.exec || getActionFunction(action.type, actionFunctionMap);\n      var exec = isFunction(actionOrExec) ? actionOrExec : actionOrExec ? actionOrExec.exec : action.exec;\n\n      if (exec) {\n        try {\n          return exec(context, _event.data, !_this.machine.config.predictableActionArguments ? {\n            action: action,\n            state: _this.state,\n            _event: _event\n          } : {\n            action: action,\n            _event: _event\n          });\n        } catch (err) {\n          if (_this.parent) {\n            _this.parent.send({\n              type: 'xstate.error',\n              data: err\n            });\n          }\n\n          throw err;\n        }\n      }\n\n      switch (action.type) {\n        case send:\n          var sendAction = action;\n\n          if (typeof sendAction.delay === 'number') {\n            _this.defer(sendAction);\n\n            return;\n          } else {\n            if (sendAction.to) {\n              _this.sendTo(sendAction._event, sendAction.to, _event === initEvent);\n            } else {\n              _this.send(sendAction._event);\n            }\n          }\n\n          break;\n\n        case cancel:\n          _this.cancel(action.sendId);\n\n          break;\n\n        case start:\n          {\n            if (_this.status !== InterpreterStatus.Running) {\n              return;\n            }\n\n            var activity = action.activity; // If the activity will be stopped right after it's started\n            // (such as in transient states)\n            // don't bother starting the activity.\n\n            if ( // in v4 with `predictableActionArguments` invokes are called eagerly when the `this.state` still points to the previous state\n            !_this.machine.config.predictableActionArguments && !_this.state.activities[activity.id || activity.type]) {\n              break;\n            } // Invoked services\n\n\n            if (activity.type === ActionTypes.Invoke) {\n              var invokeSource = toInvokeSource(activity.src);\n              var serviceCreator = _this.machine.options.services ? _this.machine.options.services[invokeSource.type] : undefined;\n              var id = activity.id,\n                  data = activity.data;\n\n              if (!IS_PRODUCTION) {\n                warn(!('forward' in activity), // tslint:disable-next-line:max-line-length\n                \"`forward` property is deprecated (found in invocation of '\".concat(activity.src, \"' in in machine '\").concat(_this.machine.id, \"'). \") + \"Please use `autoForward` instead.\");\n              }\n\n              var autoForward = 'autoForward' in activity ? activity.autoForward : !!activity.forward;\n\n              if (!serviceCreator) {\n                // tslint:disable-next-line:no-console\n                if (!IS_PRODUCTION) {\n                  warn(false, \"No service found for invocation '\".concat(activity.src, \"' in machine '\").concat(_this.machine.id, \"'.\"));\n                }\n\n                return;\n              }\n\n              var resolvedData = data ? mapContext(data, context, _event) : undefined;\n\n              if (typeof serviceCreator === 'string') {\n                // TODO: warn\n                return;\n              }\n\n              var source = isFunction(serviceCreator) ? serviceCreator(context, _event.data, {\n                data: resolvedData,\n                src: invokeSource,\n                meta: activity.meta\n              }) : serviceCreator;\n\n              if (!source) {\n                // TODO: warn?\n                return;\n              }\n\n              var options = void 0;\n\n              if (isMachine(source)) {\n                source = resolvedData ? source.withContext(resolvedData) : source;\n                options = {\n                  autoForward: autoForward\n                };\n              }\n\n              _this.spawn(source, id, options);\n            } else {\n              _this.spawnActivity(activity);\n            }\n\n            break;\n          }\n\n        case stop:\n          {\n            _this.stopChild(action.activity.id);\n\n            break;\n          }\n\n        case log:\n          var label = action.label,\n              value = action.value;\n\n          if (label) {\n            _this.logger(label, value);\n          } else {\n            _this.logger(value);\n          }\n\n          break;\n\n        default:\n          if (!IS_PRODUCTION) {\n            warn(false, \"No implementation found for action type '\".concat(action.type, \"'\"));\n          }\n\n          break;\n      }\n    };\n\n    var resolvedOptions = __assign(__assign({}, Interpreter.defaultOptions), options);\n\n    var clock = resolvedOptions.clock,\n        logger = resolvedOptions.logger,\n        parent = resolvedOptions.parent,\n        id = resolvedOptions.id;\n    var resolvedId = id !== undefined ? id : machine.id;\n    this.id = resolvedId;\n    this.logger = logger;\n    this.clock = clock;\n    this.parent = parent;\n    this.options = resolvedOptions;\n    this.scheduler = new Scheduler({\n      deferEvents: this.options.deferEvents\n    });\n    this.sessionId = registry.bookId();\n  }\n\n  Object.defineProperty(Interpreter.prototype, \"initialState\", {\n    get: function () {\n      var _this = this;\n\n      if (this._initialState) {\n        return this._initialState;\n      }\n\n      return provide(this, function () {\n        _this._initialState = _this.machine.initialState;\n        return _this._initialState;\n      });\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Interpreter.prototype, \"state\", {\n    /**\r\n     * @deprecated Use `.getSnapshot()` instead.\r\n     */\n    get: function () {\n      if (!IS_PRODUCTION) {\n        warn(this.status !== InterpreterStatus.NotStarted, \"Attempted to read state from uninitialized service '\".concat(this.id, \"'. Make sure the service is started first.\"));\n      }\n\n      return this._state;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /**\r\n   * Executes the actions of the given state, with that state's `context` and `event`.\r\n   *\r\n   * @param state The state whose actions will be executed\r\n   * @param actionsConfig The action implementations to use\r\n   */\n\n  Interpreter.prototype.execute = function (state, actionsConfig) {\n    var e_1, _a;\n\n    try {\n      for (var _b = __values(state.actions), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var action = _c.value;\n        this.exec(action, state, actionsConfig);\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n  };\n\n  Interpreter.prototype.update = function (state, _event) {\n    var e_2, _a, e_3, _b, e_4, _c, e_5, _d;\n\n    var _this = this; // Attach session ID to state\n\n\n    state._sessionid = this.sessionId; // Update state\n\n    this._state = state; // Execute actions\n\n    if ((!this.machine.config.predictableActionArguments || // this is currently required to execute initial actions as the `initialState` gets cached\n    // we can't just recompute it (and execute actions while doing so) because we try to preserve identity of actors created within initial assigns\n    _event === initEvent) && this.options.execute) {\n      this.execute(this.state);\n    } else {\n      var item = void 0;\n\n      while (item = this._outgoingQueue.shift()) {\n        item[0].send(item[1]);\n      }\n    } // Update children\n\n\n    this.children.forEach(function (child) {\n      _this.state.children[child.id] = child;\n    }); // Dev tools\n\n    if (this.devTools) {\n      this.devTools.send(_event.data, state);\n    } // Execute listeners\n\n\n    if (state.event) {\n      try {\n        for (var _e = __values(this.eventListeners), _f = _e.next(); !_f.done; _f = _e.next()) {\n          var listener = _f.value;\n          listener(state.event);\n        }\n      } catch (e_2_1) {\n        e_2 = {\n          error: e_2_1\n        };\n      } finally {\n        try {\n          if (_f && !_f.done && (_a = _e.return)) _a.call(_e);\n        } finally {\n          if (e_2) throw e_2.error;\n        }\n      }\n    }\n\n    try {\n      for (var _g = __values(this.listeners), _h = _g.next(); !_h.done; _h = _g.next()) {\n        var listener = _h.value;\n        listener(state, state.event);\n      }\n    } catch (e_3_1) {\n      e_3 = {\n        error: e_3_1\n      };\n    } finally {\n      try {\n        if (_h && !_h.done && (_b = _g.return)) _b.call(_g);\n      } finally {\n        if (e_3) throw e_3.error;\n      }\n    }\n\n    try {\n      for (var _j = __values(this.contextListeners), _k = _j.next(); !_k.done; _k = _j.next()) {\n        var contextListener = _k.value;\n        contextListener(this.state.context, this.state.history ? this.state.history.context : undefined);\n      }\n    } catch (e_4_1) {\n      e_4 = {\n        error: e_4_1\n      };\n    } finally {\n      try {\n        if (_k && !_k.done && (_c = _j.return)) _c.call(_j);\n      } finally {\n        if (e_4) throw e_4.error;\n      }\n    }\n\n    if (this.state.done) {\n      // get final child state node\n      var finalChildStateNode = state.configuration.find(function (sn) {\n        return sn.type === 'final' && sn.parent === _this.machine;\n      });\n      var doneData = finalChildStateNode && finalChildStateNode.doneData ? mapContext(finalChildStateNode.doneData, state.context, _event) : undefined;\n\n      try {\n        for (var _l = __values(this.doneListeners), _m = _l.next(); !_m.done; _m = _l.next()) {\n          var listener = _m.value;\n          listener(doneInvoke(this.id, doneData));\n        }\n      } catch (e_5_1) {\n        e_5 = {\n          error: e_5_1\n        };\n      } finally {\n        try {\n          if (_m && !_m.done && (_d = _l.return)) _d.call(_l);\n        } finally {\n          if (e_5) throw e_5.error;\n        }\n      }\n\n      this._stop();\n\n      this._stopChildren();\n    }\n  };\n  /*\r\n   * Adds a listener that is notified whenever a state transition happens. The listener is called with\r\n   * the next state and the event object that caused the state transition.\r\n   *\r\n   * @param listener The state listener\r\n   */\n\n\n  Interpreter.prototype.onTransition = function (listener) {\n    this.listeners.add(listener); // Send current state to listener\n\n    if (this.status === InterpreterStatus.Running) {\n      listener(this.state, this.state.event);\n    }\n\n    return this;\n  };\n\n  Interpreter.prototype.subscribe = function (nextListenerOrObserver, _, // TODO: error listener\n  completeListener) {\n    var _this = this;\n\n    var observer = toObserver(nextListenerOrObserver, _, completeListener);\n    this.listeners.add(observer.next); // Send current state to listener\n\n    if (this.status !== InterpreterStatus.NotStarted) {\n      observer.next(this.state);\n    }\n\n    var completeOnce = function () {\n      _this.doneListeners.delete(completeOnce);\n\n      _this.stopListeners.delete(completeOnce);\n\n      observer.complete();\n    };\n\n    if (this.status === InterpreterStatus.Stopped) {\n      observer.complete();\n    } else {\n      this.onDone(completeOnce);\n      this.onStop(completeOnce);\n    }\n\n    return {\n      unsubscribe: function () {\n        _this.listeners.delete(observer.next);\n\n        _this.doneListeners.delete(completeOnce);\n\n        _this.stopListeners.delete(completeOnce);\n      }\n    };\n  };\n  /**\r\n   * Adds an event listener that is notified whenever an event is sent to the running interpreter.\r\n   * @param listener The event listener\r\n   */\n\n\n  Interpreter.prototype.onEvent = function (listener) {\n    this.eventListeners.add(listener);\n    return this;\n  };\n  /**\r\n   * Adds an event listener that is notified whenever a `send` event occurs.\r\n   * @param listener The event listener\r\n   */\n\n\n  Interpreter.prototype.onSend = function (listener) {\n    this.sendListeners.add(listener);\n    return this;\n  };\n  /**\r\n   * Adds a context listener that is notified whenever the state context changes.\r\n   * @param listener The context listener\r\n   */\n\n\n  Interpreter.prototype.onChange = function (listener) {\n    this.contextListeners.add(listener);\n    return this;\n  };\n  /**\r\n   * Adds a listener that is notified when the machine is stopped.\r\n   * @param listener The listener\r\n   */\n\n\n  Interpreter.prototype.onStop = function (listener) {\n    this.stopListeners.add(listener);\n    return this;\n  };\n  /**\r\n   * Adds a state listener that is notified when the statechart has reached its final state.\r\n   * @param listener The state listener\r\n   */\n\n\n  Interpreter.prototype.onDone = function (listener) {\n    this.doneListeners.add(listener);\n    return this;\n  };\n  /**\r\n   * Removes a listener.\r\n   * @param listener The listener to remove\r\n   */\n\n\n  Interpreter.prototype.off = function (listener) {\n    this.listeners.delete(listener);\n    this.eventListeners.delete(listener);\n    this.sendListeners.delete(listener);\n    this.stopListeners.delete(listener);\n    this.doneListeners.delete(listener);\n    this.contextListeners.delete(listener);\n    return this;\n  };\n  /**\r\n   * Starts the interpreter from the given state, or the initial state.\r\n   * @param initialState The state to start the statechart from\r\n   */\n\n\n  Interpreter.prototype.start = function (initialState) {\n    var _this = this;\n\n    if (this.status === InterpreterStatus.Running) {\n      // Do not restart the service if it is already started\n      return this;\n    } // yes, it's a hack but we need the related cache to be populated for some things to work (like delayed transitions)\n    // this is usually called by `machine.getInitialState` but if we rehydrate from a state we might bypass this call\n    // we also don't want to call this method here as it resolves the full initial state which might involve calling assign actions\n    // and that could potentially lead to some unwanted side-effects (even such as creating some rogue actors)\n\n\n    this.machine._init();\n\n    registry.register(this.sessionId, this);\n    this.initialized = true;\n    this.status = InterpreterStatus.Running;\n    var resolvedState = initialState === undefined ? this.initialState : provide(this, function () {\n      return isStateConfig(initialState) ? _this.machine.resolveState(initialState) : _this.machine.resolveState(State.from(initialState, _this.machine.context));\n    });\n\n    if (this.options.devTools) {\n      this.attachDev();\n    }\n\n    this.scheduler.initialize(function () {\n      _this.update(resolvedState, initEvent);\n    });\n    return this;\n  };\n\n  Interpreter.prototype._stopChildren = function () {\n    // TODO: think about converting those to actions\n    this.children.forEach(function (child) {\n      if (isFunction(child.stop)) {\n        child.stop();\n      }\n    });\n    this.children.clear();\n  };\n\n  Interpreter.prototype._stop = function () {\n    var e_6, _a, e_7, _b, e_8, _c, e_9, _d, e_10, _e;\n\n    try {\n      for (var _f = __values(this.listeners), _g = _f.next(); !_g.done; _g = _f.next()) {\n        var listener = _g.value;\n        this.listeners.delete(listener);\n      }\n    } catch (e_6_1) {\n      e_6 = {\n        error: e_6_1\n      };\n    } finally {\n      try {\n        if (_g && !_g.done && (_a = _f.return)) _a.call(_f);\n      } finally {\n        if (e_6) throw e_6.error;\n      }\n    }\n\n    try {\n      for (var _h = __values(this.stopListeners), _j = _h.next(); !_j.done; _j = _h.next()) {\n        var listener = _j.value; // call listener, then remove\n\n        listener();\n        this.stopListeners.delete(listener);\n      }\n    } catch (e_7_1) {\n      e_7 = {\n        error: e_7_1\n      };\n    } finally {\n      try {\n        if (_j && !_j.done && (_b = _h.return)) _b.call(_h);\n      } finally {\n        if (e_7) throw e_7.error;\n      }\n    }\n\n    try {\n      for (var _k = __values(this.contextListeners), _l = _k.next(); !_l.done; _l = _k.next()) {\n        var listener = _l.value;\n        this.contextListeners.delete(listener);\n      }\n    } catch (e_8_1) {\n      e_8 = {\n        error: e_8_1\n      };\n    } finally {\n      try {\n        if (_l && !_l.done && (_c = _k.return)) _c.call(_k);\n      } finally {\n        if (e_8) throw e_8.error;\n      }\n    }\n\n    try {\n      for (var _m = __values(this.doneListeners), _o = _m.next(); !_o.done; _o = _m.next()) {\n        var listener = _o.value;\n        this.doneListeners.delete(listener);\n      }\n    } catch (e_9_1) {\n      e_9 = {\n        error: e_9_1\n      };\n    } finally {\n      try {\n        if (_o && !_o.done && (_d = _m.return)) _d.call(_m);\n      } finally {\n        if (e_9) throw e_9.error;\n      }\n    }\n\n    if (!this.initialized) {\n      // Interpreter already stopped; do nothing\n      return this;\n    }\n\n    this.initialized = false;\n    this.status = InterpreterStatus.Stopped;\n    this._initialState = undefined;\n\n    try {\n      // we are going to stop within the current sync frame\n      // so we can safely just cancel this here as nothing async should be fired anyway\n      for (var _p = __values(Object.keys(this.delayedEventsMap)), _q = _p.next(); !_q.done; _q = _p.next()) {\n        var key = _q.value;\n        this.clock.clearTimeout(this.delayedEventsMap[key]);\n      }\n    } catch (e_10_1) {\n      e_10 = {\n        error: e_10_1\n      };\n    } finally {\n      try {\n        if (_q && !_q.done && (_e = _p.return)) _e.call(_p);\n      } finally {\n        if (e_10) throw e_10.error;\n      }\n    } // clear everything that might be enqueued\n\n\n    this.scheduler.clear();\n    this.scheduler = new Scheduler({\n      deferEvents: this.options.deferEvents\n    });\n  };\n  /**\r\n   * Stops the interpreter and unsubscribe all listeners.\r\n   *\r\n   * This will also notify the `onStop` listeners.\r\n   */\n\n\n  Interpreter.prototype.stop = function () {\n    // TODO: add warning for stopping non-root interpreters\n    var _this = this; // grab the current scheduler as it will be replaced in _stop\n\n\n    var scheduler = this.scheduler;\n\n    this._stop(); // let what is currently processed to be finished\n\n\n    scheduler.schedule(function () {\n      // it feels weird to handle this here but we need to handle this even slightly \"out of band\"\n      var _event = toSCXMLEvent({\n        type: 'xstate.stop'\n      });\n\n      var nextState = provide(_this, function () {\n        var exitActions = flatten(__spreadArray([], __read(_this.state.configuration), false).sort(function (a, b) {\n          return b.order - a.order;\n        }).map(function (stateNode) {\n          return toActionObjects(stateNode.onExit, _this.machine.options.actions);\n        }));\n\n        var _a = __read(resolveActions(_this.machine, _this.state, _this.state.context, _event, [exitActions], _this.machine.config.predictableActionArguments ? _this._exec : undefined, _this.machine.config.predictableActionArguments || _this.machine.config.preserveActionOrder), 2),\n            resolvedActions = _a[0],\n            updatedContext = _a[1];\n\n        var newState = new State({\n          value: _this.state.value,\n          context: updatedContext,\n          _event: _event,\n          _sessionid: _this.sessionId,\n          historyValue: undefined,\n          history: _this.state,\n          actions: resolvedActions.filter(function (action) {\n            return action.type !== raise && (action.type !== send || !!action.to && action.to !== SpecialTargets.Internal);\n          }),\n          activities: {},\n          events: [],\n          configuration: [],\n          transitions: [],\n          children: {},\n          done: _this.state.done,\n          tags: _this.state.tags,\n          machine: _this.machine\n        });\n        newState.changed = true;\n        return newState;\n      });\n\n      _this.update(nextState, _event);\n\n      _this._stopChildren();\n\n      registry.free(_this.sessionId);\n    });\n    return this;\n  };\n\n  Interpreter.prototype.batch = function (events) {\n    var _this = this;\n\n    if (this.status === InterpreterStatus.NotStarted && this.options.deferEvents) {\n      // tslint:disable-next-line:no-console\n      if (!IS_PRODUCTION) {\n        warn(false, \"\".concat(events.length, \" event(s) were sent to uninitialized service \\\"\").concat(this.machine.id, \"\\\" and are deferred. Make sure .start() is called for this service.\\nEvent: \").concat(JSON.stringify(event)));\n      }\n    } else if (this.status !== InterpreterStatus.Running) {\n      throw new Error( // tslint:disable-next-line:max-line-length\n      \"\".concat(events.length, \" event(s) were sent to uninitialized service \\\"\").concat(this.machine.id, \"\\\". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.\"));\n    }\n\n    if (!events.length) {\n      return;\n    }\n\n    var exec = !!this.machine.config.predictableActionArguments && this._exec;\n    this.scheduler.schedule(function () {\n      var e_11, _a;\n\n      var nextState = _this.state;\n      var batchChanged = false;\n      var batchedActions = [];\n\n      var _loop_1 = function (event_1) {\n        var _event = toSCXMLEvent(event_1);\n\n        _this.forward(_event);\n\n        nextState = provide(_this, function () {\n          return _this.machine.transition(nextState, _event, undefined, exec || undefined);\n        });\n        batchedActions.push.apply(batchedActions, __spreadArray([], __read(_this.machine.config.predictableActionArguments ? nextState.actions : nextState.actions.map(function (a) {\n          return bindActionToState(a, nextState);\n        })), false));\n        batchChanged = batchChanged || !!nextState.changed;\n      };\n\n      try {\n        for (var events_1 = __values(events), events_1_1 = events_1.next(); !events_1_1.done; events_1_1 = events_1.next()) {\n          var event_1 = events_1_1.value;\n\n          _loop_1(event_1);\n        }\n      } catch (e_11_1) {\n        e_11 = {\n          error: e_11_1\n        };\n      } finally {\n        try {\n          if (events_1_1 && !events_1_1.done && (_a = events_1.return)) _a.call(events_1);\n        } finally {\n          if (e_11) throw e_11.error;\n        }\n      }\n\n      nextState.changed = batchChanged;\n      nextState.actions = batchedActions;\n\n      _this.update(nextState, toSCXMLEvent(events[events.length - 1]));\n    });\n  };\n  /**\r\n   * Returns a send function bound to this interpreter instance.\r\n   *\r\n   * @param event The event to be sent by the sender.\r\n   */\n\n\n  Interpreter.prototype.sender = function (event) {\n    return this.send.bind(this, event);\n  };\n\n  Interpreter.prototype._nextState = function (event, exec) {\n    var _this = this;\n\n    if (exec === void 0) {\n      exec = !!this.machine.config.predictableActionArguments && this._exec;\n    }\n\n    var _event = toSCXMLEvent(event);\n\n    if (_event.name.indexOf(errorPlatform) === 0 && !this.state.nextEvents.some(function (nextEvent) {\n      return nextEvent.indexOf(errorPlatform) === 0;\n    })) {\n      throw _event.data.data;\n    }\n\n    var nextState = provide(this, function () {\n      return _this.machine.transition(_this.state, _event, undefined, exec || undefined);\n    });\n    return nextState;\n  };\n  /**\r\n   * Returns the next state given the interpreter's current state and the event.\r\n   *\r\n   * This is a pure method that does _not_ update the interpreter's state.\r\n   *\r\n   * @param event The event to determine the next state\r\n   */\n\n\n  Interpreter.prototype.nextState = function (event) {\n    return this._nextState(event, false);\n  };\n\n  Interpreter.prototype.forward = function (event) {\n    var e_12, _a;\n\n    try {\n      for (var _b = __values(this.forwardTo), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var id = _c.value;\n        var child = this.children.get(id);\n\n        if (!child) {\n          throw new Error(\"Unable to forward event '\".concat(event, \"' from interpreter '\").concat(this.id, \"' to nonexistant child '\").concat(id, \"'.\"));\n        }\n\n        child.send(event);\n      }\n    } catch (e_12_1) {\n      e_12 = {\n        error: e_12_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_12) throw e_12.error;\n      }\n    }\n  };\n\n  Interpreter.prototype.defer = function (sendAction) {\n    var _this = this;\n\n    this.delayedEventsMap[sendAction.id] = this.clock.setTimeout(function () {\n      if (sendAction.to) {\n        _this.sendTo(sendAction._event, sendAction.to, true);\n      } else {\n        _this.send(sendAction._event);\n      }\n    }, sendAction.delay);\n  };\n\n  Interpreter.prototype.cancel = function (sendId) {\n    this.clock.clearTimeout(this.delayedEventsMap[sendId]);\n    delete this.delayedEventsMap[sendId];\n  };\n\n  Interpreter.prototype.exec = function (action, state, actionFunctionMap) {\n    if (actionFunctionMap === void 0) {\n      actionFunctionMap = this.machine.options.actions;\n    }\n\n    this._exec(action, state.context, state._event, actionFunctionMap);\n  };\n\n  Interpreter.prototype.removeChild = function (childId) {\n    var _a;\n\n    this.children.delete(childId);\n    this.forwardTo.delete(childId); // this.state might not exist at the time this is called,\n    // such as when a child is added then removed while initializing the state\n\n    (_a = this.state) === null || _a === void 0 ? true : delete _a.children[childId];\n  };\n\n  Interpreter.prototype.stopChild = function (childId) {\n    var child = this.children.get(childId);\n\n    if (!child) {\n      return;\n    }\n\n    this.removeChild(childId);\n\n    if (isFunction(child.stop)) {\n      child.stop();\n    }\n  };\n\n  Interpreter.prototype.spawn = function (entity, name, options) {\n    if (this.status !== InterpreterStatus.Running) {\n      return createDeferredActor(entity, name);\n    }\n\n    if (isPromiseLike(entity)) {\n      return this.spawnPromise(Promise.resolve(entity), name);\n    } else if (isFunction(entity)) {\n      return this.spawnCallback(entity, name);\n    } else if (isSpawnedActor(entity)) {\n      return this.spawnActor(entity, name);\n    } else if (isObservable(entity)) {\n      return this.spawnObservable(entity, name);\n    } else if (isMachine(entity)) {\n      return this.spawnMachine(entity, __assign(__assign({}, options), {\n        id: name\n      }));\n    } else if (isBehavior(entity)) {\n      return this.spawnBehavior(entity, name);\n    } else {\n      throw new Error(\"Unable to spawn entity \\\"\".concat(name, \"\\\" of type \\\"\").concat(typeof entity, \"\\\".\"));\n    }\n  };\n\n  Interpreter.prototype.spawnMachine = function (machine, options) {\n    var _this = this;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    var childService = new Interpreter(machine, __assign(__assign({}, this.options), {\n      parent: this,\n      id: options.id || machine.id\n    }));\n\n    var resolvedOptions = __assign(__assign({}, DEFAULT_SPAWN_OPTIONS), options);\n\n    if (resolvedOptions.sync) {\n      childService.onTransition(function (state) {\n        _this.send(update, {\n          state: state,\n          id: childService.id\n        });\n      });\n    }\n\n    var actor = childService;\n    this.children.set(childService.id, actor);\n\n    if (resolvedOptions.autoForward) {\n      this.forwardTo.add(childService.id);\n    }\n\n    childService.onDone(function (doneEvent) {\n      _this.removeChild(childService.id);\n\n      _this.send(toSCXMLEvent(doneEvent, {\n        origin: childService.id\n      }));\n    }).start();\n    return actor;\n  };\n\n  Interpreter.prototype.spawnBehavior = function (behavior, id) {\n    var actorRef = spawnBehavior(behavior, {\n      id: id,\n      parent: this\n    });\n    this.children.set(id, actorRef);\n    return actorRef;\n  };\n\n  Interpreter.prototype.spawnPromise = function (promise, id) {\n    var _a;\n\n    var _this = this;\n\n    var canceled = false;\n    var resolvedData;\n    promise.then(function (response) {\n      if (!canceled) {\n        resolvedData = response;\n\n        _this.removeChild(id);\n\n        _this.send(toSCXMLEvent(doneInvoke(id, response), {\n          origin: id\n        }));\n      }\n    }, function (errorData) {\n      if (!canceled) {\n        _this.removeChild(id);\n\n        var errorEvent = error(id, errorData);\n\n        try {\n          // Send \"error.platform.id\" to this (parent).\n          _this.send(toSCXMLEvent(errorEvent, {\n            origin: id\n          }));\n        } catch (error) {\n          reportUnhandledExceptionOnInvocation(errorData, error, id);\n\n          if (_this.devTools) {\n            _this.devTools.send(errorEvent, _this.state);\n          }\n\n          if (_this.machine.strict) {\n            // it would be better to always stop the state machine if unhandled\n            // exception/promise rejection happens but because we don't want to\n            // break existing code so enforce it on strict mode only especially so\n            // because documentation says that onError is optional\n            _this.stop();\n          }\n        }\n      }\n    });\n    var actor = (_a = {\n      id: id,\n      send: function () {\n        return void 0;\n      },\n      subscribe: function (next, handleError, complete) {\n        var observer = toObserver(next, handleError, complete);\n        var unsubscribed = false;\n        promise.then(function (response) {\n          if (unsubscribed) {\n            return;\n          }\n\n          observer.next(response);\n\n          if (unsubscribed) {\n            return;\n          }\n\n          observer.complete();\n        }, function (err) {\n          if (unsubscribed) {\n            return;\n          }\n\n          observer.error(err);\n        });\n        return {\n          unsubscribe: function () {\n            return unsubscribed = true;\n          }\n        };\n      },\n      stop: function () {\n        canceled = true;\n      },\n      toJSON: function () {\n        return {\n          id: id\n        };\n      },\n      getSnapshot: function () {\n        return resolvedData;\n      }\n    }, _a[symbolObservable] = function () {\n      return this;\n    }, _a);\n    this.children.set(id, actor);\n    return actor;\n  };\n\n  Interpreter.prototype.spawnCallback = function (callback, id) {\n    var _a;\n\n    var _this = this;\n\n    var canceled = false;\n    var receivers = new Set();\n    var listeners = new Set();\n    var emitted;\n\n    var receive = function (e) {\n      emitted = e;\n      listeners.forEach(function (listener) {\n        return listener(e);\n      });\n\n      if (canceled) {\n        return;\n      }\n\n      _this.send(toSCXMLEvent(e, {\n        origin: id\n      }));\n    };\n\n    var callbackStop;\n\n    try {\n      callbackStop = callback(receive, function (newListener) {\n        receivers.add(newListener);\n      });\n    } catch (err) {\n      this.send(error(id, err));\n    }\n\n    if (isPromiseLike(callbackStop)) {\n      // it turned out to be an async function, can't reliably check this before calling `callback`\n      // because transpiled async functions are not recognizable\n      return this.spawnPromise(callbackStop, id);\n    }\n\n    var actor = (_a = {\n      id: id,\n      send: function (event) {\n        return receivers.forEach(function (receiver) {\n          return receiver(event);\n        });\n      },\n      subscribe: function (next) {\n        var observer = toObserver(next);\n        listeners.add(observer.next);\n        return {\n          unsubscribe: function () {\n            listeners.delete(observer.next);\n          }\n        };\n      },\n      stop: function () {\n        canceled = true;\n\n        if (isFunction(callbackStop)) {\n          callbackStop();\n        }\n      },\n      toJSON: function () {\n        return {\n          id: id\n        };\n      },\n      getSnapshot: function () {\n        return emitted;\n      }\n    }, _a[symbolObservable] = function () {\n      return this;\n    }, _a);\n    this.children.set(id, actor);\n    return actor;\n  };\n\n  Interpreter.prototype.spawnObservable = function (source, id) {\n    var _a;\n\n    var _this = this;\n\n    var emitted;\n    var subscription = source.subscribe(function (value) {\n      emitted = value;\n\n      _this.send(toSCXMLEvent(value, {\n        origin: id\n      }));\n    }, function (err) {\n      _this.removeChild(id);\n\n      _this.send(toSCXMLEvent(error(id, err), {\n        origin: id\n      }));\n    }, function () {\n      _this.removeChild(id);\n\n      _this.send(toSCXMLEvent(doneInvoke(id), {\n        origin: id\n      }));\n    });\n    var actor = (_a = {\n      id: id,\n      send: function () {\n        return void 0;\n      },\n      subscribe: function (next, handleError, complete) {\n        return source.subscribe(next, handleError, complete);\n      },\n      stop: function () {\n        return subscription.unsubscribe();\n      },\n      getSnapshot: function () {\n        return emitted;\n      },\n      toJSON: function () {\n        return {\n          id: id\n        };\n      }\n    }, _a[symbolObservable] = function () {\n      return this;\n    }, _a);\n    this.children.set(id, actor);\n    return actor;\n  };\n\n  Interpreter.prototype.spawnActor = function (actor, name) {\n    this.children.set(name, actor);\n    return actor;\n  };\n\n  Interpreter.prototype.spawnActivity = function (activity) {\n    var implementation = this.machine.options && this.machine.options.activities ? this.machine.options.activities[activity.type] : undefined;\n\n    if (!implementation) {\n      if (!IS_PRODUCTION) {\n        warn(false, \"No implementation found for activity '\".concat(activity.type, \"'\"));\n      } // tslint:disable-next-line:no-console\n\n\n      return;\n    } // Start implementation\n\n\n    var dispose = implementation(this.state.context, activity);\n    this.spawnEffect(activity.id, dispose);\n  };\n\n  Interpreter.prototype.spawnEffect = function (id, dispose) {\n    var _a;\n\n    this.children.set(id, (_a = {\n      id: id,\n      send: function () {\n        return void 0;\n      },\n      subscribe: function () {\n        return {\n          unsubscribe: function () {\n            return void 0;\n          }\n        };\n      },\n      stop: dispose || undefined,\n      getSnapshot: function () {\n        return undefined;\n      },\n      toJSON: function () {\n        return {\n          id: id\n        };\n      }\n    }, _a[symbolObservable] = function () {\n      return this;\n    }, _a));\n  };\n\n  Interpreter.prototype.attachDev = function () {\n    var global = getGlobal();\n\n    if (this.options.devTools && global) {\n      if (global.__REDUX_DEVTOOLS_EXTENSION__) {\n        var devToolsOptions = typeof this.options.devTools === 'object' ? this.options.devTools : undefined;\n        this.devTools = global.__REDUX_DEVTOOLS_EXTENSION__.connect(__assign(__assign({\n          name: this.id,\n          autoPause: true,\n          stateSanitizer: function (state) {\n            return {\n              value: state.value,\n              context: state.context,\n              actions: state.actions\n            };\n          }\n        }, devToolsOptions), {\n          features: __assign({\n            jump: false,\n            skip: false\n          }, devToolsOptions ? devToolsOptions.features : undefined)\n        }), this.machine);\n        this.devTools.init(this.state);\n      } // add XState-specific dev tooling hook\n\n\n      registerService(this);\n    }\n  };\n\n  Interpreter.prototype.toJSON = function () {\n    return {\n      id: this.id\n    };\n  };\n\n  Interpreter.prototype[symbolObservable] = function () {\n    return this;\n  };\n\n  Interpreter.prototype.getSnapshot = function () {\n    if (this.status === InterpreterStatus.NotStarted) {\n      return this.initialState;\n    }\n\n    return this._state;\n  };\n  /**\r\n   * The default interpreter options:\r\n   *\r\n   * - `clock` uses the global `setTimeout` and `clearTimeout` functions\r\n   * - `logger` uses the global `console.log()` method\r\n   */\n\n\n  Interpreter.defaultOptions = {\n    execute: true,\n    deferEvents: true,\n    clock: {\n      setTimeout: function (fn, ms) {\n        return setTimeout(fn, ms);\n      },\n      clearTimeout: function (id) {\n        return clearTimeout(id);\n      }\n    },\n    logger: /*#__PURE__*/console.log.bind(console),\n    devTools: false\n  };\n  Interpreter.interpret = interpret;\n  return Interpreter;\n}();\n\nvar resolveSpawnOptions = function (nameOrOptions) {\n  if (isString(nameOrOptions)) {\n    return __assign(__assign({}, DEFAULT_SPAWN_OPTIONS), {\n      name: nameOrOptions\n    });\n  }\n\n  return __assign(__assign(__assign({}, DEFAULT_SPAWN_OPTIONS), {\n    name: uniqueId()\n  }), nameOrOptions);\n};\n\nfunction spawn(entity, nameOrOptions) {\n  var resolvedOptions = resolveSpawnOptions(nameOrOptions);\n  return consume(function (service) {\n    if (!IS_PRODUCTION) {\n      var isLazyEntity = isMachine(entity) || isFunction(entity);\n      warn(!!service || isLazyEntity, \"Attempted to spawn an Actor (ID: \\\"\".concat(isMachine(entity) ? entity.id : 'undefined', \"\\\") outside of a service. This will have no effect.\"));\n    }\n\n    if (service) {\n      return service.spawn(entity, resolvedOptions.name, resolvedOptions);\n    } else {\n      return createDeferredActor(entity, resolvedOptions.name);\n    }\n  });\n}\n/**\r\n * Creates a new Interpreter instance for the given machine with the provided options, if any.\r\n *\r\n * @param machine The machine to interpret\r\n * @param options Interpreter options\r\n */\n\nfunction interpret(machine, options) {\n  var interpreter = new Interpreter(machine, options);\n  return interpreter;\n}\n\nexport { Interpreter, InterpreterStatus, interpret, spawn };\n","import { __assign, __rest } from './_virtual/_tslib.js';\nimport './types.js';\nimport { invoke } from './actionTypes.js';\nimport './utils.js';\nimport './environment.js';\n\nfunction toInvokeSource(src) {\n  if (typeof src === 'string') {\n    var simpleSrc = {\n      type: src\n    };\n\n    simpleSrc.toString = function () {\n      return src;\n    }; // v4 compat - TODO: remove in v5\n\n\n    return simpleSrc;\n  }\n\n  return src;\n}\nfunction toInvokeDefinition(invokeConfig) {\n  return __assign(__assign({\n    type: invoke\n  }, invokeConfig), {\n    toJSON: function () {\n      invokeConfig.onDone;\n          invokeConfig.onError;\n          var invokeDef = __rest(invokeConfig, [\"onDone\", \"onError\"]);\n\n      return __assign(__assign({}, invokeDef), {\n        type: invoke,\n        src: toInvokeSource(invokeConfig.src)\n      });\n    }\n  });\n}\n\nexport { toInvokeDefinition, toInvokeSource };\n","import { __assign, __spreadArray, __read, __values, __rest } from './_virtual/_tslib.js';\nimport { isFunction, mapValues, isArray, flatten, toArray, toStateValue, isString, getEventType, toSCXMLEvent, matchesState, path, evaluateGuard, mapContext, pathToStateValue, isBuiltInEvent, partition, updateHistoryValue, toStatePath, mapFilterValues, warn, toStatePaths, nestedPath, normalizeTarget, toGuard, toTransitionConfigArray, isMachine, createInvokeId } from './utils.js';\nimport { SpecialTargets } from './types.js';\nimport { State, stateValuesEqual } from './State.js';\nimport { raise as raise$1, send, start as start$1, stop as stop$1, invoke, update, nullEvent } from './actionTypes.js';\nimport { done, start, toActionObjects, raise, stop, resolveActions, doneInvoke, error, toActionObject, toActivityDefinition, after, send as send$1, cancel, initEvent } from './actions.js';\nimport { IS_PRODUCTION } from './environment.js';\nimport { STATE_DELIMITER } from './constants.js';\nimport { getAllStateNodes, getConfiguration, isInFinalState, getTagsFromConfiguration, has, getChildren, getValue, isLeafNode, getAllChildren } from './stateUtils.js';\nimport { createInvocableActor } from './Actor.js';\nimport { toInvokeDefinition } from './invokeUtils.js';\n\nvar NULL_EVENT = '';\nvar STATE_IDENTIFIER = '#';\nvar WILDCARD = '*';\nvar EMPTY_OBJECT = {};\n\nvar isStateId = function (str) {\n  return str[0] === STATE_IDENTIFIER;\n};\n\nvar createDefaultOptions = function () {\n  return {\n    actions: {},\n    guards: {},\n    services: {},\n    activities: {},\n    delays: {}\n  };\n};\n\nvar validateArrayifiedTransitions = function (stateNode, event, transitions) {\n  var hasNonLastUnguardedTarget = transitions.slice(0, -1).some(function (transition) {\n    return !('cond' in transition) && !('in' in transition) && (isString(transition.target) || isMachine(transition.target));\n  });\n  var eventText = event === NULL_EVENT ? 'the transient event' : \"event '\".concat(event, \"'\");\n  warn(!hasNonLastUnguardedTarget, \"One or more transitions for \".concat(eventText, \" on state '\").concat(stateNode.id, \"' are unreachable. \") + \"Make sure that the default transition is the last one defined.\");\n};\n\nvar StateNode =\n/*#__PURE__*/\n\n/** @class */\nfunction () {\n  function StateNode(\n  /**\r\n   * The raw config used to create the machine.\r\n   */\n  config, options,\n  /**\r\n   * The initial extended state\r\n   */\n  _context, // TODO: this is unsafe, but we're removing it in v5 anyway\n  _stateInfo) {\n    if (_context === void 0) {\n      _context = 'context' in config ? config.context : undefined;\n    }\n\n    var _this = this;\n\n    var _a;\n\n    this.config = config;\n    this._context = _context;\n    /**\r\n     * The order this state node appears. Corresponds to the implicit SCXML document order.\r\n     */\n\n    this.order = -1;\n    this.__xstatenode = true;\n    this.__cache = {\n      events: undefined,\n      relativeValue: new Map(),\n      initialStateValue: undefined,\n      initialState: undefined,\n      on: undefined,\n      transitions: undefined,\n      candidates: {},\n      delayedTransitions: undefined\n    };\n    this.idMap = {};\n    this.tags = [];\n    this.options = Object.assign(createDefaultOptions(), options);\n    this.parent = _stateInfo === null || _stateInfo === void 0 ? void 0 : _stateInfo.parent;\n    this.key = this.config.key || (_stateInfo === null || _stateInfo === void 0 ? void 0 : _stateInfo.key) || this.config.id || '(machine)';\n    this.machine = this.parent ? this.parent.machine : this;\n    this.path = this.parent ? this.parent.path.concat(this.key) : [];\n    this.delimiter = this.config.delimiter || (this.parent ? this.parent.delimiter : STATE_DELIMITER);\n    this.id = this.config.id || __spreadArray([this.machine.key], __read(this.path), false).join(this.delimiter);\n    this.version = this.parent ? this.parent.version : this.config.version;\n    this.type = this.config.type || (this.config.parallel ? 'parallel' : this.config.states && Object.keys(this.config.states).length ? 'compound' : this.config.history ? 'history' : 'atomic');\n    this.schema = this.parent ? this.machine.schema : (_a = this.config.schema) !== null && _a !== void 0 ? _a : {};\n    this.description = this.config.description;\n\n    if (!IS_PRODUCTION) {\n      warn(!('parallel' in this.config), \"The \\\"parallel\\\" property is deprecated and will be removed in version 4.1. \".concat(this.config.parallel ? \"Replace with `type: 'parallel'`\" : \"Use `type: '\".concat(this.type, \"'`\"), \" in the config for state node '\").concat(this.id, \"' instead.\"));\n    }\n\n    this.initial = this.config.initial;\n    this.states = this.config.states ? mapValues(this.config.states, function (stateConfig, key) {\n      var _a;\n\n      var stateNode = new StateNode(stateConfig, {}, undefined, {\n        parent: _this,\n        key: key\n      });\n      Object.assign(_this.idMap, __assign((_a = {}, _a[stateNode.id] = stateNode, _a), stateNode.idMap));\n      return stateNode;\n    }) : EMPTY_OBJECT; // Document order\n\n    var order = 0;\n\n    function dfs(stateNode) {\n      var e_1, _a;\n\n      stateNode.order = order++;\n\n      try {\n        for (var _b = __values(getAllChildren(stateNode)), _c = _b.next(); !_c.done; _c = _b.next()) {\n          var child = _c.value;\n          dfs(child);\n        }\n      } catch (e_1_1) {\n        e_1 = {\n          error: e_1_1\n        };\n      } finally {\n        try {\n          if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        } finally {\n          if (e_1) throw e_1.error;\n        }\n      }\n    }\n\n    dfs(this); // History config\n\n    this.history = this.config.history === true ? 'shallow' : this.config.history || false;\n    this._transient = !!this.config.always || (!this.config.on ? false : Array.isArray(this.config.on) ? this.config.on.some(function (_a) {\n      var event = _a.event;\n      return event === NULL_EVENT;\n    }) : NULL_EVENT in this.config.on);\n    this.strict = !!this.config.strict; // TODO: deprecate (entry)\n\n    this.onEntry = toArray(this.config.entry || this.config.onEntry).map(function (action) {\n      return toActionObject(action);\n    }); // TODO: deprecate (exit)\n\n    this.onExit = toArray(this.config.exit || this.config.onExit).map(function (action) {\n      return toActionObject(action);\n    });\n    this.meta = this.config.meta;\n    this.doneData = this.type === 'final' ? this.config.data : undefined;\n    this.invoke = toArray(this.config.invoke).map(function (invokeConfig, i) {\n      var _a, _b;\n\n      if (isMachine(invokeConfig)) {\n        var invokeId = createInvokeId(_this.id, i);\n        _this.machine.options.services = __assign((_a = {}, _a[invokeId] = invokeConfig, _a), _this.machine.options.services);\n        return toInvokeDefinition({\n          src: invokeId,\n          id: invokeId\n        });\n      } else if (isString(invokeConfig.src)) {\n        var invokeId = invokeConfig.id || createInvokeId(_this.id, i);\n        return toInvokeDefinition(__assign(__assign({}, invokeConfig), {\n          id: invokeId,\n          src: invokeConfig.src\n        }));\n      } else if (isMachine(invokeConfig.src) || isFunction(invokeConfig.src)) {\n        var invokeId = invokeConfig.id || createInvokeId(_this.id, i);\n        _this.machine.options.services = __assign((_b = {}, _b[invokeId] = invokeConfig.src, _b), _this.machine.options.services);\n        return toInvokeDefinition(__assign(__assign({\n          id: invokeId\n        }, invokeConfig), {\n          src: invokeId\n        }));\n      } else {\n        var invokeSource = invokeConfig.src;\n        return toInvokeDefinition(__assign(__assign({\n          id: createInvokeId(_this.id, i)\n        }, invokeConfig), {\n          src: invokeSource\n        }));\n      }\n    });\n    this.activities = toArray(this.config.activities).concat(this.invoke).map(function (activity) {\n      return toActivityDefinition(activity);\n    });\n    this.transition = this.transition.bind(this);\n    this.tags = toArray(this.config.tags); // TODO: this is the real fix for initialization once\n    // state node getters are deprecated\n    // if (!this.parent) {\n    //   this._init();\n    // }\n  }\n\n  StateNode.prototype._init = function () {\n    if (this.__cache.transitions) {\n      return;\n    }\n\n    getAllStateNodes(this).forEach(function (stateNode) {\n      return stateNode.on;\n    });\n  };\n  /**\r\n   * Clones this state machine with custom options and context.\r\n   *\r\n   * @param options Options (actions, guards, activities, services) to recursively merge with the existing options.\r\n   * @param context Custom context (will override predefined context)\r\n   */\n\n\n  StateNode.prototype.withConfig = function (options, context) {\n    var _a = this.options,\n        actions = _a.actions,\n        activities = _a.activities,\n        guards = _a.guards,\n        services = _a.services,\n        delays = _a.delays;\n    return new StateNode(this.config, {\n      actions: __assign(__assign({}, actions), options.actions),\n      activities: __assign(__assign({}, activities), options.activities),\n      guards: __assign(__assign({}, guards), options.guards),\n      services: __assign(__assign({}, services), options.services),\n      delays: __assign(__assign({}, delays), options.delays)\n    }, context !== null && context !== void 0 ? context : this.context);\n  };\n  /**\r\n   * Clones this state machine with custom context.\r\n   *\r\n   * @param context Custom context (will override predefined context, not recursive)\r\n   */\n\n\n  StateNode.prototype.withContext = function (context) {\n    return new StateNode(this.config, this.options, context);\n  };\n\n  Object.defineProperty(StateNode.prototype, \"context\", {\n    get: function () {\n      return isFunction(this._context) ? this._context() : this._context;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StateNode.prototype, \"definition\", {\n    /**\r\n     * The well-structured state node definition.\r\n     */\n    get: function () {\n      return {\n        id: this.id,\n        key: this.key,\n        version: this.version,\n        context: this.context,\n        type: this.type,\n        initial: this.initial,\n        history: this.history,\n        states: mapValues(this.states, function (state) {\n          return state.definition;\n        }),\n        on: this.on,\n        transitions: this.transitions,\n        entry: this.onEntry,\n        exit: this.onExit,\n        activities: this.activities || [],\n        meta: this.meta,\n        order: this.order || -1,\n        data: this.doneData,\n        invoke: this.invoke,\n        description: this.description,\n        tags: this.tags\n      };\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  StateNode.prototype.toJSON = function () {\n    return this.definition;\n  };\n\n  Object.defineProperty(StateNode.prototype, \"on\", {\n    /**\r\n     * The mapping of events to transitions.\r\n     */\n    get: function () {\n      if (this.__cache.on) {\n        return this.__cache.on;\n      }\n\n      var transitions = this.transitions;\n      return this.__cache.on = transitions.reduce(function (map, transition) {\n        map[transition.eventType] = map[transition.eventType] || [];\n        map[transition.eventType].push(transition);\n        return map;\n      }, {});\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StateNode.prototype, \"after\", {\n    get: function () {\n      return this.__cache.delayedTransitions || (this.__cache.delayedTransitions = this.getDelayedTransitions(), this.__cache.delayedTransitions);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StateNode.prototype, \"transitions\", {\n    /**\r\n     * All the transitions that can be taken from this state node.\r\n     */\n    get: function () {\n      return this.__cache.transitions || (this.__cache.transitions = this.formatTransitions(), this.__cache.transitions);\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  StateNode.prototype.getCandidates = function (eventName) {\n    if (this.__cache.candidates[eventName]) {\n      return this.__cache.candidates[eventName];\n    }\n\n    var transient = eventName === NULL_EVENT;\n    var candidates = this.transitions.filter(function (transition) {\n      var sameEventType = transition.eventType === eventName; // null events should only match against eventless transitions\n\n      return transient ? sameEventType : sameEventType || transition.eventType === WILDCARD;\n    });\n    this.__cache.candidates[eventName] = candidates;\n    return candidates;\n  };\n  /**\r\n   * All delayed transitions from the config.\r\n   */\n\n\n  StateNode.prototype.getDelayedTransitions = function () {\n    var _this = this;\n\n    var afterConfig = this.config.after;\n\n    if (!afterConfig) {\n      return [];\n    }\n\n    var mutateEntryExit = function (delay, i) {\n      var delayRef = isFunction(delay) ? \"\".concat(_this.id, \":delay[\").concat(i, \"]\") : delay;\n      var eventType = after(delayRef, _this.id);\n\n      _this.onEntry.push(send$1(eventType, {\n        delay: delay\n      }));\n\n      _this.onExit.push(cancel(eventType));\n\n      return eventType;\n    };\n\n    var delayedTransitions = isArray(afterConfig) ? afterConfig.map(function (transition, i) {\n      var eventType = mutateEntryExit(transition.delay, i);\n      return __assign(__assign({}, transition), {\n        event: eventType\n      });\n    }) : flatten(Object.keys(afterConfig).map(function (delay, i) {\n      var configTransition = afterConfig[delay];\n      var resolvedTransition = isString(configTransition) ? {\n        target: configTransition\n      } : configTransition;\n      var resolvedDelay = !isNaN(+delay) ? +delay : delay;\n      var eventType = mutateEntryExit(resolvedDelay, i);\n      return toArray(resolvedTransition).map(function (transition) {\n        return __assign(__assign({}, transition), {\n          event: eventType,\n          delay: resolvedDelay\n        });\n      });\n    }));\n    return delayedTransitions.map(function (delayedTransition) {\n      var delay = delayedTransition.delay;\n      return __assign(__assign({}, _this.formatTransition(delayedTransition)), {\n        delay: delay\n      });\n    });\n  };\n  /**\r\n   * Returns the state nodes represented by the current state value.\r\n   *\r\n   * @param state The state value or State instance\r\n   */\n\n\n  StateNode.prototype.getStateNodes = function (state) {\n    var _a;\n\n    var _this = this;\n\n    if (!state) {\n      return [];\n    }\n\n    var stateValue = state instanceof State ? state.value : toStateValue(state, this.delimiter);\n\n    if (isString(stateValue)) {\n      var initialStateValue = this.getStateNode(stateValue).initial;\n      return initialStateValue !== undefined ? this.getStateNodes((_a = {}, _a[stateValue] = initialStateValue, _a)) : [this, this.states[stateValue]];\n    }\n\n    var subStateKeys = Object.keys(stateValue);\n    var subStateNodes = [this];\n    subStateNodes.push.apply(subStateNodes, __spreadArray([], __read(flatten(subStateKeys.map(function (subStateKey) {\n      return _this.getStateNode(subStateKey).getStateNodes(stateValue[subStateKey]);\n    }))), false));\n    return subStateNodes;\n  };\n  /**\r\n   * Returns `true` if this state node explicitly handles the given event.\r\n   *\r\n   * @param event The event in question\r\n   */\n\n\n  StateNode.prototype.handles = function (event) {\n    var eventType = getEventType(event);\n    return this.events.includes(eventType);\n  };\n  /**\r\n   * Resolves the given `state` to a new `State` instance relative to this machine.\r\n   *\r\n   * This ensures that `.events` and `.nextEvents` represent the correct values.\r\n   *\r\n   * @param state The state to resolve\r\n   */\n\n\n  StateNode.prototype.resolveState = function (state) {\n    var stateFromConfig = state instanceof State ? state : State.create(state);\n    var configuration = Array.from(getConfiguration([], this.getStateNodes(stateFromConfig.value)));\n    return new State(__assign(__assign({}, stateFromConfig), {\n      value: this.resolve(stateFromConfig.value),\n      configuration: configuration,\n      done: isInFinalState(configuration, this),\n      tags: getTagsFromConfiguration(configuration),\n      machine: this.machine\n    }));\n  };\n\n  StateNode.prototype.transitionLeafNode = function (stateValue, state, _event) {\n    var stateNode = this.getStateNode(stateValue);\n    var next = stateNode.next(state, _event);\n\n    if (!next || !next.transitions.length) {\n      return this.next(state, _event);\n    }\n\n    return next;\n  };\n\n  StateNode.prototype.transitionCompoundNode = function (stateValue, state, _event) {\n    var subStateKeys = Object.keys(stateValue);\n    var stateNode = this.getStateNode(subStateKeys[0]);\n\n    var next = stateNode._transition(stateValue[subStateKeys[0]], state, _event);\n\n    if (!next || !next.transitions.length) {\n      return this.next(state, _event);\n    }\n\n    return next;\n  };\n\n  StateNode.prototype.transitionParallelNode = function (stateValue, state, _event) {\n    var e_2, _a;\n\n    var transitionMap = {};\n\n    try {\n      for (var _b = __values(Object.keys(stateValue)), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var subStateKey = _c.value;\n        var subStateValue = stateValue[subStateKey];\n\n        if (!subStateValue) {\n          continue;\n        }\n\n        var subStateNode = this.getStateNode(subStateKey);\n\n        var next = subStateNode._transition(subStateValue, state, _event);\n\n        if (next) {\n          transitionMap[subStateKey] = next;\n        }\n      }\n    } catch (e_2_1) {\n      e_2 = {\n        error: e_2_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_2) throw e_2.error;\n      }\n    }\n\n    var stateTransitions = Object.keys(transitionMap).map(function (key) {\n      return transitionMap[key];\n    });\n    var enabledTransitions = flatten(stateTransitions.map(function (st) {\n      return st.transitions;\n    }));\n    var willTransition = stateTransitions.some(function (st) {\n      return st.transitions.length > 0;\n    });\n\n    if (!willTransition) {\n      return this.next(state, _event);\n    }\n\n    var entryNodes = flatten(stateTransitions.map(function (t) {\n      return t.entrySet;\n    }));\n    var configuration = flatten(Object.keys(transitionMap).map(function (key) {\n      return transitionMap[key].configuration;\n    }));\n    return {\n      transitions: enabledTransitions,\n      entrySet: entryNodes,\n      exitSet: flatten(stateTransitions.map(function (t) {\n        return t.exitSet;\n      })),\n      configuration: configuration,\n      source: state,\n      actions: flatten(Object.keys(transitionMap).map(function (key) {\n        return transitionMap[key].actions;\n      }))\n    };\n  };\n\n  StateNode.prototype._transition = function (stateValue, state, _event) {\n    // leaf node\n    if (isString(stateValue)) {\n      return this.transitionLeafNode(stateValue, state, _event);\n    } // hierarchical node\n\n\n    if (Object.keys(stateValue).length === 1) {\n      return this.transitionCompoundNode(stateValue, state, _event);\n    } // orthogonal node\n\n\n    return this.transitionParallelNode(stateValue, state, _event);\n  };\n\n  StateNode.prototype.getTransitionData = function (state, event) {\n    return this._transition(state.value, state, toSCXMLEvent(event));\n  };\n\n  StateNode.prototype.next = function (state, _event) {\n    var e_3, _a;\n\n    var _this = this;\n\n    var eventName = _event.name;\n    var actions = [];\n    var nextStateNodes = [];\n    var selectedTransition;\n\n    try {\n      for (var _b = __values(this.getCandidates(eventName)), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var candidate = _c.value;\n        var cond = candidate.cond,\n            stateIn = candidate.in;\n        var resolvedContext = state.context;\n        var isInState = stateIn ? isString(stateIn) && isStateId(stateIn) ? // Check if in state by ID\n        state.matches(toStateValue(this.getStateNodeById(stateIn).path, this.delimiter)) : // Check if in state by relative grandparent\n        matchesState(toStateValue(stateIn, this.delimiter), path(this.path.slice(0, -2))(state.value)) : true;\n        var guardPassed = false;\n\n        try {\n          guardPassed = !cond || evaluateGuard(this.machine, cond, resolvedContext, _event, state);\n        } catch (err) {\n          throw new Error(\"Unable to evaluate guard '\".concat(cond.name || cond.type, \"' in transition for event '\").concat(eventName, \"' in state node '\").concat(this.id, \"':\\n\").concat(err.message));\n        }\n\n        if (guardPassed && isInState) {\n          if (candidate.target !== undefined) {\n            nextStateNodes = candidate.target;\n          }\n\n          actions.push.apply(actions, __spreadArray([], __read(candidate.actions), false));\n          selectedTransition = candidate;\n          break;\n        }\n      }\n    } catch (e_3_1) {\n      e_3 = {\n        error: e_3_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_3) throw e_3.error;\n      }\n    }\n\n    if (!selectedTransition) {\n      return undefined;\n    }\n\n    if (!nextStateNodes.length) {\n      return {\n        transitions: [selectedTransition],\n        entrySet: [],\n        exitSet: [],\n        configuration: state.value ? [this] : [],\n        source: state,\n        actions: actions\n      };\n    }\n\n    var allNextStateNodes = flatten(nextStateNodes.map(function (stateNode) {\n      return _this.getRelativeStateNodes(stateNode, state.historyValue);\n    }));\n    var isInternal = !!selectedTransition.internal;\n    var reentryNodes = [];\n\n    if (!isInternal) {\n      nextStateNodes.forEach(function (targetNode) {\n        reentryNodes.push.apply(reentryNodes, __spreadArray([], __read(_this.getExternalReentryNodes(targetNode)), false));\n      });\n    }\n\n    return {\n      transitions: [selectedTransition],\n      entrySet: reentryNodes,\n      exitSet: isInternal ? [] : [this],\n      configuration: allNextStateNodes,\n      source: state,\n      actions: actions\n    };\n  };\n\n  StateNode.prototype.getExternalReentryNodes = function (targetNode) {\n    var nodes = [];\n\n    var _a = __read(targetNode.order > this.order ? [targetNode, this] : [this, targetNode], 2),\n        marker = _a[0],\n        possibleAncestor = _a[1];\n\n    while (marker && marker !== possibleAncestor) {\n      nodes.push(marker);\n      marker = marker.parent;\n    }\n\n    if (marker !== possibleAncestor) {\n      // we never got to `possibleAncestor`, therefore the initial `marker` \"escapes\" it\n      // it's in a different part of the tree so no states will be reentered for such an external transition\n      return [];\n    }\n\n    nodes.push(possibleAncestor);\n    return nodes;\n  };\n\n  StateNode.prototype.getActions = function (resolvedConfig, isDone, transition, currentContext, _event, prevState, predictableExec) {\n    var e_4, _a, e_5, _b;\n\n    var _this = this;\n\n    var prevConfig = getConfiguration([], prevState ? this.getStateNodes(prevState.value) : [this]);\n\n    try {\n      for (var resolvedConfig_1 = __values(resolvedConfig), resolvedConfig_1_1 = resolvedConfig_1.next(); !resolvedConfig_1_1.done; resolvedConfig_1_1 = resolvedConfig_1.next()) {\n        var sn = resolvedConfig_1_1.value;\n\n        if (!has(prevConfig, sn) || has(transition.entrySet, sn.parent)) {\n          transition.entrySet.push(sn);\n        }\n      }\n    } catch (e_4_1) {\n      e_4 = {\n        error: e_4_1\n      };\n    } finally {\n      try {\n        if (resolvedConfig_1_1 && !resolvedConfig_1_1.done && (_a = resolvedConfig_1.return)) _a.call(resolvedConfig_1);\n      } finally {\n        if (e_4) throw e_4.error;\n      }\n    }\n\n    try {\n      for (var prevConfig_1 = __values(prevConfig), prevConfig_1_1 = prevConfig_1.next(); !prevConfig_1_1.done; prevConfig_1_1 = prevConfig_1.next()) {\n        var sn = prevConfig_1_1.value;\n\n        if (!has(resolvedConfig, sn) || has(transition.exitSet, sn.parent)) {\n          transition.exitSet.push(sn);\n        }\n      }\n    } catch (e_5_1) {\n      e_5 = {\n        error: e_5_1\n      };\n    } finally {\n      try {\n        if (prevConfig_1_1 && !prevConfig_1_1.done && (_b = prevConfig_1.return)) _b.call(prevConfig_1);\n      } finally {\n        if (e_5) throw e_5.error;\n      }\n    }\n\n    var doneEvents = flatten(transition.entrySet.map(function (sn) {\n      var events = [];\n\n      if (sn.type !== 'final') {\n        return events;\n      }\n\n      var parent = sn.parent;\n\n      if (!parent.parent) {\n        return events;\n      }\n\n      events.push(done(sn.id, sn.doneData), // TODO: deprecate - final states should not emit done events for their own state.\n      done(parent.id, sn.doneData ? mapContext(sn.doneData, currentContext, _event) : undefined));\n      var grandparent = parent.parent;\n\n      if (grandparent.type === 'parallel') {\n        if (getChildren(grandparent).every(function (parentNode) {\n          return isInFinalState(transition.configuration, parentNode);\n        })) {\n          events.push(done(grandparent.id));\n        }\n      }\n\n      return events;\n    }));\n    transition.exitSet.sort(function (a, b) {\n      return b.order - a.order;\n    });\n    transition.entrySet.sort(function (a, b) {\n      return a.order - b.order;\n    });\n    var entryStates = new Set(transition.entrySet);\n    var exitStates = new Set(transition.exitSet);\n    var entryActions = Array.from(entryStates).map(function (stateNode) {\n      var entryActions = stateNode.onEntry;\n      var invokeActions = stateNode.activities.map(function (activity) {\n        return start(activity);\n      });\n      return toActionObjects(predictableExec ? __spreadArray(__spreadArray([], __read(entryActions), false), __read(invokeActions), false) : __spreadArray(__spreadArray([], __read(invokeActions), false), __read(entryActions), false), _this.machine.options.actions);\n    }).concat([doneEvents.map(raise)]);\n    var exitActions = Array.from(exitStates).map(function (stateNode) {\n      return toActionObjects(__spreadArray(__spreadArray([], __read(stateNode.onExit), false), __read(stateNode.activities.map(function (activity) {\n        return stop(activity);\n      })), false), _this.machine.options.actions);\n    });\n    var actions = exitActions.concat([toActionObjects(transition.actions, this.machine.options.actions)]).concat(entryActions);\n\n    if (isDone) {\n      var stopActions = toActionObjects(flatten(__spreadArray([], __read(resolvedConfig), false).sort(function (a, b) {\n        return b.order - a.order;\n      }).map(function (stateNode) {\n        return stateNode.onExit;\n      })), this.machine.options.actions).filter(function (action) {\n        return action.type !== raise$1 && (action.type !== send || !!action.to && action.to !== SpecialTargets.Internal);\n      });\n      return actions.concat([stopActions]);\n    }\n\n    return actions;\n  };\n  /**\r\n   * Determines the next state given the current `state` and sent `event`.\r\n   *\r\n   * @param state The current State instance or state value\r\n   * @param event The event that was sent at the current state\r\n   * @param context The current context (extended state) of the current state\r\n   */\n\n\n  StateNode.prototype.transition = function (state, event, context, exec) {\n    if (state === void 0) {\n      state = this.initialState;\n    }\n\n    var _event = toSCXMLEvent(event);\n\n    var currentState;\n\n    if (state instanceof State) {\n      currentState = context === undefined ? state : this.resolveState(State.from(state, context));\n    } else {\n      var resolvedStateValue = isString(state) ? this.resolve(pathToStateValue(this.getResolvedPath(state))) : this.resolve(state);\n      var resolvedContext = context !== null && context !== void 0 ? context : this.machine.context;\n      currentState = this.resolveState(State.from(resolvedStateValue, resolvedContext));\n    }\n\n    if (!IS_PRODUCTION && _event.name === WILDCARD) {\n      throw new Error(\"An event cannot have the wildcard type ('\".concat(WILDCARD, \"')\"));\n    }\n\n    if (this.strict) {\n      if (!this.events.includes(_event.name) && !isBuiltInEvent(_event.name)) {\n        throw new Error(\"Machine '\".concat(this.id, \"' does not accept event '\").concat(_event.name, \"'\"));\n      }\n    }\n\n    var stateTransition = this._transition(currentState.value, currentState, _event) || {\n      transitions: [],\n      configuration: [],\n      entrySet: [],\n      exitSet: [],\n      source: currentState,\n      actions: []\n    };\n    var prevConfig = getConfiguration([], this.getStateNodes(currentState.value));\n    var resolvedConfig = stateTransition.configuration.length ? getConfiguration(prevConfig, stateTransition.configuration) : prevConfig;\n    stateTransition.configuration = __spreadArray([], __read(resolvedConfig), false);\n    return this.resolveTransition(stateTransition, currentState, currentState.context, exec, _event);\n  };\n\n  StateNode.prototype.resolveRaisedTransition = function (state, _event, originalEvent, predictableExec) {\n    var _a;\n\n    var currentActions = state.actions;\n    state = this.transition(state, _event, undefined, predictableExec); // Save original event to state\n    // TODO: this should be the raised event! Delete in V5 (breaking)\n\n    state._event = originalEvent;\n    state.event = originalEvent.data;\n\n    (_a = state.actions).unshift.apply(_a, __spreadArray([], __read(currentActions), false));\n\n    return state;\n  };\n\n  StateNode.prototype.resolveTransition = function (stateTransition, currentState, context, predictableExec, _event) {\n    var e_6, _a, e_7, _b;\n\n    var _this = this;\n\n    if (_event === void 0) {\n      _event = initEvent;\n    }\n\n    var configuration = stateTransition.configuration; // Transition will \"apply\" if:\n    // - this is the initial state (there is no current state)\n    // - OR there are transitions\n\n    var willTransition = !currentState || stateTransition.transitions.length > 0;\n    var resolvedConfiguration = willTransition ? stateTransition.configuration : currentState ? currentState.configuration : [];\n    var isDone = isInFinalState(resolvedConfiguration, this);\n    var resolvedStateValue = willTransition ? getValue(this.machine, configuration) : undefined;\n    var historyValue = currentState ? currentState.historyValue ? currentState.historyValue : stateTransition.source ? this.machine.historyValue(currentState.value) : undefined : undefined;\n    var actionBlocks = this.getActions(new Set(resolvedConfiguration), isDone, stateTransition, context, _event, currentState, predictableExec);\n    var activities = currentState ? __assign({}, currentState.activities) : {};\n\n    try {\n      for (var actionBlocks_1 = __values(actionBlocks), actionBlocks_1_1 = actionBlocks_1.next(); !actionBlocks_1_1.done; actionBlocks_1_1 = actionBlocks_1.next()) {\n        var block = actionBlocks_1_1.value;\n\n        try {\n          for (var block_1 = (e_7 = void 0, __values(block)), block_1_1 = block_1.next(); !block_1_1.done; block_1_1 = block_1.next()) {\n            var action = block_1_1.value;\n\n            if (action.type === start$1) {\n              activities[action.activity.id || action.activity.type] = action;\n            } else if (action.type === stop$1) {\n              activities[action.activity.id || action.activity.type] = false;\n            }\n          }\n        } catch (e_7_1) {\n          e_7 = {\n            error: e_7_1\n          };\n        } finally {\n          try {\n            if (block_1_1 && !block_1_1.done && (_b = block_1.return)) _b.call(block_1);\n          } finally {\n            if (e_7) throw e_7.error;\n          }\n        }\n      }\n    } catch (e_6_1) {\n      e_6 = {\n        error: e_6_1\n      };\n    } finally {\n      try {\n        if (actionBlocks_1_1 && !actionBlocks_1_1.done && (_a = actionBlocks_1.return)) _a.call(actionBlocks_1);\n      } finally {\n        if (e_6) throw e_6.error;\n      }\n    }\n\n    var _c = __read(resolveActions(this, currentState, context, _event, actionBlocks, predictableExec, this.machine.config.predictableActionArguments || this.machine.config.preserveActionOrder), 2),\n        resolvedActions = _c[0],\n        updatedContext = _c[1];\n\n    var _d = __read(partition(resolvedActions, function (action) {\n      return action.type === raise$1 || action.type === send && action.to === SpecialTargets.Internal;\n    }), 2),\n        raisedEvents = _d[0],\n        nonRaisedActions = _d[1];\n\n    var invokeActions = resolvedActions.filter(function (action) {\n      var _a;\n\n      return action.type === start$1 && ((_a = action.activity) === null || _a === void 0 ? void 0 : _a.type) === invoke;\n    });\n    var children = invokeActions.reduce(function (acc, action) {\n      acc[action.activity.id] = createInvocableActor(action.activity, _this.machine, updatedContext, _event);\n      return acc;\n    }, currentState ? __assign({}, currentState.children) : {});\n    var nextState = new State({\n      value: resolvedStateValue || currentState.value,\n      context: updatedContext,\n      _event: _event,\n      // Persist _sessionid between states\n      _sessionid: currentState ? currentState._sessionid : null,\n      historyValue: resolvedStateValue ? historyValue ? updateHistoryValue(historyValue, resolvedStateValue) : undefined : currentState ? currentState.historyValue : undefined,\n      history: !resolvedStateValue || stateTransition.source ? currentState : undefined,\n      actions: resolvedStateValue ? nonRaisedActions : [],\n      activities: resolvedStateValue ? activities : currentState ? currentState.activities : {},\n      events: [],\n      configuration: resolvedConfiguration,\n      transitions: stateTransition.transitions,\n      children: children,\n      done: isDone,\n      tags: getTagsFromConfiguration(resolvedConfiguration),\n      machine: this\n    });\n    var didUpdateContext = context !== updatedContext;\n    nextState.changed = _event.name === update || didUpdateContext; // Dispose of penultimate histories to prevent memory leaks\n\n    var history = nextState.history;\n\n    if (history) {\n      delete history.history;\n    } // There are transient transitions if the machine is not in a final state\n    // and if some of the state nodes have transient (\"always\") transitions.\n\n\n    var hasAlwaysTransitions = !isDone && (this._transient || configuration.some(function (stateNode) {\n      return stateNode._transient;\n    })); // If there are no enabled transitions, check if there are transient transitions.\n    // If there are transient transitions, continue checking for more transitions\n    // because an transient transition should be triggered even if there are no\n    // enabled transitions.\n    //\n    // If we're already working on an transient transition then stop to prevent an infinite loop.\n    //\n    // Otherwise, if there are no enabled nor transient transitions, we are done.\n\n    if (!willTransition && (!hasAlwaysTransitions || _event.name === NULL_EVENT)) {\n      return nextState;\n    }\n\n    var maybeNextState = nextState;\n\n    if (!isDone) {\n      if (hasAlwaysTransitions) {\n        maybeNextState = this.resolveRaisedTransition(maybeNextState, {\n          type: nullEvent\n        }, _event, predictableExec);\n      }\n\n      while (raisedEvents.length) {\n        var raisedEvent = raisedEvents.shift();\n        maybeNextState = this.resolveRaisedTransition(maybeNextState, raisedEvent._event, _event, predictableExec);\n      }\n    } // Detect if state changed\n\n\n    var changed = maybeNextState.changed || (history ? !!maybeNextState.actions.length || didUpdateContext || typeof history.value !== typeof maybeNextState.value || !stateValuesEqual(maybeNextState.value, history.value) : undefined);\n    maybeNextState.changed = changed; // Preserve original history after raised events\n\n    maybeNextState.history = history;\n    return maybeNextState;\n  };\n  /**\r\n   * Returns the child state node from its relative `stateKey`, or throws.\r\n   */\n\n\n  StateNode.prototype.getStateNode = function (stateKey) {\n    if (isStateId(stateKey)) {\n      return this.machine.getStateNodeById(stateKey);\n    }\n\n    if (!this.states) {\n      throw new Error(\"Unable to retrieve child state '\".concat(stateKey, \"' from '\").concat(this.id, \"'; no child states exist.\"));\n    }\n\n    var result = this.states[stateKey];\n\n    if (!result) {\n      throw new Error(\"Child state '\".concat(stateKey, \"' does not exist on '\").concat(this.id, \"'\"));\n    }\n\n    return result;\n  };\n  /**\r\n   * Returns the state node with the given `stateId`, or throws.\r\n   *\r\n   * @param stateId The state ID. The prefix \"#\" is removed.\r\n   */\n\n\n  StateNode.prototype.getStateNodeById = function (stateId) {\n    var resolvedStateId = isStateId(stateId) ? stateId.slice(STATE_IDENTIFIER.length) : stateId;\n\n    if (resolvedStateId === this.id) {\n      return this;\n    }\n\n    var stateNode = this.machine.idMap[resolvedStateId];\n\n    if (!stateNode) {\n      throw new Error(\"Child state node '#\".concat(resolvedStateId, \"' does not exist on machine '\").concat(this.id, \"'\"));\n    }\n\n    return stateNode;\n  };\n  /**\r\n   * Returns the relative state node from the given `statePath`, or throws.\r\n   *\r\n   * @param statePath The string or string array relative path to the state node.\r\n   */\n\n\n  StateNode.prototype.getStateNodeByPath = function (statePath) {\n    if (typeof statePath === 'string' && isStateId(statePath)) {\n      try {\n        return this.getStateNodeById(statePath.slice(1));\n      } catch (e) {// try individual paths\n        // throw e;\n      }\n    }\n\n    var arrayStatePath = toStatePath(statePath, this.delimiter).slice();\n    var currentStateNode = this;\n\n    while (arrayStatePath.length) {\n      var key = arrayStatePath.shift();\n\n      if (!key.length) {\n        break;\n      }\n\n      currentStateNode = currentStateNode.getStateNode(key);\n    }\n\n    return currentStateNode;\n  };\n  /**\r\n   * Resolves a partial state value with its full representation in this machine.\r\n   *\r\n   * @param stateValue The partial state value to resolve.\r\n   */\n\n\n  StateNode.prototype.resolve = function (stateValue) {\n    var _a;\n\n    var _this = this;\n\n    if (!stateValue) {\n      return this.initialStateValue || EMPTY_OBJECT; // TODO: type-specific properties\n    }\n\n    switch (this.type) {\n      case 'parallel':\n        return mapValues(this.initialStateValue, function (subStateValue, subStateKey) {\n          return subStateValue ? _this.getStateNode(subStateKey).resolve(stateValue[subStateKey] || subStateValue) : EMPTY_OBJECT;\n        });\n\n      case 'compound':\n        if (isString(stateValue)) {\n          var subStateNode = this.getStateNode(stateValue);\n\n          if (subStateNode.type === 'parallel' || subStateNode.type === 'compound') {\n            return _a = {}, _a[stateValue] = subStateNode.initialStateValue, _a;\n          }\n\n          return stateValue;\n        }\n\n        if (!Object.keys(stateValue).length) {\n          return this.initialStateValue || {};\n        }\n\n        return mapValues(stateValue, function (subStateValue, subStateKey) {\n          return subStateValue ? _this.getStateNode(subStateKey).resolve(subStateValue) : EMPTY_OBJECT;\n        });\n\n      default:\n        return stateValue || EMPTY_OBJECT;\n    }\n  };\n\n  StateNode.prototype.getResolvedPath = function (stateIdentifier) {\n    if (isStateId(stateIdentifier)) {\n      var stateNode = this.machine.idMap[stateIdentifier.slice(STATE_IDENTIFIER.length)];\n\n      if (!stateNode) {\n        throw new Error(\"Unable to find state node '\".concat(stateIdentifier, \"'\"));\n      }\n\n      return stateNode.path;\n    }\n\n    return toStatePath(stateIdentifier, this.delimiter);\n  };\n\n  Object.defineProperty(StateNode.prototype, \"initialStateValue\", {\n    get: function () {\n      var _a;\n\n      if (this.__cache.initialStateValue) {\n        return this.__cache.initialStateValue;\n      }\n\n      var initialStateValue;\n\n      if (this.type === 'parallel') {\n        initialStateValue = mapFilterValues(this.states, function (state) {\n          return state.initialStateValue || EMPTY_OBJECT;\n        }, function (stateNode) {\n          return !(stateNode.type === 'history');\n        });\n      } else if (this.initial !== undefined) {\n        if (!this.states[this.initial]) {\n          throw new Error(\"Initial state '\".concat(this.initial, \"' not found on '\").concat(this.key, \"'\"));\n        }\n\n        initialStateValue = isLeafNode(this.states[this.initial]) ? this.initial : (_a = {}, _a[this.initial] = this.states[this.initial].initialStateValue, _a);\n      } else {\n        // The finite state value of a machine without child states is just an empty object\n        initialStateValue = {};\n      }\n\n      this.__cache.initialStateValue = initialStateValue;\n      return this.__cache.initialStateValue;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  StateNode.prototype.getInitialState = function (stateValue, context) {\n    this._init(); // TODO: this should be in the constructor (see note in constructor)\n\n\n    var configuration = this.getStateNodes(stateValue);\n    return this.resolveTransition({\n      configuration: configuration,\n      entrySet: __spreadArray([], __read(configuration), false),\n      exitSet: [],\n      transitions: [],\n      source: undefined,\n      actions: []\n    }, undefined, context !== null && context !== void 0 ? context : this.machine.context, undefined);\n  };\n\n  Object.defineProperty(StateNode.prototype, \"initialState\", {\n    /**\r\n     * The initial State instance, which includes all actions to be executed from\r\n     * entering the initial state.\r\n     */\n    get: function () {\n      var initialStateValue = this.initialStateValue;\n\n      if (!initialStateValue) {\n        throw new Error(\"Cannot retrieve initial state from simple state '\".concat(this.id, \"'.\"));\n      }\n\n      return this.getInitialState(initialStateValue);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StateNode.prototype, \"target\", {\n    /**\r\n     * The target state value of the history state node, if it exists. This represents the\r\n     * default state value to transition to if no history value exists yet.\r\n     */\n    get: function () {\n      var target;\n\n      if (this.type === 'history') {\n        var historyConfig = this.config;\n\n        if (isString(historyConfig.target)) {\n          target = isStateId(historyConfig.target) ? pathToStateValue(this.machine.getStateNodeById(historyConfig.target).path.slice(this.path.length - 1)) : historyConfig.target;\n        } else {\n          target = historyConfig.target;\n        }\n      }\n\n      return target;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /**\r\n   * Returns the leaf nodes from a state path relative to this state node.\r\n   *\r\n   * @param relativeStateId The relative state path to retrieve the state nodes\r\n   * @param history The previous state to retrieve history\r\n   * @param resolve Whether state nodes should resolve to initial child state nodes\r\n   */\n\n  StateNode.prototype.getRelativeStateNodes = function (relativeStateId, historyValue, resolve) {\n    if (resolve === void 0) {\n      resolve = true;\n    }\n\n    return resolve ? relativeStateId.type === 'history' ? relativeStateId.resolveHistory(historyValue) : relativeStateId.initialStateNodes : [relativeStateId];\n  };\n\n  Object.defineProperty(StateNode.prototype, \"initialStateNodes\", {\n    get: function () {\n      var _this = this;\n\n      if (isLeafNode(this)) {\n        return [this];\n      } // Case when state node is compound but no initial state is defined\n\n\n      if (this.type === 'compound' && !this.initial) {\n        if (!IS_PRODUCTION) {\n          warn(false, \"Compound state node '\".concat(this.id, \"' has no initial state.\"));\n        }\n\n        return [this];\n      }\n\n      var initialStateNodePaths = toStatePaths(this.initialStateValue);\n      return flatten(initialStateNodePaths.map(function (initialPath) {\n        return _this.getFromRelativePath(initialPath);\n      }));\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /**\r\n   * Retrieves state nodes from a relative path to this state node.\r\n   *\r\n   * @param relativePath The relative path from this state node\r\n   * @param historyValue\r\n   */\n\n  StateNode.prototype.getFromRelativePath = function (relativePath) {\n    if (!relativePath.length) {\n      return [this];\n    }\n\n    var _a = __read(relativePath),\n        stateKey = _a[0],\n        childStatePath = _a.slice(1);\n\n    if (!this.states) {\n      throw new Error(\"Cannot retrieve subPath '\".concat(stateKey, \"' from node with no states\"));\n    }\n\n    var childStateNode = this.getStateNode(stateKey);\n\n    if (childStateNode.type === 'history') {\n      return childStateNode.resolveHistory();\n    }\n\n    if (!this.states[stateKey]) {\n      throw new Error(\"Child state '\".concat(stateKey, \"' does not exist on '\").concat(this.id, \"'\"));\n    }\n\n    return this.states[stateKey].getFromRelativePath(childStatePath);\n  };\n\n  StateNode.prototype.historyValue = function (relativeStateValue) {\n    if (!Object.keys(this.states).length) {\n      return undefined;\n    }\n\n    return {\n      current: relativeStateValue || this.initialStateValue,\n      states: mapFilterValues(this.states, function (stateNode, key) {\n        if (!relativeStateValue) {\n          return stateNode.historyValue();\n        }\n\n        var subStateValue = isString(relativeStateValue) ? undefined : relativeStateValue[key];\n        return stateNode.historyValue(subStateValue || stateNode.initialStateValue);\n      }, function (stateNode) {\n        return !stateNode.history;\n      })\n    };\n  };\n  /**\r\n   * Resolves to the historical value(s) of the parent state node,\r\n   * represented by state nodes.\r\n   *\r\n   * @param historyValue\r\n   */\n\n\n  StateNode.prototype.resolveHistory = function (historyValue) {\n    var _this = this;\n\n    if (this.type !== 'history') {\n      return [this];\n    }\n\n    var parent = this.parent;\n\n    if (!historyValue) {\n      var historyTarget = this.target;\n      return historyTarget ? flatten(toStatePaths(historyTarget).map(function (relativeChildPath) {\n        return parent.getFromRelativePath(relativeChildPath);\n      })) : parent.initialStateNodes;\n    }\n\n    var subHistoryValue = nestedPath(parent.path, 'states')(historyValue).current;\n\n    if (isString(subHistoryValue)) {\n      return [parent.getStateNode(subHistoryValue)];\n    }\n\n    return flatten(toStatePaths(subHistoryValue).map(function (subStatePath) {\n      return _this.history === 'deep' ? parent.getFromRelativePath(subStatePath) : [parent.states[subStatePath[0]]];\n    }));\n  };\n\n  Object.defineProperty(StateNode.prototype, \"stateIds\", {\n    /**\r\n     * All the state node IDs of this state node and its descendant state nodes.\r\n     */\n    get: function () {\n      var _this = this;\n\n      var childStateIds = flatten(Object.keys(this.states).map(function (stateKey) {\n        return _this.states[stateKey].stateIds;\n      }));\n      return [this.id].concat(childStateIds);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StateNode.prototype, \"events\", {\n    /**\r\n     * All the event types accepted by this state node and its descendants.\r\n     */\n    get: function () {\n      var e_8, _a, e_9, _b;\n\n      if (this.__cache.events) {\n        return this.__cache.events;\n      }\n\n      var states = this.states;\n      var events = new Set(this.ownEvents);\n\n      if (states) {\n        try {\n          for (var _c = __values(Object.keys(states)), _d = _c.next(); !_d.done; _d = _c.next()) {\n            var stateId = _d.value;\n            var state = states[stateId];\n\n            if (state.states) {\n              try {\n                for (var _e = (e_9 = void 0, __values(state.events)), _f = _e.next(); !_f.done; _f = _e.next()) {\n                  var event_1 = _f.value;\n                  events.add(\"\".concat(event_1));\n                }\n              } catch (e_9_1) {\n                e_9 = {\n                  error: e_9_1\n                };\n              } finally {\n                try {\n                  if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n                } finally {\n                  if (e_9) throw e_9.error;\n                }\n              }\n            }\n          }\n        } catch (e_8_1) {\n          e_8 = {\n            error: e_8_1\n          };\n        } finally {\n          try {\n            if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n          } finally {\n            if (e_8) throw e_8.error;\n          }\n        }\n      }\n\n      return this.__cache.events = Array.from(events);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StateNode.prototype, \"ownEvents\", {\n    /**\r\n     * All the events that have transitions directly from this state node.\r\n     *\r\n     * Excludes any inert events.\r\n     */\n    get: function () {\n      var events = new Set(this.transitions.filter(function (transition) {\n        return !(!transition.target && !transition.actions.length && transition.internal);\n      }).map(function (transition) {\n        return transition.eventType;\n      }));\n      return Array.from(events);\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  StateNode.prototype.resolveTarget = function (_target) {\n    var _this = this;\n\n    if (_target === undefined) {\n      // an undefined target signals that the state node should not transition from that state when receiving that event\n      return undefined;\n    }\n\n    return _target.map(function (target) {\n      if (!isString(target)) {\n        return target;\n      }\n\n      var isInternalTarget = target[0] === _this.delimiter; // If internal target is defined on machine,\n      // do not include machine key on target\n\n      if (isInternalTarget && !_this.parent) {\n        return _this.getStateNodeByPath(target.slice(1));\n      }\n\n      var resolvedTarget = isInternalTarget ? _this.key + target : target;\n\n      if (_this.parent) {\n        try {\n          var targetStateNode = _this.parent.getStateNodeByPath(resolvedTarget);\n\n          return targetStateNode;\n        } catch (err) {\n          throw new Error(\"Invalid transition definition for state node '\".concat(_this.id, \"':\\n\").concat(err.message));\n        }\n      } else {\n        return _this.getStateNodeByPath(resolvedTarget);\n      }\n    });\n  };\n\n  StateNode.prototype.formatTransition = function (transitionConfig) {\n    var _this = this;\n\n    var normalizedTarget = normalizeTarget(transitionConfig.target);\n    var internal = 'internal' in transitionConfig ? transitionConfig.internal : normalizedTarget ? normalizedTarget.some(function (_target) {\n      return isString(_target) && _target[0] === _this.delimiter;\n    }) : true;\n    var guards = this.machine.options.guards;\n    var target = this.resolveTarget(normalizedTarget);\n\n    var transition = __assign(__assign({}, transitionConfig), {\n      actions: toActionObjects(toArray(transitionConfig.actions)),\n      cond: toGuard(transitionConfig.cond, guards),\n      target: target,\n      source: this,\n      internal: internal,\n      eventType: transitionConfig.event,\n      toJSON: function () {\n        return __assign(__assign({}, transition), {\n          target: transition.target ? transition.target.map(function (t) {\n            return \"#\".concat(t.id);\n          }) : undefined,\n          source: \"#\".concat(_this.id)\n        });\n      }\n    });\n\n    return transition;\n  };\n\n  StateNode.prototype.formatTransitions = function () {\n    var e_10, _a;\n\n    var _this = this;\n\n    var onConfig;\n\n    if (!this.config.on) {\n      onConfig = [];\n    } else if (Array.isArray(this.config.on)) {\n      onConfig = this.config.on;\n    } else {\n      var _b = this.config.on,\n          _c = WILDCARD,\n          _d = _b[_c],\n          wildcardConfigs = _d === void 0 ? [] : _d,\n          strictTransitionConfigs_1 = __rest(_b, [typeof _c === \"symbol\" ? _c : _c + \"\"]);\n\n      onConfig = flatten(Object.keys(strictTransitionConfigs_1).map(function (key) {\n        if (!IS_PRODUCTION && key === NULL_EVENT) {\n          warn(false, \"Empty string transition configs (e.g., `{ on: { '': ... }}`) for transient transitions are deprecated. Specify the transition in the `{ always: ... }` property instead. \" + \"Please check the `on` configuration for \\\"#\".concat(_this.id, \"\\\".\"));\n        }\n\n        var transitionConfigArray = toTransitionConfigArray(key, strictTransitionConfigs_1[key]);\n\n        if (!IS_PRODUCTION) {\n          validateArrayifiedTransitions(_this, key, transitionConfigArray);\n        }\n\n        return transitionConfigArray;\n      }).concat(toTransitionConfigArray(WILDCARD, wildcardConfigs)));\n    }\n\n    var eventlessConfig = this.config.always ? toTransitionConfigArray('', this.config.always) : [];\n    var doneConfig = this.config.onDone ? toTransitionConfigArray(String(done(this.id)), this.config.onDone) : [];\n\n    if (!IS_PRODUCTION) {\n      warn(!(this.config.onDone && !this.parent), \"Root nodes cannot have an \\\".onDone\\\" transition. Please check the config of \\\"\".concat(this.id, \"\\\".\"));\n    }\n\n    var invokeConfig = flatten(this.invoke.map(function (invokeDef) {\n      var settleTransitions = [];\n\n      if (invokeDef.onDone) {\n        settleTransitions.push.apply(settleTransitions, __spreadArray([], __read(toTransitionConfigArray(String(doneInvoke(invokeDef.id)), invokeDef.onDone)), false));\n      }\n\n      if (invokeDef.onError) {\n        settleTransitions.push.apply(settleTransitions, __spreadArray([], __read(toTransitionConfigArray(String(error(invokeDef.id)), invokeDef.onError)), false));\n      }\n\n      return settleTransitions;\n    }));\n    var delayedTransitions = this.after;\n    var formattedTransitions = flatten(__spreadArray(__spreadArray(__spreadArray(__spreadArray([], __read(doneConfig), false), __read(invokeConfig), false), __read(onConfig), false), __read(eventlessConfig), false).map(function (transitionConfig) {\n      return toArray(transitionConfig).map(function (transition) {\n        return _this.formatTransition(transition);\n      });\n    }));\n\n    try {\n      for (var delayedTransitions_1 = __values(delayedTransitions), delayedTransitions_1_1 = delayedTransitions_1.next(); !delayedTransitions_1_1.done; delayedTransitions_1_1 = delayedTransitions_1.next()) {\n        var delayedTransition = delayedTransitions_1_1.value;\n        formattedTransitions.push(delayedTransition);\n      }\n    } catch (e_10_1) {\n      e_10 = {\n        error: e_10_1\n      };\n    } finally {\n      try {\n        if (delayedTransitions_1_1 && !delayedTransitions_1_1.done && (_a = delayedTransitions_1.return)) _a.call(delayedTransitions_1);\n      } finally {\n        if (e_10) throw e_10.error;\n      }\n    }\n\n    return formattedTransitions;\n  };\n\n  return StateNode;\n}();\n\nexport { StateNode };\n","import { StateNode } from './StateNode.js';\nimport { IS_PRODUCTION } from './environment.js';\n\nvar warned = false;\nfunction Machine(config, options, initialContext) {\n  if (initialContext === void 0) {\n    initialContext = config.context;\n  }\n\n  return new StateNode(config, options, initialContext);\n}\nfunction createMachine(config, options) {\n  if (!IS_PRODUCTION && !config.predictableActionArguments && !warned) {\n    warned = true;\n    console.warn('It is highly recommended to set `predictableActionArguments` to `true` when using `createMachine`. https://xstate.js.org/docs/guides/actions.html');\n  }\n\n  return new StateNode(config, options);\n}\n\nexport { Machine, createMachine };\n","import { __values } from './_virtual/_tslib.js';\nimport { matchesState } from './utils.js';\n\nfunction mapState(stateMap, stateId) {\n  var e_1, _a;\n\n  var foundStateId;\n\n  try {\n    for (var _b = __values(Object.keys(stateMap)), _c = _b.next(); !_c.done; _c = _b.next()) {\n      var mappedStateId = _c.value;\n\n      if (matchesState(mappedStateId, stateId) && (!foundStateId || stateId.length > foundStateId.length)) {\n        foundStateId = mappedStateId;\n      }\n    }\n  } catch (e_1_1) {\n    e_1 = {\n      error: e_1_1\n    };\n  } finally {\n    try {\n      if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n    } finally {\n      if (e_1) throw e_1.error;\n    }\n  }\n\n  return stateMap[foundStateId];\n}\n\nexport { mapState };\n","import { __values, __read } from './_virtual/_tslib.js';\nimport { State } from './State.js';\n\nfunction matchState(state, patterns, defaultValue) {\n  var e_1, _a;\n\n  var resolvedState = State.from(state, state instanceof State ? state.context : undefined);\n\n  try {\n    for (var patterns_1 = __values(patterns), patterns_1_1 = patterns_1.next(); !patterns_1_1.done; patterns_1_1 = patterns_1.next()) {\n      var _b = __read(patterns_1_1.value, 2),\n          stateValue = _b[0],\n          getValue = _b[1];\n\n      if (resolvedState.matches(stateValue)) {\n        return getValue(resolvedState);\n      }\n    }\n  } catch (e_1_1) {\n    e_1 = {\n      error: e_1_1\n    };\n  } finally {\n    try {\n      if (patterns_1_1 && !patterns_1_1.done && (_a = patterns_1.return)) _a.call(patterns_1);\n    } finally {\n      if (e_1) throw e_1.error;\n    }\n  }\n\n  return defaultValue(resolvedState);\n}\n\nexport { matchState };\n","function createSchema(schema) {\n  return schema;\n}\nvar t = createSchema;\n\nexport { createSchema, t };\n","import { assign as assign$1, send as send$1, sendParent as sendParent$1, sendUpdate as sendUpdate$1, forwardTo as forwardTo$1, doneInvoke as doneInvoke$1 } from './actions.js';\nimport * as actions from './actions.js';\nexport { actions };\nexport { toActorRef } from './Actor.js';\nexport { Interpreter, InterpreterStatus, interpret, spawn } from './interpreter.js';\nexport { Machine, createMachine } from './Machine.js';\nexport { mapState } from './mapState.js';\nexport { matchState } from './match.js';\nexport { createSchema, t } from './schema.js';\nexport { State } from './State.js';\nexport { StateNode } from './StateNode.js';\nexport { spawnBehavior } from './behaviors.js';\nexport { ActionTypes, SpecialTargets } from './types.js';\nexport { matchesState, toEventObject, toObserver, toSCXMLEvent } from './utils.js';\n\nvar assign = assign$1,\n    send = send$1,\n    sendParent = sendParent$1,\n    sendUpdate = sendUpdate$1,\n    forwardTo = forwardTo$1,\n    doneInvoke = doneInvoke$1;\n\nexport { assign, doneInvoke, forwardTo, send, sendParent, sendUpdate };\n","import { Machine } from \"xstate\";\r\n\r\ntype ToggleEvent = {\r\n  type: \"TOGGLE\";\r\n};\r\n\r\n// State Machine\r\nexport const toggleMachine = Machine<ToggleEvent>({\r\n  id: \"toggleButton\",\r\n  initial: \"idle\",\r\n  states: {\r\n    idle: {\r\n      on: { TOGGLE: \"active\" },\r\n    },\r\n    inactive: {\r\n      on: { TOGGLE: \"active\" },\r\n    },\r\n    active: {\r\n      on: { TOGGLE: \"inactive\" },\r\n    },\r\n  },\r\n});\r\n","export const noteSelects: NodeListOf<HTMLElement> =\r\n  document.querySelectorAll(\".selector\");\r\n\r\nexport const notesBlock: HTMLElement = document.querySelector(\r\n  \".notes\"\r\n) as HTMLElement;\r\n\r\nexport const cardInner = `\r\n            <textarea\r\n              type=\"text\"\r\n              placeholder=\"Computers themselves, and software yet to be developed, will revolutionize the way we learn.\"\r\n            ></textarea>\r\n            <div class=\"footer\">\r\n              <div class=\"date\">\r\n                <span>May 21, 2020</span>\r\n              </div>\r\n              <div class=\"edit\">\r\n                <button>\r\n                <i class=\"fas fa-edit\"></i>\r\n                </button>\r\n              </div>\r\n            </div>   \r\n          \r\n`;\r\n\r\nexport const button: HTMLElement = document.querySelector(\r\n  \"#addNote\"\r\n) as HTMLElement;\r\n","import anime from \"animejs/lib/anime.es.js\";\r\nimport { interpret } from \"xstate\";\r\nimport { toggleMachine } from \"./state\";\r\nimport { button } from \"./constants\";\r\n\r\n// Using state machines to handle dots state\r\nconst toggleService = interpret(toggleMachine);\r\n\r\nconst toggle = () => {\r\n  button.addEventListener(\"click\", () => {\r\n    toggleService.send(\"TOGGLE\");\r\n  });\r\n};\r\n\r\nconst buttonDisabled = (btnStatus: boolean) => {\r\n  if (btnStatus) {\r\n    button.setAttribute(\"disabled\", \"\");\r\n  } else {\r\n    button.removeAttribute(\"disabled\");\r\n  }\r\n};\r\n\r\n// Menu animation\r\nconst animate = (status: any) => {\r\n  const tl = anime.timeline();\r\n  if (status === \"active\") {\r\n    buttonDisabled(true);\r\n    tl.add({\r\n      targets: button,\r\n      translateY: [0, -12, 0],\r\n      scale: [1, 0.85, 1],\r\n      rotate: 316,\r\n      duration: 600,\r\n      easing: \"easeInOutSine\",\r\n    })\r\n      .add(\r\n        {\r\n          targets: \".note-selectors .first\",\r\n          translateY: [0, 80],\r\n          duration: 3200,\r\n          scaleY: [1.8, 1],\r\n        },\r\n        \"-=400\"\r\n      )\r\n      .add(\r\n        {\r\n          targets: \".note-selectors .other\",\r\n          translateY: function (el) {\r\n            return [el.getAttribute(\"data-from\"), el.getAttribute(\"data-to\")];\r\n          },\r\n          scaleY: [0, 1],\r\n          duration: 1600,\r\n          opacity: {\r\n            value: 1,\r\n            duration: 10,\r\n          },\r\n          delay: anime.stagger(240),\r\n          complete: function () {\r\n            buttonDisabled(false);\r\n          },\r\n        },\r\n        \"-=2600\"\r\n      );\r\n  } else if (status === \"inactive\") {\r\n    buttonDisabled(true);\r\n    tl.add({\r\n      targets: button,\r\n      rotate: 0,\r\n      duration: 600,\r\n      easing: \"easeInOutSine\",\r\n    }).add(\r\n      {\r\n        targets: \".note-selectors .selector\",\r\n        translateY: function (el) {\r\n          return [el.getAttribute(\"data-to\"), 0];\r\n        },\r\n        duration: 400,\r\n        delay: anime.stagger(60),\r\n        easing: \"easeInOutSine\",\r\n        complete: function () {\r\n          buttonDisabled(false);\r\n        },\r\n      },\r\n      \"-=400\"\r\n    );\r\n  }\r\n};\r\n\r\nexport const init = () => {\r\n  toggleService\r\n    .onTransition((state) => {\r\n      animate(state.value);\r\n    })\r\n    .start();\r\n  toggle();\r\n};\r\n","import anime from \"animejs/lib/anime.es.js\";\r\nimport { noteSelects, notesBlock, cardInner } from \"./constants\";\r\n\r\nconst animateNote = (card) => {\r\n  const cardRect = card.getBoundingClientRect();\r\n  const notes: NodeListOf<HTMLElement> = document.querySelectorAll(\".note\");\r\n  const noteRect = document.querySelector(\".note\")!.getBoundingClientRect();\r\n  const tl = anime.timeline();\r\n\r\n  tl.add({\r\n    targets: card,\r\n    duration: 1000,\r\n    easing: \"easeInOutSine\",\r\n    translateX: 155,\r\n    translateY: (cardRect.top - noteRect.top) * -1,\r\n  })\r\n    .add(\r\n      {\r\n        targets: \".note\",\r\n        translateX: [0, noteRect.width + 50],\r\n        duration: 2000,\r\n        delay: 600,\r\n      },\r\n      \"-=1000\"\r\n    )\r\n    .add(\r\n      {\r\n        targets: card,\r\n        borderRadius: 24,\r\n        duration: 1000,\r\n        width: 300,\r\n        height: 310,\r\n        scaleY: {\r\n          value: [0, 1],\r\n          duration: 2000,\r\n        },\r\n        complete: function () {\r\n          card.className = \"note\";\r\n          card.style.pointerEvents = \"auto\";\r\n          noteSelects.forEach((el) => (el.style.pointerEvents = \"auto\"));\r\n          card.innerHTML = cardInner;\r\n          notes.forEach((nt) => {\r\n            nt.classList.add(\"note-transform\");\r\n          });\r\n          notesBlock.prepend(card);\r\n          card.style.transform = \"translate(0,0)\";\r\n        },\r\n      },\r\n      \"-=1500\"\r\n    );\r\n};\r\n\r\n// Add new card using dots\r\nexport const animateDot = () => {\r\n  noteSelects.forEach((el: HTMLElement) => {\r\n    el.addEventListener(\"click\", () => {\r\n      noteSelects.forEach((el) => (el.style.pointerEvents = \"none\"));\r\n      const notes: NodeListOf<HTMLElement> = document.querySelectorAll(\".note\");\r\n      const dotRect = el.getBoundingClientRect();\r\n      const elStyle = getComputedStyle(el);\r\n\r\n      const newDot = document.createElement(\"div\");\r\n      newDot.style.width = `${dotRect.width}px`;\r\n      newDot.style.height = `${dotRect.height}px`;\r\n      newDot.style.background = elStyle.background;\r\n      newDot.style.pointerEvents = \"none\";\r\n\r\n      el.prepend(newDot);\r\n\r\n      notes.forEach((nt) => {\r\n        nt.classList.remove(\"note-transform\");\r\n      });\r\n\r\n      animateNote(newDot);\r\n    });\r\n  });\r\n};\r\n","import { init } from \"./scripts/menu\";\r\nimport { animateDot } from \"./scripts/card\";\r\ninit();\r\nanimateDot();\r\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}